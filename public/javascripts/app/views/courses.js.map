{"version":3,"sources":["app/templates/courses/activate-licenses-modal.jade","app/templates/courses/change-course-language-modal.jade","app/templates/courses/choose-language-modal.jade","app/templates/courses/classroom-level-popover.jade","app/templates/courses/classroom-settings-modal.jade","app/templates/courses/classroom-view.jade","app/templates/courses/course-details.jade","app/templates/courses/course-enroll.jade","app/templates/courses/courses-not-assigned-modal.jade","app/templates/courses/courses-update-account-view.jade","app/templates/courses/courses-view.jade","app/templates/courses/enrollments-view.jade","app/templates/courses/hero-select-modal.jade","app/templates/courses/invite-to-classroom-modal.jade","app/templates/courses/join-class-modal.jade","app/templates/courses/remove-student-modal.jade","app/templates/courses/restricted-to-students-view.jade","app/templates/courses/student-courses-view.jade","app/templates/courses/teacher-class-view.jade","app/templates/courses/teacher-classes-view.jade","app/templates/courses/teacher-courses-view.jade","app/templates/courses/teacher-dashboard-nav.jade","app/views/courses/ActivateLicensesModal.coffee","app/views/courses/ChangeCourseLanguageModal.coffee","app/views/courses/ChooseLanguageModal.coffee","app/views/courses/ClassroomSettingsModal.coffee","app/views/courses/ClassroomView.coffee","app/views/courses/CourseDetailsView.coffee","app/views/courses/CourseEnrollView.coffee","app/views/courses/CoursesNotAssignedModal.coffee","app/views/courses/CoursesUpdateAccountView.coffee","app/views/courses/CoursesView.coffee","app/views/courses/EnrollmentsView.coffee","app/views/courses/HeroSelectModal.coffee","app/views/courses/InviteToClassroomModal.coffee","app/views/courses/JoinClassModal.coffee","app/views/courses/RemoveStudentModal.coffee","app/views/courses/RestrictedToStudentsView.coffee","app/views/courses/StudentCoursesView.coffee","app/views/courses/TeacherClassView.coffee","app/views/courses/TeacherClassesView.coffee","app/views/courses/TeacherCoursesView.coffee"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9GA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvGA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlmBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3UA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvMA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5HA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhRA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7NA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7GA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1LA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/rBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzPA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnNA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAAA;;ACAA;EAAA;;;AAAA,YAAY,QAAQ,sBAAR;;AACZ,QAAQ,QAAQ,cAAR;;AACR,WAAW,QAAQ,2CAAR;;AACX,iBAAiB,QAAQ,4BAAR;;AACjB,WAAW,QAAQ,sBAAR;;AACX,YAAY,QAAQ,kBAAR;;AACZ,aAAa,QAAQ,wBAAR;;AACb,OAAO,QAAQ,aAAR;;AACP,QAAQ,QAAQ,mBAAR;;AAER,MAAM,CAAC,OAAP,GAAuB;;;;;;;kCACrB,KAAI;;kCACJ,WAAU;;kCAEV,SACE;IAAA,8CAA8C,wBAA9C;IACA,kCAAkC,oBADlC;IAEA,eAAe,cAFf;IAGA,gCAAgC,8BAHhC;;;kCAKF,kBAAiB,SAAC,OAAD;AACf;IAAA,gBAAgB,OAAO,CAAC,aAAR,IAAyB,OAAO,CAAC;IACjD,qBAAqB,CAAC,CAAC,MAAF,CAAS,aAAa,CAAC,MAAvB,EAA+B,SA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","file":"public/javascripts/app/views/courses.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,state = locals_.state,paid = locals_.paid;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<div class=\\\"clearfix\\\"></div><div class=\\\"text-center\\\"><h1 data-i18n=\\\"teacher.apply_licenses\\\"></h1><h2 data-i18n=\\\"courses.grants_lifetime_access\\\"></h2></div></div><div class=\\\"modal-body\\\">\");\nvar numToEnroll = state.get('visibleSelectedUsers').length\nvar unusedEnrollments = view.prepaids.totalMaxRedeemers() - view.prepaids.totalRedeemers()\nvar tooManySelected = numToEnroll > unusedEnrollments\nvar noneSelected = numToEnroll == 0\nif ( view.classrooms.length > 1)\n{\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-sm-10 col-sm-offset-1\\\"><div class=\\\"text-center m-b-3\\\"><div class=\\\"small color-navy\\\"><span data-i18n=\\\"teacher.show_students_from\\\"></span><span class=\\\"spr\\\">:</span></div><select class=\\\"classroom-select\\\">\");\n// iterate view.classrooms.models\n;(function(){\n  var $$obj = view.classrooms.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var classroom = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'selected':((view.classroom ? classroom.id === view.classroom.id : false)), 'value':(classroom.id) }, {\"selected\":true,\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var classroom = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'selected':((view.classroom ? classroom.id === view.classroom.id : false)), 'value':(classroom.id) }, {\"selected\":true,\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<option\" + (jade.attrs({ 'selected':((!view.classroom)), 'value':(''), 'data-i18n':('teacher.all_students') }, {\"selected\":true,\"value\":true,\"data-i18n\":true})) + \"></option></select></div></div></div>\");\n}\nbuf.push(\"<form class=\\\"form m-t-3\\\"><span data-i18n=\\\"teacher.apply_licenses_to_the_following_students\\\"></span><span>:</span><div class=\\\"well form-group\\\">\");\nvar enrolledUsers = view.users.filter(function(user){ return user.isEnrolled() })\nvar unenrolledUsers = view.users.filter(function(user){ return !user.isEnrolled() })\n// iterate unenrolledUsers\n;(function(){\n  var $$obj = unenrolledUsers;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(false), 'checked':(selected), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(false), 'checked':(selected), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  }\n}).call(this);\n\nif ( enrolledUsers.length > 0)\n{\nbuf.push(\"<div class=\\\"small-details m-t-3\\\"><span data-i18n=\\\"teacher.students_have_licenses\\\"></span></div>\");\n}\n// iterate enrolledUsers\n;(function(){\n  var $$obj = enrolledUsers;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(true), 'checked':(true), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(true), 'checked':(true), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\nif ( state.get('error'))\n{\nbuf.push(\"<div class=\\\"alert alert-danger\\\">\" + (jade.escape(null == (jade.interp = state.get('error')) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"<div id=\\\"submit-form-area\\\" class=\\\"text-center\\\"><p\" + (jade.attrs({ \"class\": [('small-details'),('not-enough-enrollments'),((tooManySelected ? 'visible' : ''))] }, {\"class\":true})) + \"><span data-i18n=\\\"teacher.not_enough_enrollments\\\"></span></p><p class=\\\"small-details\\\"><span data-i18n=\\\"courses.enrollment_credits_available\\\" class=\\\"spr\\\"></span><span id=\\\"total-available\\\">\" + (jade.escape(null == (jade.interp = view.prepaids.totalAvailable()) ? \"\" : jade.interp)) + \"</span></p><p><button\" + (jade.attrs({ 'id':('activate-licenses-btn'), 'type':(\"submit\"), \"class\": [('btn'),('btn-lg'),('btn-primary'),((tooManySelected || noneSelected ? 'disabled' : ''))] }, {\"class\":true,\"type\":true})) + \"><span data-i18n=\\\"teacher.apply_licenses\\\"></span> (<span id=\\\"total-selected-span\\\">\" + (jade.escape(null == (jade.interp = numToEnroll) ? \"\" : jade.interp)) + \"</span>)</button></p><p><a id=\\\"get-more-licenses-btn\\\" href=\\\"/teachers/licenses\\\" data-i18n=\\\"courses.get_enrollments\\\" class=\\\"btn btn-lg btn-primary-alt\\\"></a></p></div></form></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,me = locals_.me;buf.push(\"<div class=\\\"modal-dialog game\\\"><div class=\\\"background-wrapper\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<h3 data-i18n=\\\"courses.change_language\\\"></h3><div class=\\\"clearfix\\\"></div></div><div class=\\\"modal-body\\\"><div id=\\\"choice-area\\\" class=\\\"text-center\\\">\");\nvar currentLanguage = (me.get('aceConfig') || {}).language || 'python';\nbuf.push(\"<button data-language=\\\"python\\\" class=\\\"lang-choice-btn btn btn-success btn-lg\\\">\");\nif ( currentLanguage === 'python')\n{\nbuf.push(\"<span data-i18n=\\\"courses.keep_using\\\" class=\\\"spr\\\"></span><span>Python</span>\");\n}\nelse\n{\nbuf.push(\"<span data-i18n=\\\"courses.switch_to\\\" class=\\\"spr\\\"></span><span>Python</span>\");\n}\nbuf.push(\"</button><p><span class=\\\"spr\\\">-</span><span data-i18n=\\\"general.or\\\" class=\\\"text-uppercase\\\"></span><span class=\\\"spl\\\">-</span></p><button data-language=\\\"javascript\\\" class=\\\"lang-choice-btn btn btn-default\\\">\");\nif ( currentLanguage === 'javascript')\n{\nbuf.push(\"<span data-i18n=\\\"courses.keep_using\\\" class=\\\"spr\\\"></span><span>JavaScript</span>\");\n}\nelse\n{\nbuf.push(\"<span data-i18n=\\\"courses.switch_to\\\" class=\\\"spr\\\"></span><span>JavaScript</span>\");\n}\nbuf.push(\"</button></div><div id=\\\"saving-progress\\\" class=\\\"progress progress-striped active hide\\\"><div style=\\\"width: 100%\\\" class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view;buf.push(\"<div class=\\\"modal-dialog game\\\"><div class=\\\"background-wrapper\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<div class=\\\"clearfix\\\"></div><div class=\\\"text-center\\\"><h2 data-i18n=\\\"courses.greetings\\\" class=\\\"modal-title\\\"></h2><h3 data-i18n=\\\"choose_hero.programming_language_description\\\"></h3></div></div><div class=\\\"modal-body\\\"><div id=\\\"choice-area\\\" class=\\\"text-center\\\"><button data-language=\\\"python\\\" class=\\\"lang-choice-btn btn btn-success btn-lg\\\"><img src=\\\"/images/common/code_languages/python_small.png\\\"/><span class=\\\"spl\\\">Python</span></button><p data-i18n=\\\"choose_hero.python_blurb\\\"></p><button data-language=\\\"javascript\\\" class=\\\"lang-choice-btn btn btn-default\\\"><img src=\\\"/images/common/code_languages/javascript_small.png\\\"/><span class=\\\"spl\\\">JavaScript</span></button><p data-i18n=\\\"choose_hero.javascript_blurb\\\"></p></div><div id=\\\"saving-progress\\\" class=\\\"progress progress-striped active hide\\\"><div style=\\\"width: 100%\\\" class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),session = locals_.session,i = locals_.i,level = locals_.level,moment = locals_.moment,canViewSolution = locals_.canViewSolution;var completed = session && session.get('state') && session.get('state').complete;\nbuf.push(\"<h3>\" + (jade.escape((jade.interp = i) == null ? '' : jade.interp)) + \". \" + (jade.escape((jade.interp = level.get('name').replace('Course: ', '')) == null ? '' : jade.interp)) + \"</h3>\");\nif ( session)\n{\nbuf.push(\"<p><span data-i18n=\\\"courses.play_time\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape((jade.interp = moment.duration(session.get('playtime'), \"seconds\").humanize()) == null ? '' : jade.interp)) + \"</span></p><p><span\" + (jade.attrs({ 'data-i18n':(completed ? \"courses.completed\" : \"clans.last_played\"), \"class\": [('spr')] }, {\"data-i18n\":true})) + \"></span><span>\" + (jade.escape((jade.interp = moment(session.get('changed')).format('MMMM Do YYYY, h:mm:ss a')) == null ? '' : jade.interp)) + \"</span></p>\");\n}\nif ( session && canViewSolution)\n{\nbuf.push(\"<strong\" + (jade.attrs({ 'data-i18n':(completed ? \"clans.view_solution\" : \"clans.view_attempt\") }, {\"data-i18n\":true})) + \"></strong>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,_ = locals_._,me = locals_.me;var ageRange_mixin = function(name){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<select\" + (jade.attrs({ 'name':(name), 'value':(view.classroom.get(name)), \"class\": [('age-range-select'),('form-control')] }, {\"name\":true,\"value\":true})) + \"><option value=\\\"\\\">-</option><option value=\\\"&lt;6\\\" data-i18n=\\\"courses.student_age_range_younger\\\"></option>\");\n// iterate _.range(6,18)\n;(function(){\n  var $$obj = _.range(6,18);\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var i = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(i) }, {\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = i) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var i = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(i) }, {\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = i) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<option value=\\\"18\\\" data-i18n=\\\"courses.student_age_range_older\\\"></option></select>\");\n};\nbuf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nif ( view.classroom.isNew())\n{\nbuf.push(\"<h3 data-i18n=\\\"courses.create_new_class\\\" class=\\\"modal-title\\\"></h3>\");\n}\nelse\n{\nbuf.push(\"<h3 data-i18n=\\\"courses.edit_settings1\\\" class=\\\"modal-title\\\"></h3>\");\n}\nbuf.push(\"</div><div class=\\\"modal-body\\\"><form><div class=\\\"form-group\\\"><label data-i18n=\\\"courses.class_name\\\"></label><input\" + (jade.attrs({ 'id':('name-input'), 'name':(\"name\"), 'type':('text'), 'value':(view.classroom.get('name')), \"class\": [('form-control')] }, {\"name\":true,\"type\":true,\"value\":true})) + \"/></div><div class=\\\"form-group\\\"><label><span data-i18n=\\\"general.description\\\"></span><i data-i18n=\\\"signup.optional\\\" class=\\\"spl text-muted\\\"></i></label><textarea name=\\\"description\\\" rows=\\\"2\\\" class=\\\"form-control\\\">\" + (jade.escape(null == (jade.interp = view.classroom.get('description')) ? \"\" : jade.interp)) + \"</textarea></div><div class=\\\"form-group\\\"><label data-i18n=\\\"choose_hero.programming_language\\\"></label>\");\nvar aceConfig = view.classroom.get('aceConfig') || {};\nvar languageDisabled = !!_.size(view.classroom.get('members'));\nbuf.push(\"<div data-i18n=\\\"courses.language_cannot_change\\\" class=\\\"help-block small text-navy\\\"></div><select\" + (jade.attrs({ 'id':('programming-language-select'), 'name':(\"language\"), 'value':(aceConfig.language), 'disabled':(languageDisabled), \"class\": [('form-control')] }, {\"name\":true,\"value\":true,\"disabled\":true})) + \">\");\nvar aceConfig = view.classroom.get('aceConfig') || {};\nbuf.push(\"<option value=\\\"\\\" data-i18n=\\\"courses.language_select\\\"></option><option value=\\\"python\\\">Python</option><option value=\\\"javascript\\\">JavaScript</option></select></div><div class=\\\"form-group\\\"><label><span data-i18n=\\\"courses.avg_student_exp_label\\\"></span><i data-i18n=\\\"signup.optional\\\" class=\\\"spl text-muted\\\"></i></label><div data-i18n=\\\"courses.avg_student_exp_desc\\\" class=\\\"help-block small text-navy\\\"></div><select\" + (jade.attrs({ 'name':(\"averageStudentExp\"), 'value':(view.classroom.get('averageStudentExp')), \"class\": [('form-control')] }, {\"name\":true,\"value\":true})) + \"><option value=\\\"\\\" data-i18n=\\\"courses.avg_student_exp_select\\\"></option><option value=\\\"none\\\" data-i18n=\\\"courses.avg_student_exp_none\\\"></option><option value=\\\"beginner\\\" data-i18n=\\\"courses.avg_student_exp_beginner\\\"></option><option value=\\\"intermediate\\\" data-i18n=\\\"courses.avg_student_exp_intermediate\\\"></option><option value=\\\"advanced\\\" data-i18n=\\\"courses.avg_student_exp_advanced\\\"></option><option value=\\\"varied\\\" data-i18n=\\\"courses.avg_student_exp_varied\\\"></option></select></div><div class=\\\"form-group\\\"><label><span data-i18n=\\\"courses.student_age_range_label\\\"></span><i data-i18n=\\\"signup.optional\\\" class=\\\"spl text-muted\\\"></i></label><div>\");\nageRange_mixin(\"ageRangeMin\");\nbuf.push(\"<span data-i18n=\\\"courses.student_age_range_to\\\" class=\\\"spl spr\\\"></span>\");\nageRange_mixin(\"ageRangeMax\");\nbuf.push(\"</div>\");\nvar ageRange_mixin = function(name){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<select\" + (jade.attrs({ 'name':(name), 'value':(view.classroom.get(name)), \"class\": [('age-range-select'),('form-control')] }, {\"name\":true,\"value\":true})) + \"><option value=\\\"\\\">-</option><option value=\\\"&lt;6\\\" data-i18n=\\\"courses.student_age_range_younger\\\"></option>\");\n// iterate _.range(6,18)\n;(function(){\n  var $$obj = _.range(6,18);\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var i = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(i) }, {\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = i) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var i = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(i) }, {\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = i) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<option value=\\\"18\\\" data-i18n=\\\"courses.student_age_range_older\\\"></option></select>\");\n};\nbuf.push(\"</div></form></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"><div class=\\\"text-center\\\">\");\nif ( view.classroom.isNew())\n{\nbuf.push(\"<button id=\\\"save-settings-btn\\\" data-i18n=\\\"courses.create_class\\\" class=\\\"btn btn-primary btn-lg\\\"></button>\");\n}\nelse\n{\nbuf.push(\"<button id=\\\"save-settings-btn\\\" data-i18n=\\\"common.save_changes\\\" class=\\\"btn btn-primary btn-lg\\\"></button>\");\n}\nif ( me.isAdmin())\n{\nbuf.push(\"<hr/><!-- DNT--><h3>Admin Only</h3><button id=\\\"update-courses-btn\\\" class=\\\"btn btn-forest btn-lg\\\">Update Courses</button>\");\n}\nbuf.push(\"</div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),features = locals_.features,me = locals_.me,view = locals_.view,_ = locals_._,i18n = locals_.i18n,usesSocialMedia = locals_.usesSocialMedia,isIE = locals_.isIE,fbRef = locals_.fbRef;buf.push(\"<div id=\\\"site-nav\\\"><a href=\\\"/\\\"><img id=\\\"nav-logo\\\" src=\\\"/images/pages/base/logo.png\\\" title=\\\"CodeCombat - Learn how to code by playing a game\\\" alt=\\\"CodeCombat\\\"/></a><div id=\\\"site-nav-links\\\"><a href=\\\"/\\\"><img id=\\\"small-nav-logo\\\" src=\\\"/images/pages/base/logo.png\\\" title=\\\"CodeCombat - Learn how to code by playing a game\\\" alt=\\\"CodeCombat\\\"/></a><a href=\\\"/\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span></a>\");\nif ( !features.playViewsOnly)\n{\nbuf.push(\"<a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a>\");\nif ( me.isStudent())\n{\nbuf.push(\"<a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a>\");\n}\nif ( me.isTeacher())\n{\nbuf.push(\"<a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a>\");\n}\nbuf.push(\"<a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a>\");\nif ( me.get('anonymous') === false)\n{\nbuf.push(\"<span class=\\\"dropdown\\\"><button href=\\\"#\\\" data-toggle=\\\"dropdown\\\" class=\\\"btn btn-sm header-font dropdown-toggle\\\">\");\nif ( me.get('photoURL'))\n{\nbuf.push(\"<img\" + (jade.attrs({ 'src':(me.getPhotoURL(18)), 'alt':(\"\"), \"class\": [('account-settings-image')] }, {\"src\":true,\"alt\":true})) + \"/>\");\n}\nelse\n{\nbuf.push(\"<i class=\\\"glyphicon glyphicon-user\\\"></i>\");\n}\nbuf.push(\"<span data-i18n=\\\"nav.account\\\" href=\\\"/account\\\" class=\\\"spl spr\\\"></span><span class=\\\"caret\\\"></span></button><ul role=\\\"menu\\\" class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><div\" + (jade.attrs({ 'style':(\"background-image: url(\" + (me.getPhotoURL()) + \")\"), \"class\": [('img-circle')] }, {\"style\":true})) + \"></div></a><h3>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h3></li><li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li></ul></span>\");\n}\nelse\n{\nbuf.push(\"<button data-i18n=\\\"login.sign_up\\\" class=\\\"btn btn-sm btn-primary header-font signup-button\\\"></button><button data-i18n=\\\"login.log_in\\\" class=\\\"btn btn-sm btn-default header-font login-button\\\"></button>\");\n}\n}\nbuf.push(\"<select class=\\\"language-dropdown form-control\\\"></select></div></div><div id=\\\"site-content-area\\\">\");\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<div class=\\\"alert alert-danger text-center\\\"><!-- DNT: Temporary--><h3>ATTENTION TEACHERS:</h3><p>We are transitioning to a new classroom management system; this page will soon be student-only.</p><a href=\\\"/teachers/classes\\\">Go to teachers area.</a></div>\");\n}\nvar isOwner = view.classroom ? view.classroom.get('ownerID') === me.id : false;\nif ( isOwner)\n{\nbuf.push(\"<a href=\\\"/teachers/classes\\\" data-i18n=\\\"courses.back_classrooms\\\"></a>\");\n}\nelse\n{\nbuf.push(\"<a href=\\\"/students\\\" data-i18n=\\\"courses.back_courses\\\"></a>\");\n}\nif ( !me.isAnonymous())\n{\nbuf.push(\"<h1><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = view.classroom.get('name')) ? \"\" : jade.interp)) + \"</span>\");\nif ( isOwner)\n{\nbuf.push(\"<a id=\\\"edit-class-details-link\\\"><small data-i18n=\\\"courses.edit_details\\\"></small></a>\");\n}\nbuf.push(\"</h1>\");\nif ( view.classroom.get('description'))\n{\nbuf.push(\"<p>\" + (jade.escape(null == (jade.interp = view.classroom.get('description')) ? \"\" : jade.interp)) + \"</p>\");\n}\nbuf.push(\"<h3 data-i18n=\\\"courses.stats\\\"></h3><table class=\\\"progress-stats-container\\\">\");\nvar stats = view.classStats()\nbuf.push(\"<tr><td data-i18n=\\\"courses.total_students\\\"></td><td><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = _.size(view.classroom.get('members'))) ? \"\" : jade.interp)) + \"</span></td></tr><tr><td data-i18n=\\\"courses.average_time\\\"></td><td>\" + (jade.escape(null == (jade.interp = stats.averagePlaytime) ? \"\" : jade.interp)) + \"</td></tr><tr><td data-i18n=\\\"courses.total_time\\\"></td><td>\" + (jade.escape(null == (jade.interp = stats.totalPlaytime) ? \"\" : jade.interp)) + \"</td></tr><tr><td data-i18n=\\\"courses.average_levels\\\"></td><td>\" + (jade.escape(null == (jade.interp = stats.averageLevelsComplete) ? \"\" : jade.interp)) + \"</td></tr><tr><td data-i18n=\\\"courses.total_levels\\\"></td><td>\" + (jade.escape(null == (jade.interp = stats.totalLevelsComplete) ? \"\" : jade.interp)) + \"</td></tr></table><h1><span data-i18n=\\\"courses.students\\\"></span>\");\nif ( view.teacherMode)\n{\nbuf.push(\"<div id=\\\"main-button-area\\\" class=\\\"pull-right\\\"><button id=\\\"add-students-btn\\\" data-i18n=\\\"courses.add_students\\\" class=\\\"btn btn-primary text-uppercase\\\"></button><button id=\\\"activate-licenses-btn\\\" data-i18n=\\\"courses.enroll_paid\\\" class=\\\"btn btn-info text-uppercase\\\"></button><a\" + (jade.attrs({ 'href':(\"/courses/purchase?from-classroom=\"+view.classroom.id), 'data-i18n':(\"courses.purchase_enrollments\"), \"class\": [('btn'),('btn-success'),('text-uppercase')] }, {\"href\":true,\"data-i18n\":true})) + \"></a></div>\");\n}\nbuf.push(\"</h1><hr/>\");\n// iterate view.users.models\n;(function(){\n  var $$obj = view.users.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var user = $$obj[$index];\n\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"student-name\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</div></div><div class=\\\"col-md-6\\\">\");\nif ( view.teacherMode)\n{\nbuf.push(\"<a\" + (jade.attrs({ 'data-user-id':(user.id), \"class\": [('remove-student-link'),('pull-right'),('text-uppercase')] }, {\"data-user-id\":true})) + \"><span class=\\\"glyphicon glyphicon-remove\\\"></span><span data-i18n=\\\"courses.remove_student\\\" class=\\\"spl\\\"></span></a>\");\n}\nbuf.push(\"</div></div>\");\nvar lastPlayedString = view.userLastPlayedString(user);\nvar playtime = view.userPlaytimeString(user);\nif ( lastPlayedString || playtime)\n{\nbuf.push(\"<div id=\\\"student-stats-row\\\" class=\\\"row\\\">\");\nif ( lastPlayedString)\n{\nbuf.push(\"<div class=\\\"col-sm-6\\\"><span data-i18n=\\\"user.last_played\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = lastPlayedString) ? \"\" : jade.interp)) + \"</span></div>\");\n}\nif ( playtime)\n{\nbuf.push(\"<div class=\\\"col-sm-6\\\"><span data-i18n=\\\"clans.playtime\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = playtime) ? \"\" : jade.interp)) + \"</span></div>\");\n}\nbuf.push(\"</div>\");\n}\nvar paidFor = user.isEnrolled();\n// iterate view.courseInstances.models\n;(function(){\n  var $$obj = view.courseInstances.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var courseInstance = $$obj[$index];\n\nvar inCourse = _.contains(courseInstance.get('members'), user.id);\nif ( !(inCourse || view.teacherMode))\n{\ncontinue;\n}\nvar course = view.courses.get(courseInstance.get('courseID'));\nvar sessions = courseInstance.sessionsByUser[user.id] || [];\nif ( !(course.get('free') || paidFor))\n{\ncontinue;\n}\nif ( inCourse)\n{\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-sm-3 text-right\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-9\\\">\");\nif ( inCourse)\n{\nvar levels = view.classroom.getLevels({courseID: course.id});\nvar numLevels = levels.size();\nvar sessionMap = _.zipObject(_.map(sessions, function(s) { return s.get('level').original; }), sessions);\nvar levelCellWidth = 100.00;\nif ( numLevels > 0)\n{\nlevelCellWidth = 100.00 / numLevels;\n}\nvar css = \"width:\"+levelCellWidth+\"%;\"\nvar i = 0;\nbuf.push(\"<div class=\\\"progress\\\">\");\n// iterate levels.models\n;(function(){\n  var $$obj = levels.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div></div>\");\n}\nelse if ( paidFor)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><button\" + (jade.attrs({ 'data-user-id':(user.id), 'data-course-instance-cid':(courseInstance.cid), \"class\": [('enable-btn'),('btn'),('btn-info'),('btn-sm'),('text-uppercase')] }, {\"data-user-id\":true,\"data-course-instance-cid\":true})) + \"><span data-i18n=\\\"courses.assign\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span></button></div>\");\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var courseInstance = $$obj[$index];\n\nvar inCourse = _.contains(courseInstance.get('members'), user.id);\nif ( !(inCourse || view.teacherMode))\n{\ncontinue;\n}\nvar course = view.courses.get(courseInstance.get('courseID'));\nvar sessions = courseInstance.sessionsByUser[user.id] || [];\nif ( !(course.get('free') || paidFor))\n{\ncontinue;\n}\nif ( inCourse)\n{\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-sm-3 text-right\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-9\\\">\");\nif ( inCourse)\n{\nvar levels = view.classroom.getLevels({courseID: course.id});\nvar numLevels = levels.size();\nvar sessionMap = _.zipObject(_.map(sessions, function(s) { return s.get('level').original; }), sessions);\nvar levelCellWidth = 100.00;\nif ( numLevels > 0)\n{\nlevelCellWidth = 100.00 / numLevels;\n}\nvar css = \"width:\"+levelCellWidth+\"%;\"\nvar i = 0;\nbuf.push(\"<div class=\\\"progress\\\">\");\n// iterate levels.models\n;(function(){\n  var $$obj = levels.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div></div>\");\n}\nelse if ( paidFor)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><button\" + (jade.attrs({ 'data-user-id':(user.id), 'data-course-instance-cid':(courseInstance.cid), \"class\": [('enable-btn'),('btn'),('btn-info'),('btn-sm'),('text-uppercase')] }, {\"data-user-id\":true,\"data-course-instance-cid\":true})) + \"><span data-i18n=\\\"courses.assign\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span></button></div>\");\n}\n    }\n\n  }\n}).call(this);\n\nif ( view.teacherMode && !paidFor)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><p><em><span data-i18n=\\\"courses.enroll\\\" class=\\\"spr\\\"></span><strong>\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</strong><span data-i18n=\\\"courses.to_assign\\\" class=\\\"spl\\\"></span></em></p><p><button\" + (jade.attrs({ 'data-user-id':(user.id), \"class\": [('activate-single-license-btn'),('btn'),('btn-info'),('btn-sm'),('text-uppercase')] }, {\"data-user-id\":true})) + \"><span data-i18n=\\\"courses.enroll\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></button></p></div>\");\n}\nbuf.push(\"<hr/>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var user = $$obj[$index];\n\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"student-name\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</div></div><div class=\\\"col-md-6\\\">\");\nif ( view.teacherMode)\n{\nbuf.push(\"<a\" + (jade.attrs({ 'data-user-id':(user.id), \"class\": [('remove-student-link'),('pull-right'),('text-uppercase')] }, {\"data-user-id\":true})) + \"><span class=\\\"glyphicon glyphicon-remove\\\"></span><span data-i18n=\\\"courses.remove_student\\\" class=\\\"spl\\\"></span></a>\");\n}\nbuf.push(\"</div></div>\");\nvar lastPlayedString = view.userLastPlayedString(user);\nvar playtime = view.userPlaytimeString(user);\nif ( lastPlayedString || playtime)\n{\nbuf.push(\"<div id=\\\"student-stats-row\\\" class=\\\"row\\\">\");\nif ( lastPlayedString)\n{\nbuf.push(\"<div class=\\\"col-sm-6\\\"><span data-i18n=\\\"user.last_played\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = lastPlayedString) ? \"\" : jade.interp)) + \"</span></div>\");\n}\nif ( playtime)\n{\nbuf.push(\"<div class=\\\"col-sm-6\\\"><span data-i18n=\\\"clans.playtime\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = playtime) ? \"\" : jade.interp)) + \"</span></div>\");\n}\nbuf.push(\"</div>\");\n}\nvar paidFor = user.isEnrolled();\n// iterate view.courseInstances.models\n;(function(){\n  var $$obj = view.courseInstances.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var courseInstance = $$obj[$index];\n\nvar inCourse = _.contains(courseInstance.get('members'), user.id);\nif ( !(inCourse || view.teacherMode))\n{\ncontinue;\n}\nvar course = view.courses.get(courseInstance.get('courseID'));\nvar sessions = courseInstance.sessionsByUser[user.id] || [];\nif ( !(course.get('free') || paidFor))\n{\ncontinue;\n}\nif ( inCourse)\n{\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-sm-3 text-right\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-9\\\">\");\nif ( inCourse)\n{\nvar levels = view.classroom.getLevels({courseID: course.id});\nvar numLevels = levels.size();\nvar sessionMap = _.zipObject(_.map(sessions, function(s) { return s.get('level').original; }), sessions);\nvar levelCellWidth = 100.00;\nif ( numLevels > 0)\n{\nlevelCellWidth = 100.00 / numLevels;\n}\nvar css = \"width:\"+levelCellWidth+\"%;\"\nvar i = 0;\nbuf.push(\"<div class=\\\"progress\\\">\");\n// iterate levels.models\n;(function(){\n  var $$obj = levels.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div></div>\");\n}\nelse if ( paidFor)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><button\" + (jade.attrs({ 'data-user-id':(user.id), 'data-course-instance-cid':(courseInstance.cid), \"class\": [('enable-btn'),('btn'),('btn-info'),('btn-sm'),('text-uppercase')] }, {\"data-user-id\":true,\"data-course-instance-cid\":true})) + \"><span data-i18n=\\\"courses.assign\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span></button></div>\");\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var courseInstance = $$obj[$index];\n\nvar inCourse = _.contains(courseInstance.get('members'), user.id);\nif ( !(inCourse || view.teacherMode))\n{\ncontinue;\n}\nvar course = view.courses.get(courseInstance.get('courseID'));\nvar sessions = courseInstance.sessionsByUser[user.id] || [];\nif ( !(course.get('free') || paidFor))\n{\ncontinue;\n}\nif ( inCourse)\n{\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-sm-3 text-right\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-9\\\">\");\nif ( inCourse)\n{\nvar levels = view.classroom.getLevels({courseID: course.id});\nvar numLevels = levels.size();\nvar sessionMap = _.zipObject(_.map(sessions, function(s) { return s.get('level').original; }), sessions);\nvar levelCellWidth = 100.00;\nif ( numLevels > 0)\n{\nlevelCellWidth = 100.00 / numLevels;\n}\nvar css = \"width:\"+levelCellWidth+\"%;\"\nvar i = 0;\nbuf.push(\"<div class=\\\"progress\\\">\");\n// iterate levels.models\n;(function(){\n  var $$obj = levels.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var trimModel = $$obj[$index];\n\nvar level = view.levels.get(trimModel.get('original')); // get the level loaded through the db\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), i + 1)\ni++\nvar session = sessionMap[level.get('original')];\nbuf.push(\"<a\" + (jade.attrs({ 'href':(view.getLevelURL(level, course, courseInstance, session)) }, {\"href\":true})) + \">\");\nvar content = view.levelPopoverContent(level, session, levelNumber);\nif ( session && session.get('state') && session.get('state').complete)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-complete')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse if ( session)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-started')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nelse\n{\nbuf.push(\"<div\" + (jade.attrs({ 'style':(css), 'data-content':(content), 'data-toggle':('popover'), \"class\": [('progress-bar'),('progress-bar-default')] }, {\"style\":true,\"data-content\":true,\"data-toggle\":true})) + \">\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</a>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div></div>\");\n}\nelse if ( paidFor)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><button\" + (jade.attrs({ 'data-user-id':(user.id), 'data-course-instance-cid':(courseInstance.cid), \"class\": [('enable-btn'),('btn'),('btn-info'),('btn-sm'),('text-uppercase')] }, {\"data-user-id\":true,\"data-course-instance-cid\":true})) + \"><span data-i18n=\\\"courses.assign\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span></button></div>\");\n}\n    }\n\n  }\n}).call(this);\n\nif ( view.teacherMode && !paidFor)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><p><em><span data-i18n=\\\"courses.enroll\\\" class=\\\"spr\\\"></span><strong>\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</strong><span data-i18n=\\\"courses.to_assign\\\" class=\\\"spl\\\"></span></em></p><p><button\" + (jade.attrs({ 'data-user-id':(user.id), \"class\": [('activate-single-license-btn'),('btn'),('btn-info'),('btn-sm'),('text-uppercase')] }, {\"data-user-id\":true})) + \"><span data-i18n=\\\"courses.enroll\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></button></p></div>\");\n}\nbuf.push(\"<hr/>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</div><div class=\\\"achievement-corner\\\"></div><div id=\\\"site-footer\\\"><img id=\\\"footer-background\\\" src=\\\"/images/pages/base/nav_background.png\\\"/><div\" + (jade.attrs({ 'id':('footer-links'), \"class\": [(features.playViewsOnly ? 'hide' : '')] }, {\"class\":true})) + \"><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a>\");\n}\nbuf.push(\"<a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a><a href=\\\"https://jobs.lever.co/codecombat\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.careers\\\"></a><a href=\\\"/legal\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.legal\\\"></a><a href=\\\"/privacy\\\" tabindex=\\\"-1\\\" data-i18n=\\\"legal.privacy_title\\\"></a><a href=\\\"/contribute\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.contribute\\\"></a>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<a href=\\\"/play/ladder\\\" tabindex=\\\"-1\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a>\");\n}\nif ( me.isAdmin())\n{\nbuf.push(\"<a href=\\\"/admin\\\">Admin</a>\");\n}\nif ( usesSocialMedia)\n{\nbuf.push(\"<div class=\\\"share-buttons\\\">\");\nif ( !isIE)\n{\nbuf.push(\"<div data-href=\\\"http://codecombat.com\\\" data-size=\\\"medium\\\" class=\\\"g-plusone\\\"></div>\");\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-href':(\"https://www.facebook.com/codecombat\"), 'data-send':(\"false\"), 'data-layout':(\"button_count\"), 'data-width':(\"350\"), 'data-show-faces':(\"true\"), 'data-ref':(\"coco_footer_\" + (fbRef) + \"\"), \"class\": [('fb-like')] }, {\"data-href\":true,\"data-send\":true,\"data-layout\":true,\"data-width\":true,\"data-show-faces\":true,\"data-ref\":true})) + \"></div>\");\nif ( !isIE)\n{\nbuf.push(\"<a href=\\\"https://twitter.com/CodeCombat\\\" data-show-count=\\\"true\\\" data-show-screen-name=\\\"false\\\" data-dnt=\\\"true\\\" data-align=\\\"right\\\" data-i18n=\\\"nav.twitter_follow\\\" class=\\\"twitter-follow-button\\\"></a><iframe src=\\\"https://ghbtns.com/github-btn.html?user=codecombat&amp;repo=codecombat&amp;type=watch&amp;count=true\\\" allowtransparency=\\\"true\\\" frameborder=\\\"0\\\" scrolling=\\\"0\\\" width=\\\"110\\\" height=\\\"20\\\" class=\\\"github-star-button\\\"></iframe>\");\n}\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div><div id=\\\"footer-credits\\\"><span><span> All Rights Reserved</span><br/><span>CodeCombat 2015</span></span><img id=\\\"footer-logo\\\" src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><span><span>Site Design by</span><br/><a href=\\\"http://www.fullyillustrated.com/\\\">Fully Illustrated</a></span><!--a.firebase-bade(href=\\\"https://www.firebase.com/\\\")  // Not using right now--><!--  img(src=\\\"/images/pages/base/firebase.png\\\", alt=\\\"Powered by Firebase\\\")--></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),me = locals_.me,serverConfig = locals_.serverConfig,view = locals_.view,i18n = locals_.i18n;var accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav><div id=\\\"site-content-area\\\"><div class=\\\"container m-t-3\\\"><p><a href=\\\"/students\\\" data-i18n=\\\"courses.back_courses\\\"></a></p><p><strong>\");\nif ( view.courseInstance.get('name'))\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = view.courseInstance.get('name')) ? \"\" : jade.interp)) + \"</span>\");\n}\nelse if ( view.classroom.get('name'))\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = view.classroom.get('name')) ? \"\" : jade.interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span data-i18n=\\\"courses.unnamed_class\\\"></span>\");\n}\nbuf.push(\"</strong>\");\nif ( !view.owner.isNew() && view.getOwnerName() && view.courseInstance.get('name') != 'Single Player')\n{\nbuf.push(\"<span class=\\\"spl\\\">-</span><span data-i18n=\\\"courses.teacher\\\" class=\\\"spl\\\"></span><span class=\\\"spr\\\">:</span><span><strong>\" + (jade.escape(null == (jade.interp = view.getOwnerName()) ? \"\" : jade.interp)) + \"</strong></span>\");\n}\nbuf.push(\"</p><h1>\" + (jade.escape((jade.interp = i18n(view.course.attributes, 'name')) == null ? '' : jade.interp)) + \"\");\nif ( view.courseComplete)\n{\nbuf.push(\"<span class=\\\"spl\\\">-</span><span data-i18n=\\\"clans.complete_2\\\" class=\\\"spl\\\"></span><span>!</span>\");\n}\nbuf.push(\"</h1><p>\");\nif ( view.courseInstance.get('description'))\n{\n// iterate view.courseInstance.get('description').split('\\n')\n;(function(){\n  var $$obj = view.courseInstance.get('description').split('\\n');\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var line = $$obj[$index];\n\nbuf.push(\"<div>\" + (jade.escape(null == (jade.interp = line) ? \"\" : jade.interp)) + \"</div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var line = $$obj[$index];\n\nbuf.push(\"<div>\" + (jade.escape(null == (jade.interp = line) ? \"\" : jade.interp)) + \"</div>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</p><div data-i18n=\\\"courses.available_levels\\\" class=\\\"available-courses-title\\\"></div><table class=\\\"table table-striped table-condensed\\\"><thead><tr><th></th><th data-i18n=\\\"clans.status\\\"></th><th data-i18n=\\\"editor.level_components_type\\\"></th><th data-i18n=\\\"resources.level\\\"></th><th data-i18n=\\\"courses.concepts\\\"></th></tr></thead><tbody>\");\nvar previousLevelCompleted = true;\nvar lastLevelCompleted = view.getLastLevelCompleted();\nvar passedLastCompletedLevel = !lastLevelCompleted;\nvar levelCount = 0;\n// iterate view.levels.models\n;(function(){\n  var $$obj = view.levels.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var level = $$obj[$index];\n\nvar levelStatus = null;\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), ++levelCount);\nif ( view.userLevelStateMap[me.id])\n{\nlevelStatus = view.userLevelStateMap[me.id][level.get('original')]\n}\nbuf.push(\"<tr><td>\");\nif ( previousLevelCompleted || !passedLastCompletedLevel || levelStatus)\n{\nvar i18nTag = level.isType('course-ladder') ? 'play.compete' : 'common.play';\nbuf.push(\"<button\" + (jade.attrs({ 'data-level-slug':(level.get('slug')), 'data-i18n':(i18nTag), 'data-level-id':(level.get('original')), \"class\": [('btn'),('btn-forest'),('btn-play-level')] }, {\"data-level-slug\":true,\"data-i18n\":true,\"data-level-id\":true})) + \"></button>\");\nif ( level.get('shareable'))\n{\nvar levelOriginal = level.get('original');\nvar session = view.levelSessions.find(function(session) { return session.get('level').original === levelOriginal });\nif ( session)\n{\nvar url = '/play/' + level.get('type') + '-level/' + level.get('slug') + '/' + session.id + '?course=' + view.courseID;\nbuf.push(\"<a\" + (jade.attrs({ 'href':(url), \"class\": [('btn'),('btn-gold'),('btn-view-project-level')] }, {\"href\":true})) + \">\");\nif ( level.isType('game-dev'))\n{\nbuf.push(\"<span data-i18n=\\\"sharing.game\\\"></span>\");\n}\nelse\n{\nbuf.push(\"<span data-i18n=\\\"sharing.webpage\\\"></span>\");\n}\nbuf.push(\"</a>\");\n}\n}\n}\nbuf.push(\"</td><td>\");\nif ( view.userLevelStateMap[me.id])\n{\nbuf.push(\"<div>\" + (jade.escape(null == (jade.interp = view.userLevelStateMap[me.id][level.get('original')]) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</td><td>\" + (jade.escape((jade.interp = level.get('practice') ? 'practice' : 'required') == null ? '' : jade.interp)) + \"</td><td>\" + (jade.escape((jade.interp = levelNumber) == null ? '' : jade.interp)) + \". \" + (jade.escape((jade.interp = i18n(level.attributes, 'name').replace('Course: ', '')) == null ? '' : jade.interp)) + \"</td><td>\");\nif ( view.levelConceptMap[level.get('original')])\n{\n// iterate view.course.get('concepts')\n;(function(){\n  var $$obj = view.course.get('concepts');\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var concept = $$obj[$index];\n\nif ( view.levelConceptMap[level.get('original')][concept])\n{\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept), \"class\": [('spr'),('concept')] }, {\"data-i18n\":true})) + \"></span>\");\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var concept = $$obj[$index];\n\nif ( view.levelConceptMap[level.get('original')][concept])\n{\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept), \"class\": [('spr'),('concept')] }, {\"data-i18n\":true})) + \"></span>\");\n}\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</td>\");\nif ( level.get('original') === lastLevelCompleted)\n{\npassedLastCompletedLevel = true\n}\nif ( !level.get('practice'))\n{\nif ( view.userLevelStateMap[me.id])\n{\npreviousLevelCompleted = view.userLevelStateMap[me.id][level.get('original')] === 'complete'\n}\nelse\n{\npreviousLevelCompleted = false\n}\n}\nbuf.push(\"</tr>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var level = $$obj[$index];\n\nvar levelStatus = null;\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), ++levelCount);\nif ( view.userLevelStateMap[me.id])\n{\nlevelStatus = view.userLevelStateMap[me.id][level.get('original')]\n}\nbuf.push(\"<tr><td>\");\nif ( previousLevelCompleted || !passedLastCompletedLevel || levelStatus)\n{\nvar i18nTag = level.isType('course-ladder') ? 'play.compete' : 'common.play';\nbuf.push(\"<button\" + (jade.attrs({ 'data-level-slug':(level.get('slug')), 'data-i18n':(i18nTag), 'data-level-id':(level.get('original')), \"class\": [('btn'),('btn-forest'),('btn-play-level')] }, {\"data-level-slug\":true,\"data-i18n\":true,\"data-level-id\":true})) + \"></button>\");\nif ( level.get('shareable'))\n{\nvar levelOriginal = level.get('original');\nvar session = view.levelSessions.find(function(session) { return session.get('level').original === levelOriginal });\nif ( session)\n{\nvar url = '/play/' + level.get('type') + '-level/' + level.get('slug') + '/' + session.id + '?course=' + view.courseID;\nbuf.push(\"<a\" + (jade.attrs({ 'href':(url), \"class\": [('btn'),('btn-gold'),('btn-view-project-level')] }, {\"href\":true})) + \">\");\nif ( level.isType('game-dev'))\n{\nbuf.push(\"<span data-i18n=\\\"sharing.game\\\"></span>\");\n}\nelse\n{\nbuf.push(\"<span data-i18n=\\\"sharing.webpage\\\"></span>\");\n}\nbuf.push(\"</a>\");\n}\n}\n}\nbuf.push(\"</td><td>\");\nif ( view.userLevelStateMap[me.id])\n{\nbuf.push(\"<div>\" + (jade.escape(null == (jade.interp = view.userLevelStateMap[me.id][level.get('original')]) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</td><td>\" + (jade.escape((jade.interp = level.get('practice') ? 'practice' : 'required') == null ? '' : jade.interp)) + \"</td><td>\" + (jade.escape((jade.interp = levelNumber) == null ? '' : jade.interp)) + \". \" + (jade.escape((jade.interp = i18n(level.attributes, 'name').replace('Course: ', '')) == null ? '' : jade.interp)) + \"</td><td>\");\nif ( view.levelConceptMap[level.get('original')])\n{\n// iterate view.course.get('concepts')\n;(function(){\n  var $$obj = view.course.get('concepts');\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var concept = $$obj[$index];\n\nif ( view.levelConceptMap[level.get('original')][concept])\n{\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept), \"class\": [('spr'),('concept')] }, {\"data-i18n\":true})) + \"></span>\");\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var concept = $$obj[$index];\n\nif ( view.levelConceptMap[level.get('original')][concept])\n{\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept), \"class\": [('spr'),('concept')] }, {\"data-i18n\":true})) + \"></span>\");\n}\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</td>\");\nif ( level.get('original') === lastLevelCompleted)\n{\npassedLastCompletedLevel = true\n}\nif ( !level.get('practice'))\n{\nif ( view.userLevelStateMap[me.id])\n{\npreviousLevelCompleted = view.userLevelStateMap[me.id][level.get('original')] === 'complete'\n}\nelse\n{\npreviousLevelCompleted = false\n}\n}\nbuf.push(\"</tr>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</tbody></table></div></div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),features = locals_.features,me = locals_.me,view = locals_.view,usesSocialMedia = locals_.usesSocialMedia,isIE = locals_.isIE,fbRef = locals_.fbRef;var trial_and_questions_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<h3 data-i18n=\\\"courses.questions\\\"></h3><p><span class=\\\"spr\\\">Please contact</span><a href=\\\"mailto:team@codecombat.com\\\">team@codecombat.com</a></p>\");\n};\nbuf.push(\"<div id=\\\"site-nav\\\"><a href=\\\"/\\\"><img id=\\\"nav-logo\\\" src=\\\"/images/pages/base/logo.png\\\" title=\\\"CodeCombat - Learn how to code by playing a game\\\" alt=\\\"CodeCombat\\\"/></a><div id=\\\"site-nav-links\\\"><a href=\\\"/\\\"><img id=\\\"small-nav-logo\\\" src=\\\"/images/pages/base/logo.png\\\" title=\\\"CodeCombat - Learn how to code by playing a game\\\" alt=\\\"CodeCombat\\\"/></a><a href=\\\"/\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span></a>\");\nif ( !features.playViewsOnly)\n{\nbuf.push(\"<a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a>\");\nif ( me.isStudent())\n{\nbuf.push(\"<a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a>\");\n}\nif ( me.isTeacher())\n{\nbuf.push(\"<a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a>\");\n}\nbuf.push(\"<a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a>\");\nif ( me.get('anonymous') === false)\n{\nbuf.push(\"<span class=\\\"dropdown\\\"><button href=\\\"#\\\" data-toggle=\\\"dropdown\\\" class=\\\"btn btn-sm header-font dropdown-toggle\\\">\");\nif ( me.get('photoURL'))\n{\nbuf.push(\"<img\" + (jade.attrs({ 'src':(me.getPhotoURL(18)), 'alt':(\"\"), \"class\": [('account-settings-image')] }, {\"src\":true,\"alt\":true})) + \"/>\");\n}\nelse\n{\nbuf.push(\"<i class=\\\"glyphicon glyphicon-user\\\"></i>\");\n}\nbuf.push(\"<span data-i18n=\\\"nav.account\\\" href=\\\"/account\\\" class=\\\"spl spr\\\"></span><span class=\\\"caret\\\"></span></button><ul role=\\\"menu\\\" class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><div\" + (jade.attrs({ 'style':(\"background-image: url(\" + (me.getPhotoURL()) + \")\"), \"class\": [('img-circle')] }, {\"style\":true})) + \"></div></a><h3>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h3></li><li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li></ul></span>\");\n}\nelse\n{\nbuf.push(\"<button data-i18n=\\\"login.sign_up\\\" class=\\\"btn btn-sm btn-primary header-font signup-button\\\"></button><button data-i18n=\\\"login.log_in\\\" class=\\\"btn btn-sm btn-default header-font login-button\\\"></button>\");\n}\n}\nbuf.push(\"<select class=\\\"language-dropdown form-control\\\"></select></div></div><div id=\\\"site-content-area\\\"><div><span>*UNDER CONSTRUCTION, send feedback to</span><a href=\\\"mailto:team@codecombat.com\\\" class=\\\"spl\\\">team@codecombat.com</a></div><div style=\\\"border-bottom: 1px solid black\\\"></div>\");\nif ( view.state === 'declined' || view.state === 'unknown_error')\n{\nbuf.push(\"<p><div class=\\\"alert alert-danger\\\"><span data-i18n=\\\"loading_error.error\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape((jade.interp = view.stateMessage) == null ? '' : jade.interp)) + \"</span></div></p>\");\n}\nif ( view.state === 'creating')\n{\nbuf.push(\"<p><div data-i18n=\\\"courses.creating_class\\\" class=\\\"alert alert-info\\\"></div></p>\");\n}\nelse if ( view.state === 'purchasing')\n{\nbuf.push(\"<p><div data-i18n=\\\"courses.purchasing_course\\\" class=\\\"alert alert-info\\\"></div></p>\");\n}\nelse\n{\nbuf.push(\"<div class=\\\"well well-lg enroll-container\\\">\");\nif ( view.price > 0)\n{\nbuf.push(\"<h1 data-i18n=\\\"courses.buy_course\\\" class=\\\"center\\\"></h1>\");\n}\nelse\n{\nbuf.push(\"<h1 data-i18n=\\\"courses.create_class\\\" class=\\\"center\\\"></h1>\");\n}\nbuf.push(\"<h3><span>1.</span><span data-i18n=\\\"courses.course\\\" class=\\\"spl\\\"></span></h3>\");\nif ( view.courses.size() > 2)\n{\nbuf.push(\"<p data-i18n=\\\"courses.select_all_courses\\\"></p>\");\n}\nbuf.push(\"<div class=\\\"form-group\\\"><select class=\\\"form-control course-select\\\">\");\n// iterate view.courses.models\n;(function(){\n  var $$obj = view.courses.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var course = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(\"\" + (course.id) + \"\") }, {\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = course.get('name')) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var course = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(\"\" + (course.id) + \"\") }, {\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = course.get('name')) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  }\n}).call(this);\n\nif ( view.courses.size() > 1)\n{\nbuf.push(\"<option value=\\\"All Courses\\\" data-i18n=\\\"courses.all_courses\\\"></option>\");\n}\nbuf.push(\"</select></div><div class=\\\"form-group\\\"><label data-i18n=\\\"choose_hero.programming_language\\\"></label><select id=\\\"programming-language-select\\\" class=\\\"form-control\\\"><option\" + (jade.attrs({ 'value':(\"python\"), 'selected':(view.selectedLanguage==='python') }, {\"value\":true,\"selected\":true})) + \">Python</option><option\" + (jade.attrs({ 'value':(\"javascript\"), 'selected':(view.selectedLanguage==='javascript') }, {\"value\":true,\"selected\":true})) + \">JavaScript</option></select></div>\");\nif ( view.price > 0)\n{\nbuf.push(\"<h3><span>2.</span><span data-i18n=\\\"courses.number_students\\\" class=\\\"spl\\\"></span></h3><p data-i18n=\\\"courses.enter_number_students\\\"></p><input\" + (jade.attrs({ 'type':('text'), 'value':(\"\" + (view.seats) + \"\"), \"class\": [('input-seats')] }, {\"type\":true,\"value\":true})) + \"/>\");\n}\nbuf.push(\"<h3>\");\nif ( view.price > 0)\n{\nbuf.push(\"<span>3.</span>\");\n}\nelse\n{\nbuf.push(\"<span>2.</span>\");\n}\nbuf.push(\"<span data-i18n=\\\"courses.name_class\\\" class=\\\"spl\\\"></span></h3><p data-i18n=\\\"courses.displayed_course_page\\\"></p><input\" + (jade.attrs({ 'type':('text'), 'placeholder':(\"Mrs. Smith's 4th Period\"), 'value':(\"\" + (view.className ? view.className : '') + \"\"), \"class\": [('class-name')] }, {\"type\":true,\"placeholder\":true,\"value\":true})) + \"/>\");\nif ( view.price > 0)\n{\nbuf.push(\"<h3><span>4.</span><span data-i18n=\\\"courses.buy\\\" class=\\\"spl\\\">Buy</span></h3>\");\n}\nelse\n{\nbuf.push(\"<h3><span>3.</span><span data-i18n=\\\"courses.create_class\\\" class=\\\"spl\\\"></span></h3>\");\n}\nbuf.push(\"<p>\");\nif ( view.price > 0)\n{\nbuf.push(\"<span data-i18n=\\\"courses.purchasing_for\\\" class=\\\"spr\\\"></span>\");\n}\nelse\n{\nbuf.push(\"<span data-i18n=\\\"courses.creating_for\\\" class=\\\"spr\\\"></span>\");\n}\nbuf.push(\"<strong class=\\\"spr\\\">\" + (jade.escape((jade.interp = view.selectedCourseTitle) == null ? '' : jade.interp)) + \"</strong>\");\nif ( view.price > 0)\n{\nbuf.push(\"<span data-i18n=\\\"courses.for\\\" class=\\\"spr\\\"></span><strong><span>\" + (jade.escape((jade.interp = view.seats) == null ? '' : jade.interp)) + \"</span><span data-i18n=\\\"courses.students1\\\" class=\\\"spl\\\"></span></strong><span>\" + (jade.escape((jade.interp = '.') == null ? '' : jade.interp)) + \"</span>\");\n}\nbuf.push(\"</p><p data-i18n=\\\"courses.receive_code\\\"></p><p class=\\\"center\\\">\");\nif ( view.price > 0)\n{\nbuf.push(\"<button class=\\\"btn btn-success btn-lg btn-buy\\\">$\" + (jade.escape((jade.interp = (view.price / 100.0).toFixed(2)) == null ? '' : jade.interp)) + \"</button>\");\n}\nelse\n{\nbuf.push(\"<button data-i18n=\\\"courses.create_class\\\" class=\\\"btn btn-success btn-lg btn-buy\\\"></button>\");\n}\nbuf.push(\"</p>\");\ntrial_and_questions_mixin();\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div><div class=\\\"achievement-corner\\\"></div><div id=\\\"site-footer\\\"><img id=\\\"footer-background\\\" src=\\\"/images/pages/base/nav_background.png\\\"/><div\" + (jade.attrs({ 'id':('footer-links'), \"class\": [(features.playViewsOnly ? 'hide' : '')] }, {\"class\":true})) + \"><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a>\");\n}\nbuf.push(\"<a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a><a href=\\\"https://jobs.lever.co/codecombat\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.careers\\\"></a><a href=\\\"/legal\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.legal\\\"></a><a href=\\\"/privacy\\\" tabindex=\\\"-1\\\" data-i18n=\\\"legal.privacy_title\\\"></a><a href=\\\"/contribute\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.contribute\\\"></a>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<a href=\\\"/play/ladder\\\" tabindex=\\\"-1\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a>\");\n}\nif ( me.isAdmin())\n{\nbuf.push(\"<a href=\\\"/admin\\\">Admin</a>\");\n}\nif ( usesSocialMedia)\n{\nbuf.push(\"<div class=\\\"share-buttons\\\">\");\nif ( !isIE)\n{\nbuf.push(\"<div data-href=\\\"http://codecombat.com\\\" data-size=\\\"medium\\\" class=\\\"g-plusone\\\"></div>\");\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-href':(\"https://www.facebook.com/codecombat\"), 'data-send':(\"false\"), 'data-layout':(\"button_count\"), 'data-width':(\"350\"), 'data-show-faces':(\"true\"), 'data-ref':(\"coco_footer_\" + (fbRef) + \"\"), \"class\": [('fb-like')] }, {\"data-href\":true,\"data-send\":true,\"data-layout\":true,\"data-width\":true,\"data-show-faces\":true,\"data-ref\":true})) + \"></div>\");\nif ( !isIE)\n{\nbuf.push(\"<a href=\\\"https://twitter.com/CodeCombat\\\" data-show-count=\\\"true\\\" data-show-screen-name=\\\"false\\\" data-dnt=\\\"true\\\" data-align=\\\"right\\\" data-i18n=\\\"nav.twitter_follow\\\" class=\\\"twitter-follow-button\\\"></a><iframe src=\\\"https://ghbtns.com/github-btn.html?user=codecombat&amp;repo=codecombat&amp;type=watch&amp;count=true\\\" allowtransparency=\\\"true\\\" frameborder=\\\"0\\\" scrolling=\\\"0\\\" width=\\\"110\\\" height=\\\"20\\\" class=\\\"github-star-button\\\"></iframe>\");\n}\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div><div id=\\\"footer-credits\\\"><span><span> All Rights Reserved</span><br/><span>CodeCombat 2015</span></span><img id=\\\"footer-logo\\\" src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><span><span>Site Design by</span><br/><a href=\\\"http://www.fullyillustrated.com/\\\">Fully Illustrated</a></span><!--a.firebase-bade(href=\\\"https://www.firebase.com/\\\")  // Not using right now--><!--  img(src=\\\"/images/pages/base/firebase.png\\\", alt=\\\"Powered by Firebase\\\")--></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<h2 data-i18n=\\\"teacher.not_assigned_modal_title\\\"></h2></div><div class=\\\"modal-body\\\">\");\nif ( view.state.get('promoteStarterLicenses'))\n{\nbuf.push(\"<p\" + (jade.attrs({ 'data-i18n':(\"teacher.not_assigned_modal_starter_body_1\"), 'data-i18n-options':(JSON.stringify(view.i18nData)), \"class\": [('small')] }, {\"data-i18n\":true,\"data-i18n-options\":true})) + \"></p><p\" + (jade.attrs({ 'data-i18n':(\"teacher.not_assigned_modal_starter_body_2\"), 'data-i18n-options':(JSON.stringify(view.i18nData)), \"class\": [('small')] }, {\"data-i18n\":true,\"data-i18n-options\":true})) + \"></p>\");\n}\nelse\n{\nbuf.push(\"<p\" + (jade.attrs({ 'data-i18n':(\"teacher.not_assigned_modal_full_body_1\"), 'data-i18n-options':(JSON.stringify(view.i18nData)), \"class\": [('small')] }, {\"data-i18n\":true,\"data-i18n-options\":true})) + \"></p><p\" + (jade.attrs({ 'data-i18n':(\"teacher.not_assigned_modal_full_body_2\"), 'data-i18n-options':(JSON.stringify(view.i18nData)), \"class\": [('small')] }, {\"data-i18n\":true,\"data-i18n-options\":true})) + \"></p><p\" + (jade.attrs({ 'data-i18n':(\"[html]teacher.not_assigned_modal_full_body_3\"), 'data-i18n-options':(JSON.stringify({ supportEmail: \"<a href='mailto:support@codecombat.com'>support@codecombat.com</a>\" })), \"class\": [('small')] }, {\"data-i18n\":true,\"data-i18n-options\":true})) + \"></p>\");\n}\nbuf.push(\"</div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\">\");\nif ( view.state.get('promoteStarterLicenses'))\n{\nbuf.push(\"<div class=\\\"text-center\\\"><a data-i18n=\\\"about.learn_more\\\" href=\\\"/teachers/starter-licenses\\\" class=\\\"btn btn-navy btn-lg\\\"></a></div>\");\n}\nelse\n{\nbuf.push(\"<button class=\\\"btn btn-forest btn-lg pull-left\\\"><span data-i18n=\\\"general.contact_us\\\"></span></button><button data-dismiss=\\\"modal\\\" class=\\\"btn btn-navy btn-lg pull-right\\\"><span data-i18n=\\\"general.close_window\\\"></span></button>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),me = locals_.me,serverConfig = locals_.serverConfig,view = locals_.view;var accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav><div id=\\\"site-content-area\\\"><div id=\\\"main-content\\\" class=\\\"container\\\"><div class=\\\"row m-y-3\\\"><div class=\\\"col-xs-12\\\">\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<div class=\\\"text-center\\\"><h3 data-i18n=\\\"courses.update_account_login_title\\\"></h3><p data-i18n=\\\"courses.update_account_blurb\\\"></p><p><button data-i18n=\\\"login.log_in\\\" class=\\\"login-btn btn btn-navy\\\"></button></p></div>\");\n}\nif ( !me.isAnonymous())\n{\nbuf.push(\"<div class=\\\"text-center\\\"><h3 data-i18n=\\\"courses.update_account_title\\\"></h3><p data-i18n=\\\"courses.update_account_blurb\\\"></p></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"text-right\\\">\");\nif ( view.accountType)\n{\nbuf.push(\"<div><strong data-i18n=\\\"courses.update_account_current_type\\\"></strong></div>\");\n}\nbuf.push(\"<div><strong data-i18n=\\\"courses.update_account_account_email\\\"></strong></div></div></div><div class=\\\"col-md-6\\\">\");\nif ( view.accountType)\n{\nbuf.push(\"<div>\" + (jade.escape((jade.interp = view.accountType) == null ? '' : jade.interp)) + \"</div>\");\n}\nbuf.push(\"<div><span class=\\\"spr\\\">\" + (jade.escape((jade.interp = me.get('email') || me.get('name')) == null ? '' : jade.interp)) + \"</span><span class=\\\"not_you\\\"><span data-i18n=\\\"courses.not_you\\\" class=\\\"spr\\\"></span><a data-i18n=\\\"login.log_out\\\" href=\\\"#\\\" class=\\\"logout-btn\\\"></a></span></div></div></div><br/><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div style=\\\"background-color:white;\\\" class=\\\"well\\\"><div class=\\\"text-center\\\"><h4><strong data-i18n=\\\"courses.update_account_am_teacher\\\"></strong></h4><p data-i18n=\\\"courses.update_account_keep_access\\\"></p></div><div style=\\\"margin: 0px 20px 0px 20px; font-size: 10pt\\\"><div data-i18n=\\\"courses.update_account_teachers_can\\\"></div><ul><li data-i18n=\\\"courses.update_account_teachers_can1\\\"></li><li data-i18n=\\\"courses.update_account_teachers_can2\\\"></li><li data-i18n=\\\"courses.update_account_teachers_can3\\\"></li><li data-i18n=\\\"courses.update_account_teachers_can4\\\"></li></ul><div data-i18n=\\\"courses.update_account_teachers_warning\\\" class=\\\"warning\\\"></div></div><br/><div class=\\\"text-center\\\">\");\nif ( me.isTeacher())\n{\nbuf.push(\"<button data-i18n=\\\"courses.update_account_remain_teacher\\\" class=\\\"remain-teacher-btn btn btn-navy\\\"></button>\");\n}\nelse\n{\nbuf.push(\"<button data-i18n=\\\"courses.update_account_update_teacher\\\" class=\\\"update-teacher-btn btn btn-forest\\\"></button>\");\n}\nbuf.push(\"</div><br/></div></div><div class=\\\"col-md-6\\\"><div style=\\\"background-color:white;\\\" class=\\\"well\\\"><div class=\\\"text-center\\\"><h4><strong data-i18n=\\\"courses.update_account_am_student\\\"></strong></h4><p data-i18n=\\\"courses.update_account_remove_access\\\"></p></div><div style=\\\"margin: 0px 20px 0px 20px; font-size: 10pt\\\"><div data-i18n=\\\"courses.update_account_students_can\\\"></div><ul><li data-i18n=\\\"courses.update_account_students_can1\\\"></li><li data-i18n=\\\"courses.update_account_students_can2\\\"></li><li data-i18n=\\\"courses.update_account_students_can3\\\"></li><li data-i18n=\\\"courses.update_account_students_can4\\\"></li></ul><div data-i18n=\\\"courses.update_account_students_warning\\\" class=\\\"warning\\\"></div></div><br/><div class=\\\"text-center\\\">\");\nif ( me.isStudent())\n{\nbuf.push(\"<button data-i18n=\\\"courses.update_account_remain_student\\\" class=\\\"remain-student-btn btn btn-navy\\\"></button>\");\n}\nelse\n{\nbuf.push(\"<label><span data-i18n=\\\"courses.need_a_class_code\\\"></span><input name=\\\"classCode\\\"/></label><button data-i18n=\\\"courses.update_account_update_student\\\" class=\\\"update-student-btn btn btn-forest\\\"></button>\");\n}\nbuf.push(\"</div><br/></div></div></div><br/><div class=\\\"small text-center\\\"><span data-i18n=\\\"courses.update_account_not_sure\\\" class=\\\"spr\\\"></span><a href=\\\"mailto:team@codecombat.com\\\">team@codecombat.com</a></div>\");\n}\nbuf.push(\"</div></div></div></div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,me = locals_.me,serverConfig = locals_.serverConfig,i18n = locals_.i18n;var course_instance_body_mixin = function(courseInstance, classroom){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nvar course = view.courses.get(courseInstance.get('courseID'));\nvar stats = classroom.statsForSessions(courseInstance.sessions, course.id);\nif ( stats.levels.done)\n{\nbuf.push(\"<div class=\\\"text-success\\\"><span class=\\\"glyphicon glyphicon-ok\\\"></span><span data-i18n=\\\"courses.course_complete\\\" class=\\\"spl\\\"></span><span>!</span></div>\");\n}\nbuf.push(\"<div class=\\\"pull-right\\\">\");\nif ( stats.levels.done)\n{\nvar arenaLevel = stats.levels.arena;\nvar projectLevel = stats.levels.project;\nif ( arenaLevel)\n{\nvar url = view.urls.courseArenaLadder({level: view.originalLevelMap[arenaLevel.get('original')] || arenaLevel, courseInstance: courseInstance});\nbuf.push(\"<a\" + (jade.attrs({ 'data-href':(url), 'data-level-slug':(arenaLevel.get('slug')), 'data-event-action':(\"Students Play Arena\"), \"class\": [('play-btn'),('btn'),('btn-forest-alt'),('btn-lg'),('m-b-1')] }, {\"data-href\":true,\"data-level-slug\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"courses.play_arena\\\"></span></a>\");\n}\nelse if ( projectLevel)\n{\nvar url = view.urls.courseLevel({level: view.originalLevelMap[projectLevel.get('original')] || projectLevel, courseInstance: courseInstance});\nbuf.push(\"<a\" + (jade.attrs({ 'data-href':(url), 'data-level-slug':(projectLevel.get('slug')), 'data-event-action':(\"Students Play Project\"), \"class\": [('play-btn'),('btn'),('btn-forest-alt'),('btn-lg'),('m-b-1')] }, {\"data-href\":true,\"data-level-slug\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"courses.view_project\\\"></span></a>\");\n}\nelse\n{\nbuf.push(\"<a disabled=\\\"disabled\\\" data-i18n=\\\"courses.course_complete\\\" class=\\\"btn btn-default btn-lg m-b-1\\\"></a>\");\n}\n}\nelse if ( stats.levels.next != stats.levels.first)\n{\nvar next = stats.levels.next;\nvar url = view.urls.courseLevel({level: view.originalLevelMap[next.get('original')] || next, courseInstance: courseInstance});\nbuf.push(\"<a\" + (jade.attrs({ 'data-href':(url), 'data-level-slug':(next.get('slug')), 'data-event-action':(\"Students Continue Course\"), \"class\": [('play-btn'),('btn'),('btn-forest'),('btn-lg'),('m-b-1')] }, {\"data-href\":true,\"data-level-slug\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"common.continue\\\"></span></a>\");\n}\nelse\n{\nvar firstLevel = stats.levels.first;\nvar url = view.urls.courseLevel({level: view.originalLevelMap[firstLevel.get('original')] || firstLevel, courseInstance: courseInstance});\nbuf.push(\"<a\" + (jade.attrs({ 'data-href':(url), 'data-level-slug':(firstLevel.get('slug')), 'data-event-action':(\"Students Start Course\"), \"class\": [('play-btn'),('btn'),('btn-navy'),('btn-lg'),('m-b-1')] }, {\"data-href\":true,\"data-level-slug\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"courses.start\\\"></span></a>\");\n}\nbuf.push(\"</div>\");\nif ( stats.levels.lastPlayed)\n{\nbuf.push(\"<div><span data-i18n=\\\"courses.last_level\\\"></span><span>: \" + (jade.escape((jade.interp = stats.levels.lastPlayedNumber) == null ? '' : jade.interp)) + \".</span><span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = stats.levels.lastPlayed.get('name')) ? \"\" : jade.interp)) + \"</span></div>\");\n}\nbuf.push(\"<div class=\\\"clearfix\\\"></div><div class=\\\"progress\\\"><div\" + (jade.attrs({ 'style':(\"width:\"+stats.levels.pctDone), \"class\": [('progress-bar')] }, {\"style\":true})) + \">\" + (jade.escape(null == (jade.interp = stats.levels.pctDone) ? \"\" : jade.interp)) + \"</div></div>\");\n};\nvar accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav><div id=\\\"site-content-area\\\"><div class=\\\"container\\\"><div class=\\\"row m-y-3\\\"><div class=\\\"col-xs-12\\\">\");\nif ( me.isTeacher())\n{\nbuf.push(\"<div class=\\\"alert alert-danger text-center\\\"><!-- DNT: Temporary--><h3>ATTENTION TEACHERS:</h3><p>We are transitioning to a new classroom management system; this page will soon be student-only.</p><a href=\\\"/teachers/classes\\\">Go to teachers area.</a></div>\");\n}\nbuf.push(\"<div id=\\\"main-content\\\">\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<h1 data-i18n=\\\"courses.welcome_to_courses\\\" class=\\\"text-center\\\"></h1><div class=\\\"text-center\\\"><p><h2 data-i18n=\\\"courses.ready_to_play\\\"></h2></p><p><button id=\\\"start-new-game-btn\\\" data-i18n=\\\"courses.start_new_game\\\" class=\\\"btn btn-navy\\\"></button></p><p><span class=\\\"spr\\\">-</span><span data-i18n=\\\"general.or\\\" class=\\\"text-uppercase\\\"></span><span class=\\\"spl\\\">-</span></p><p><button id=\\\"log-in-btn\\\" data-i18n=\\\"login.log_in\\\" class=\\\"btn btn-forest\\\"></button></p></div><h2 id=\\\"play-now-to-learn-header\\\" data-i18n=\\\"courses.play_now_learn_header\\\" class=\\\"text-center text-uppercase\\\"></h2><ul id=\\\"benefits-ul\\\"><li data-i18n=\\\"courses.play_now_learn_1\\\"></li><li data-i18n=\\\"courses.play_now_learn_2\\\"></li><li data-i18n=\\\"courses.play_now_learn_3\\\"></li><li data-i18n=\\\"courses.play_now_learn_4\\\"></li></ul>\");\n}\nelse\n{\nbuf.push(\"<div class=\\\"text-center\\\"><h1 data-i18n=\\\"courses.welcome_to_page\\\"></h1></div><div class=\\\"current-hero-container text-center row\\\"><div class=\\\"hero-avatar\\\"><img\" + (jade.attrs({ 'src':(view.hero.getPortraitURL()) }, {\"src\":true})) + \"/></div><div class=\\\"current-hero-right-col\\\"><div class=\\\"semibold current-hero-text\\\"><span data-i18n=\\\"courses.current_hero\\\" class=\\\"spr\\\"></span><span class=\\\"current-hero-name\\\">\" + (jade.escape(null == (jade.interp = view.hero.getHeroShortName()) ? \"\" : jade.interp)) + \"</span></div><button class=\\\"change-hero-btn btn btn-lg btn-forest\\\"><span data-i18n=\\\"courses.change_hero\\\"></span></button></div></div>\");\nif ( view.classrooms.size())\n{\nbuf.push(\"<br/><h3 data-i18n=\\\"courses.my_classes\\\"></h3>\");\n// iterate view.classrooms.models\n;(function(){\n  var $$obj = view.classrooms.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var classroom = $$obj[$index];\n\nbuf.push(\"<hr class=\\\"class-break\\\"/>\");\nvar justAdded = classroom.id === view.classroomJustAdded;\nvar classroomClass = justAdded ? 'just-added' : '';\nif ( justAdded)\n{\nbuf.push(\"<div id=\\\"just-added-text\\\" data-i18n=\\\"courses.class_added\\\" class=\\\"text-center\\\"></div>\");\n}\nbuf.push(\"<div\" + (jade.attrs({ \"class\": [(classroomClass)] }, {\"class\":true})) + \"><h5><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</span><span class=\\\"spr\\\">(\" + (jade.escape((jade.interp = (classroom.get('aceConfig') || {}).language === 'javascript' ? 'JavaScript' : 'Python') == null ? '' : jade.interp)) + \")</span></h5><p><span data-i18n=\\\"courses.teacher\\\"></span><span>:</span>\");\nif ( view.ownerNameMap && view.ownerNameMap[classroom.get('ownerID')])\n{\nbuf.push(\"<span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = view.ownerNameMap[classroom.get('ownerID')]) ? \"\" : jade.interp)) + \"</span>\");\n}\nbuf.push(\"</p>\");\nvar courseInstances = view.courseInstances.where({classroomID: classroom.id});\n// iterate courseInstances\n;(function(){\n  var $$obj = courseInstances;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var courseInstance = $$obj[$index];\n\nbuf.push(\"<div class=\\\"course-instance-entry\\\">\");\nvar course = view.courses.get(courseInstance.get('courseID'));\nbuf.push(\"<h6><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span><small><a\" + (jade.attrs({ 'data-course-id':(courseInstance.get('courseID')), 'data-courseinstance-id':(courseInstance.id), 'data-i18n':(\"courses.view_levels\"), \"class\": [('view-levels-btn')] }, {\"data-course-id\":true,\"data-courseinstance-id\":true,\"data-i18n\":true})) + \"></a></small></h6>\");\ncourse_instance_body_mixin(courseInstance, classroom);\nbuf.push(\"<div class=\\\"clearfix\\\"></div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var courseInstance = $$obj[$index];\n\nbuf.push(\"<div class=\\\"course-instance-entry\\\">\");\nvar course = view.courses.get(courseInstance.get('courseID'));\nbuf.push(\"<h6><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span><small><a\" + (jade.attrs({ 'data-course-id':(courseInstance.get('courseID')), 'data-courseinstance-id':(courseInstance.id), 'data-i18n':(\"courses.view_levels\"), \"class\": [('view-levels-btn')] }, {\"data-course-id\":true,\"data-courseinstance-id\":true,\"data-i18n\":true})) + \"></a></small></h6>\");\ncourse_instance_body_mixin(courseInstance, classroom);\nbuf.push(\"<div class=\\\"clearfix\\\"></div></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var classroom = $$obj[$index];\n\nbuf.push(\"<hr class=\\\"class-break\\\"/>\");\nvar justAdded = classroom.id === view.classroomJustAdded;\nvar classroomClass = justAdded ? 'just-added' : '';\nif ( justAdded)\n{\nbuf.push(\"<div id=\\\"just-added-text\\\" data-i18n=\\\"courses.class_added\\\" class=\\\"text-center\\\"></div>\");\n}\nbuf.push(\"<div\" + (jade.attrs({ \"class\": [(classroomClass)] }, {\"class\":true})) + \"><h5><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</span><span class=\\\"spr\\\">(\" + (jade.escape((jade.interp = (classroom.get('aceConfig') || {}).language === 'javascript' ? 'JavaScript' : 'Python') == null ? '' : jade.interp)) + \")</span></h5><p><span data-i18n=\\\"courses.teacher\\\"></span><span>:</span>\");\nif ( view.ownerNameMap && view.ownerNameMap[classroom.get('ownerID')])\n{\nbuf.push(\"<span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = view.ownerNameMap[classroom.get('ownerID')]) ? \"\" : jade.interp)) + \"</span>\");\n}\nbuf.push(\"</p>\");\nvar courseInstances = view.courseInstances.where({classroomID: classroom.id});\n// iterate courseInstances\n;(function(){\n  var $$obj = courseInstances;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var courseInstance = $$obj[$index];\n\nbuf.push(\"<div class=\\\"course-instance-entry\\\">\");\nvar course = view.courses.get(courseInstance.get('courseID'));\nbuf.push(\"<h6><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span><small><a\" + (jade.attrs({ 'data-course-id':(courseInstance.get('courseID')), 'data-courseinstance-id':(courseInstance.id), 'data-i18n':(\"courses.view_levels\"), \"class\": [('view-levels-btn')] }, {\"data-course-id\":true,\"data-courseinstance-id\":true,\"data-i18n\":true})) + \"></a></small></h6>\");\ncourse_instance_body_mixin(courseInstance, classroom);\nbuf.push(\"<div class=\\\"clearfix\\\"></div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var courseInstance = $$obj[$index];\n\nbuf.push(\"<div class=\\\"course-instance-entry\\\">\");\nvar course = view.courses.get(courseInstance.get('courseID'));\nbuf.push(\"<h6><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span><small><a\" + (jade.attrs({ 'data-course-id':(courseInstance.get('courseID')), 'data-courseinstance-id':(courseInstance.id), 'data-i18n':(\"courses.view_levels\"), \"class\": [('view-levels-btn')] }, {\"data-course-id\":true,\"data-courseinstance-id\":true,\"data-i18n\":true})) + \"></a></small></h6>\");\ncourse_instance_body_mixin(courseInstance, classroom);\nbuf.push(\"<div class=\\\"clearfix\\\"></div></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"<h3 data-i18n=\\\"courses.join_class\\\" class=\\\"text-uppercase\\\"></h3><hr/><form id=\\\"join-class-form\\\" class=\\\"form-inline\\\"><div class=\\\"help-block\\\"><em data-i18n=\\\"courses.ask_teacher_for_code\\\"></em></div><div class=\\\"form-group\\\"><input\" + (jade.attrs({ 'id':('class-code-input'), 'data-i18n':(\"[placeholder]courses.enter_c_code\"), 'placeholder':(\"<Enter Class Code>\"), 'value':(view.classCode), \"class\": [('form-control')] }, {\"data-i18n\":true,\"placeholder\":true,\"value\":true})) + \"/></div><input id=\\\"join-class-button\\\" type=\\\"submit\\\" data-i18n=\\\"[value]courses.join\\\" value=\\\"Join\\\" class=\\\"btn btn-navy\\\"/>\");\nif ( view.state === 'enrolling')\n{\nbuf.push(\"<div class=\\\"progress progress-striped active\\\"><div style=\\\"width: 100%\\\" data-i18n=\\\"courses.joining\\\" class=\\\"progress-bar\\\">Joining class</div></div>\");\n}\nif ( view.errorMessage)\n{\nbuf.push(\"<div class=\\\"alert alert-danger\\\">\" + (jade.escape(null == (jade.interp = view.errorMessage) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</form>\");\n}\nbuf.push(\"</div></div></div></div></div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),me = locals_.me,moment = locals_.moment,serverConfig = locals_.serverConfig,view = locals_.view,document = locals_.document,_ = locals_._;var addCredits_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"text-center m-b-3 m-t-3\\\"><h5 data-i18n=\\\"courses.get_enrollments\\\"></h5>\");\nif ( me.get('enrollmentRequestSent'))\n{\nbuf.push(\"<div id=\\\"enrollment-request-sent-blurb\\\" class=\\\"small\\\"><p data-i18n=\\\"teacher.enroll_request_sent_blurb1\\\"></p><p data-i18n=\\\"teacher.enroll_request_sent_blurb2\\\"></p><p data-i18n=\\\"[html]teacher.enroll_request_sent_blurb3\\\"></p></div><button id=\\\"request-sent-btn\\\" disabled=\\\"disabled\\\" data-i18n=\\\"teacher.request_sent\\\" class=\\\"btn-lg btn btn-forest\\\"></button>\");\n}\nelse\n{\nbuf.push(\"<p data-i18n=\\\"teacher.get_enrollments_blurb\\\" class=\\\"m-y-2\\\"></p><button id=\\\"contact-us-btn\\\" data-i18n=\\\"contribute.contact_us_url\\\" class=\\\"btn-lg btn btn-forest\\\"></button>\");\n}\nbuf.push(\"</div>\");\n};\nvar prepaidCard_mixin = function(prepaid, className){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div\" + (jade.attrs({ \"class\": [('prepaid-card'),('bg-navy'),('text-center'),('m-b-2'),('p-a-2'),(className)] }, {\"class\":true})) + \"><h1 class=\\\"m-t-2 m-b-0\\\">\" + (jade.escape(null == (jade.interp = prepaid.openSpots()) ? \"\" : jade.interp)) + \"</h1>\");\nif ( prepaid.get('type') === 'starter_license')\n{\nbuf.push(\"<div data-i18n=\\\"teacher.starter_licenses\\\"></div>\");\n}\nelse\n{\nbuf.push(\"<div data-i18n=\\\"teacher.credits\\\"></div>\");\n}\nbuf.push(\"<hr/><em class=\\\"small-details\\\"><div data-i18n=\\\"teacher.start_date\\\" class=\\\"pull-left\\\"></div><div class=\\\"pull-right\\\">\" + (jade.escape(null == (jade.interp = moment(prepaid.get('startDate')).utc().format('l')) ? \"\" : jade.interp)) + \"</div><div class=\\\"clearfix\\\"></div><div data-i18n=\\\"teacher.end_date\\\" class=\\\"pull-left\\\"></div><div class=\\\"pull-right\\\">\" + (jade.escape(null == (jade.interp = moment(prepaid.get('endDate')).utc().format('l')) ? \"\" : jade.interp)) + \"</div><div class=\\\"clearfix\\\"></div></em></div>\");\n};\nvar accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav>\");\nvar path = document.location.pathname\nbuf.push(\"<div id=\\\"teacher-dashboard-nav\\\"><nav class=\\\"navbar\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#teacher-dashboard-nav-collapse\\\" class=\\\"navbar-toggle collapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><span data-i18n=\\\"teacher.teacher_dashboard\\\" class=\\\"navbar-brand text-h4\\\"></span></div><div id=\\\"teacher-dashboard-nav-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/classes') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/classes\\\"><small data-i18n=\\\"teacher.my_classes\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/courses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/courses\\\"><small data-i18n=\\\"teacher.courses\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/licenses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/licenses\\\"><small data-i18n=\\\"teacher.enrollments\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources') === 0 && path.indexOf('/teachers/resources/faq') !== 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources\\\"><small data-i18n=\\\"teacher.resource_hub\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources/faq') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources/faq\\\"><small data-i18n=\\\"teacher.educator_faq\\\" class=\\\"label\\\"></small></a></li></ul></div></div></nav></div><div id=\\\"site-content-area\\\">\");\nif ( me.isAnonymous() || (!me.isTeacher() && !view.classrooms.size()))\n{\nbuf.push(\"<div class=\\\"container\\\"><div class=\\\"access-restricted container text-center m-y-3\\\"><h5 data-i18n=\\\"teacher.access_restricted\\\"></h5><p data-i18n=\\\"teacher.teacher_account_required\\\"></p>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<div data-i18n=\\\"login.log_in\\\" class=\\\"login-button btn btn-lg btn-primary\\\"></div><a href=\\\"/teachers/signup\\\" data-i18n=\\\"teacher.create_teacher_account\\\" class=\\\"btn btn-lg btn-primary-alt\\\"></a>\");\n}\nelse\n{\nbuf.push(\"<a href=\\\"/teachers/update-account\\\" data-i18n=\\\"teachers_quote.convert_account_title\\\" class=\\\"btn btn-lg btn-primary\\\"></a><button id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\" class=\\\"btn btn-lg btn-primary-alt\\\"></button>\");\n}\nbuf.push(\"</div><div class=\\\"container\\\"><div class=\\\"teacher-account-blurb text-center col-xs-6 col-xs-offset-3 m-y-3\\\"><h5 data-i18n=\\\"teacher.what_is_a_teacher_account\\\"></h5><p data-i18n=\\\"teacher.teacher_account_explanation\\\"></p></div></div></div>\");\n}\nelse\n{\nif ( !me.isTeacher() && !me.isAdmin())\n{\nbuf.push(\"<div class=\\\"alert alert-danger text-center\\\"><div class=\\\"container\\\"><!-- DNT: Temporary--><h3>ATTENTION: Please upgrade your account to a Teacher Account.</h3><p>We are transitioning to a new improved classroom management system for instructors.\\nPlease convert your account to ensure you retain access to your classrooms.</p><a href=\\\"/teachers/update-account\\\" class=\\\"btn btn-primary btn-lg\\\">Upgrade to teacher account</a></div></div>\");\n}\nif ( view.state.get('shouldUpsell'))\n{\nbuf.push(\"<div class=\\\"bg-forest\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-9 m-t-1\\\"><b><span data-i18n=\\\"special_offer.special_offer\\\" class=\\\"text-uppercase\\\"></span>\" + (jade.escape(null == (jade.interp = ': ') ? \"\" : jade.interp)) + \"<span data-i18n=\\\"special_offer.student_starter_license\\\"></span></b><div class=\\\"small-details\\\"><i\" + (jade.attrs({ 'data-i18n':(\"special_offer.purchase_starter_licenses_to_grant\"), 'data-i18n-options':(JSON.stringify(view.i18nData())) }, {\"data-i18n\":true,\"data-i18n-options\":true})) + \"></i></div></div><div class=\\\"col-xs-3\\\"><a href=\\\"/teachers/starter-licenses\\\" class=\\\"btn btn-lg btn-forest-alt m-t-2 m-b-2\\\"><b data-i18n=\\\"general.learn_more\\\"></b></a></div></div></div></div>\");\n}\nbuf.push(\"<div class=\\\"container m-t-5\\\"><h3 data-i18n=\\\"teacher.enrollments\\\"></h3><h4 id=\\\"enrollments-blurb\\\" data-i18n=\\\"teacher.enrollments_blurb\\\"> </h4>\");\nvar available = view.state.get('prepaidGroups').available\nvar pending = view.state.get('prepaidGroups').pending\nvar anyPrepaids = available || pending\nbuf.push(\"<div class=\\\"text-center m-t-3\\\"><span class=\\\"glyphicon glyphicon-question-sign\\\"></span>\" + (jade.escape(null == (jade.interp = ' ') ? \"\" : jade.interp)) + \"<a id=\\\"how-to-enroll-link\\\" data-i18n=\\\"teacher.how_to_apply_licenses\\\"></a></div><div class=\\\"row m-t-3\\\">\");\nif ( anyPrepaids)\n{\nbuf.push(\"<div id=\\\"prepaids-col\\\" class=\\\"col-md-9\\\">\");\nif ( _.size(available) > 0)\n{\nbuf.push(\"<h5 data-i18n=\\\"teacher.available_credits\\\" class=\\\"m-b-1\\\"></h5><div class=\\\"row\\\">\");\n// iterate available\n;(function(){\n  var $$obj = available;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var prepaid = $$obj[$index];\n\nbuf.push(\"<div class=\\\"col-sm-4 col-xs-6\\\">\");\nprepaidCard_mixin(prepaid);\nbuf.push(\"</div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var prepaid = $$obj[$index];\n\nbuf.push(\"<div class=\\\"col-sm-4 col-xs-6\\\">\");\nprepaidCard_mixin(prepaid);\nbuf.push(\"</div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nif ( _.size(pending) > 0)\n{\nbuf.push(\"<h5 data-i18n=\\\"teacher.pending_credits\\\" class=\\\"m-b-1 m-t-3\\\"></h5><div class=\\\"row\\\">\");\n// iterate pending\n;(function(){\n  var $$obj = pending;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var prepaid = $$obj[$index];\n\nbuf.push(\"<div class=\\\"col-sm-4 col-xs-6\\\">\");\nprepaidCard_mixin(prepaid, 'pending-prepaid-card');\nbuf.push(\"</div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var prepaid = $$obj[$index];\n\nbuf.push(\"<div class=\\\"col-sm-4 col-xs-6\\\">\");\nprepaidCard_mixin(prepaid, 'pending-prepaid-card');\nbuf.push(\"</div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div><div id=\\\"actions-col\\\" class=\\\"col-md-3\\\">\");\naddCredits_mixin();\nbuf.push(\"</div>\");\n}\nelse\n{\nbuf.push(\"<!-- no prepaids--><div class=\\\"col-sm-6 col-sm-offset-3 col-lg-4 col-lg-offset-4\\\">\");\naddCredits_mixin();\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div></div>\");\n}\nbuf.push(\"</div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<div class=\\\"text-center\\\"><h3 data-i18n=\\\"courses.select_your_hero\\\"></h3><h4 data-i18n=\\\"courses.select_your_hero_description\\\"></h4></div></div><div class=\\\"modal-body\\\"><div id=\\\"hero-select-view\\\"></div></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"><div class=\\\"select-hero-btn btn btn-lg btn-forest\\\"><span data-i18n=\\\"courses.select_this_hero\\\"></span></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"</div><div class=\\\"modal-body\\\"><h3 data-i18n=\\\"courses.option1_header\\\"></h3><div class=\\\"form\\\"><div class=\\\"form-group\\\"><p data-i18n=\\\"courses.enter_emails\\\" class=\\\"small help-block\\\"></p><textarea id=\\\"invite-emails-textarea\\\" rows=\\\"10\\\" class=\\\"form-control\\\"></textarea></div><div class=\\\"form-group\\\"><div class=\\\"text-center\\\"><button id=\\\"send-invites-btn\\\" data-i18n=\\\"courses.send_invites\\\" class=\\\"btn btn-lg btn-primary\\\"></button><div id=\\\"invite-emails-sending-alert\\\" data-i18n=\\\"common.sending\\\" class=\\\"alert alert-info hide\\\"></div><div id=\\\"invite-emails-success-alert\\\" data-i18n=\\\"play_level.done\\\" class=\\\"alert alert-success hide\\\"></div></div></div></div><br/><p data-i18n=\\\"courses.option1_body\\\" class=\\\"small\\\"></p></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,me = locals_.me;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nif ( view.classroom.loaded)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><h3 class=\\\"modal-title\\\"><span data-i18n=\\\"courses.join\\\"></span><span class=\\\"spr\\\"> </span><span>\" + (jade.escape(null == (jade.interp = view.classroom.get('name')) ? \"\" : jade.interp)) + \"</span></h3><b class=\\\"small-details\\\"><span data-i18n=\\\"courses.instructor\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = view.classroom.owner.get('name')) ? \"\" : jade.interp)) + \"</span></b></div>\");\n}\nbuf.push(\"</div><div class=\\\"modal-body\\\">\");\nif ( view.classroom.loaded)\n{\nbuf.push(\"<p><span data-i18n=\\\"courses.youve_been_invited_1\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = view.classroom.get('name')) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"courses.youve_been_invited_2\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = view.classroom.capitalLanguage) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"courses.youve_been_invited_3\\\" class=\\\"spl\\\"></span></p><p><span data-i18n=\\\"courses.by_joining_1\\\" class=\\\"spr\\\"></span><span>\" + (jade.escape(null == (jade.interp = view.classroom.get('name')) ? \"\" : jade.interp)) + \"</span><span class=\\\"spr\\\">, </span><span>\" + (jade.escape(null == (jade.interp = view.classroom.owner.get('name')) ? \"\" : jade.interp)) + \"</span><span class=\\\"spr\\\"> </span><span data-i18n=\\\"courses.by_joining_2\\\"></span></p>\");\nif (!( me.get('emailVerified')))\n{\nbuf.push(\"<div class=\\\"text-center m-t-4\\\"><div><b class=\\\"small-details\\\"><span data-i18n=\\\"courses.sent_verification\\\"></span></b></div><div class=\\\"small\\\">\" + (jade.escape(null == (jade.interp = me.get('email')) ? \"\" : jade.interp)) + \"</div><div class=\\\"small\\\"><span data-i18n=\\\"courses.you_can_edit\\\" class=\\\"spr\\\"></span><a href=\\\"/account/settings\\\"><span data-i18n=\\\"courses.account_settings\\\"></span></a></div></div>\");\n}\n}\nbuf.push(\"</div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"><div class=\\\"text-center\\\"><button data-i18n=\\\"courses.join_class_2\\\" class=\\\"join-class-btn btn btn-lg btn-navy\\\"></button><button data-dismiss=\\\"modal\\\" data-i18n=\\\"common.cancel\\\" class=\\\"btn btn-lg\\\"></button></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<div class=\\\"text-center\\\"><h1 data-i18n=\\\"courses.remove_student1\\\" class=\\\"modal-title\\\"></h1><span class=\\\"glyphicon glyphicon-warning-sign text-danger\\\"></span><p><span>\" + (jade.escape(null == (jade.interp = view.user.get('name', true)) ? \"\" : jade.interp)) + \"</span>\");\nif ( view.user.get('email'))\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = \"  \" + view.user.get('email')) ? \"\" : jade.interp)) + \"</span>\");\n}\nbuf.push(\"</p><h2 data-i18n=\\\"courses.are_you_sure\\\"></h2></div></div><div class=\\\"modal-body\\\"><p class=\\\"text-center\\\"><span data-i18n=\\\"courses.remove_description1\\\"></span>\");\nif ( view.user.isEnrolled())\n{\nbuf.push(\"<span data-i18n=\\\"courses.remove_description2\\\"></span>\");\n}\nbuf.push(\"</p></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"><div id=\\\"remove-student-buttons\\\" class=\\\"text-center\\\"><p><button data-dismiss=\\\"modal\\\" data-i18n=\\\"courses.keep_student\\\" class=\\\"btn btn-lg btn-forest text-uppercase\\\"></button></p><p>- OR -</p><p><button id=\\\"remove-student-btn\\\" data-i18n=\\\"courses.remove_student1\\\" class=\\\"btn btn-lg btn-burgandy text-uppercase\\\"></button></p></div><div id=\\\"remove-student-progress\\\" class=\\\"text-center hide\\\"><div class=\\\"progress\\\"><div class=\\\"progress-bar\\\"></div></div><p data-i18n=\\\"courses.removing_user\\\" class=\\\"text-info\\\"></p></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),me = locals_.me,serverConfig = locals_.serverConfig,view = locals_.view;var accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav><div id=\\\"site-content-area\\\"><div class=\\\"access-restricted container text-center m-y-3\\\"><h5 data-i18n=\\\"teacher.access_restricted\\\"></h5>\");\nif ( me.isTeacher())\n{\nbuf.push(\"<p data-i18n=\\\"courses.teacher_account_restricted\\\"></p><a href=\\\"/teachers/classes\\\" data-i18n=\\\"new_home.goto_classes\\\" class=\\\"btn btn-lg btn-primary\\\"></a><button id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\" class=\\\"btn btn-lg btn-primary-alt\\\"></button>\");\n}\nelse\n{\nbuf.push(\"<p data-i18n=\\\"courses.account_restricted\\\"></p>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<div data-i18n=\\\"login.log_in\\\" class=\\\"login-button btn btn-lg btn-primary\\\"></div><div data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button btn btn-lg btn-primary-alt\\\"></div>\");\n}\nelse\n{\nbuf.push(\"<a href=\\\"/students/update-account\\\" data-i18n=\\\"courses.update_account_update_student\\\" class=\\\"btn btn-lg btn-primary\\\"></a><button id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\" class=\\\"btn btn-lg btn-primary-alt\\\"></button>\");\n}\n}\nbuf.push(\"</div>\");\nif ( me.isTeacher())\n{\nbuf.push(\"<div class=\\\"container\\\"><div class=\\\"teacher-account-blurb text-center col-xs-6 col-xs-offset-3 m-y-3\\\"><h5 data-i18n=\\\"teacher.what_is_a_teacher_account\\\"></h5><p data-i18n=\\\"teacher.teacher_account_explanation\\\"></p></div></div>\");\n}\nbuf.push(\"</div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),features = locals_.features,me = locals_.me,view = locals_.view,usesSocialMedia = locals_.usesSocialMedia,isIE = locals_.isIE,fbRef = locals_.fbRef;buf.push(\"<div id=\\\"site-nav\\\"><a href=\\\"/\\\"><img id=\\\"nav-logo\\\" src=\\\"/images/pages/base/logo.png\\\" title=\\\"CodeCombat - Learn how to code by playing a game\\\" alt=\\\"CodeCombat\\\"/></a><div id=\\\"site-nav-links\\\"><a href=\\\"/\\\"><img id=\\\"small-nav-logo\\\" src=\\\"/images/pages/base/logo.png\\\" title=\\\"CodeCombat - Learn how to code by playing a game\\\" alt=\\\"CodeCombat\\\"/></a><a href=\\\"/\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span></a>\");\nif ( !features.playViewsOnly)\n{\nbuf.push(\"<a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a>\");\nif ( me.isStudent())\n{\nbuf.push(\"<a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a>\");\n}\nif ( me.isTeacher())\n{\nbuf.push(\"<a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a>\");\n}\nbuf.push(\"<a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a>\");\nif ( me.get('anonymous') === false)\n{\nbuf.push(\"<span class=\\\"dropdown\\\"><button href=\\\"#\\\" data-toggle=\\\"dropdown\\\" class=\\\"btn btn-sm header-font dropdown-toggle\\\">\");\nif ( me.get('photoURL'))\n{\nbuf.push(\"<img\" + (jade.attrs({ 'src':(me.getPhotoURL(18)), 'alt':(\"\"), \"class\": [('account-settings-image')] }, {\"src\":true,\"alt\":true})) + \"/>\");\n}\nelse\n{\nbuf.push(\"<i class=\\\"glyphicon glyphicon-user\\\"></i>\");\n}\nbuf.push(\"<span data-i18n=\\\"nav.account\\\" href=\\\"/account\\\" class=\\\"spl spr\\\"></span><span class=\\\"caret\\\"></span></button><ul role=\\\"menu\\\" class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><div\" + (jade.attrs({ 'style':(\"background-image: url(\" + (me.getPhotoURL()) + \")\"), \"class\": [('img-circle')] }, {\"style\":true})) + \"></div></a><h3>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h3></li><li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li></ul></span>\");\n}\nelse\n{\nbuf.push(\"<button data-i18n=\\\"login.sign_up\\\" class=\\\"btn btn-sm btn-primary header-font signup-button\\\"></button><button data-i18n=\\\"login.log_in\\\" class=\\\"btn btn-sm btn-default header-font login-button\\\"></button>\");\n}\n}\nbuf.push(\"<select class=\\\"language-dropdown form-control\\\"></select></div></div><div id=\\\"site-content-area\\\"><p data-i18n=\\\"courses.to_join_ask\\\"></p><div id=\\\"join-classroom-form\\\" class=\\\"form-horizontal\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-2\\\"><button\" + (jade.attrs({ 'id':('join-class-btn'), 'disabled':(view.state==='enrolling'), 'data-i18n':(\"courses.join_this_class\"), \"class\": [('btn'),('btn-default'),('btn-block')] }, {\"disabled\":true,\"data-i18n\":true})) + \"></button></div><div class=\\\"col-sm-6\\\"><input\" + (jade.attrs({ 'id':('classroom-code-input'), 'data-i18n':(\"[placeholder]courses.enter_here\"), 'placeholder':('<enter unlock code here>'), 'value':(view.classCode), 'disabled':(view.state==='enrolling'), \"class\": [('form-control')] }, {\"data-i18n\":true,\"placeholder\":true,\"value\":true,\"disabled\":true})) + \"/></div></div>\");\nif ( view.state === 'enrolling')\n{\nbuf.push(\"<div class=\\\"progress progress-striped active\\\"><div style=\\\"width: 100%\\\" data-i18n=\\\"courses.joining\\\" class=\\\"progress-bar\\\"></div></div>\");\n}\nif ( view.state === 'unknown_error')\n{\nbuf.push(\"<div class=\\\"alert alert-danger\\\">\" + (jade.escape(null == (jade.interp = view.stateMessage) ? \"\" : jade.interp)) + \"</div>\");\n}\nvar justJoinedCourseInstance = view.courseInstances.find(function(ci) { return ci.justJoined; });\nif ( justJoinedCourseInstance)\n{\nvar course = view.courses.get(justJoinedCourseInstance.get('courseID'));\nvar classroom = view.classrooms.get(justJoinedCourseInstance.get('classroomID'));\nif ( course && classroom)\n{\nbuf.push(\"<div class=\\\"alert alert-info\\\"><span data-i18n=\\\"courses.successfully_joined\\\" class=\\\"spr\\\"></span><span class=\\\"spr\\\">\\\"\" + (jade.escape((jade.interp = classroom.get('name')) == null ? '' : jade.interp)) + \"\\\"!</span><a\" + (jade.attrs({ 'href':(\"/students/\" + (course.id) + \"/\" + (justJoinedCourseInstance.id) + \"\") }, {\"href\":true})) + \"><strong><span data-i18n=\\\"courses.click_to_start\\\" class=\\\"spr\\\"></span><span>\\\"\" + (jade.escape((jade.interp = course.get('name')) == null ? '' : jade.interp)) + \"\\\".</span></strong></a></div>\");\n}\n}\nbuf.push(\"</div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><div data-i18n=\\\"courses.my_courses\\\" class=\\\"panel-title\\\"></div></div><div class=\\\"list-group\\\"><div class=\\\"list-group-item\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><strong data-i18n=\\\"courses.classroom\\\"></strong></div><div class=\\\"col-sm-3\\\"><strong data-i18n=\\\"courses.course\\\"></strong></div></div></div>\");\n// iterate view.courseInstances.models\n;(function(){\n  var $$obj = view.courseInstances.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var courseInstance = $$obj[$index];\n\nvar classroom = view.classrooms.get(courseInstance.get('classroomID'))\nvar course = view.courses.get(courseInstance.get('courseID'))\nif ( !(classroom && course))\n{\ncontinue;\n}\nbuf.push(\"<div class=\\\"list-group-item\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\">\");\nif ( classroom)\n{\nbuf.push(\"\" + (jade.escape((jade.interp = classroom.get('name')) == null ? '' : jade.interp)) + \"\");\n}\nbuf.push(\"</div><div class=\\\"col-sm-3\\\">\");\nif ( course)\n{\nbuf.push(\"\" + (jade.escape((jade.interp = course.get('name')) == null ? '' : jade.interp)) + \"\");\n}\nbuf.push(\"</div><div class=\\\"col-sm-6\\\"><a\" + (jade.attrs({ 'href':(\"/students/\" + (course.id) + \"/\" + (courseInstance.id) + \"\"), 'data-i18n':(\"courses.enter\"), \"class\": [('btn'),('btn-default'),('btn-sm')] }, {\"href\":true,\"data-i18n\":true})) + \"></a></div></div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var courseInstance = $$obj[$index];\n\nvar classroom = view.classrooms.get(courseInstance.get('classroomID'))\nvar course = view.courses.get(courseInstance.get('courseID'))\nif ( !(classroom && course))\n{\ncontinue;\n}\nbuf.push(\"<div class=\\\"list-group-item\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\">\");\nif ( classroom)\n{\nbuf.push(\"\" + (jade.escape((jade.interp = classroom.get('name')) == null ? '' : jade.interp)) + \"\");\n}\nbuf.push(\"</div><div class=\\\"col-sm-3\\\">\");\nif ( course)\n{\nbuf.push(\"\" + (jade.escape((jade.interp = course.get('name')) == null ? '' : jade.interp)) + \"\");\n}\nbuf.push(\"</div><div class=\\\"col-sm-6\\\"><a\" + (jade.attrs({ 'href':(\"/students/\" + (course.id) + \"/\" + (courseInstance.id) + \"\"), 'data-i18n':(\"courses.enter\"), \"class\": [('btn'),('btn-default'),('btn-sm')] }, {\"href\":true,\"data-i18n\":true})) + \"></a></div></div></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><div data-i18n=\\\"courses.my_classes\\\" class=\\\"panel-title\\\"></div></div><div class=\\\"list-group\\\">\");\n// iterate view.classrooms.models\n;(function(){\n  var $$obj = view.classrooms.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var classroom = $$obj[$index];\n\nbuf.push(\"<div class=\\\"list-group-item\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-9\\\">\" + (jade.escape(null == (jade.interp = classroom.get('description')) ? \"\" : jade.interp)) + \"</div></div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var classroom = $$obj[$index];\n\nbuf.push(\"<div class=\\\"list-group-item\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-9\\\">\" + (jade.escape(null == (jade.interp = classroom.get('description')) ? \"\" : jade.interp)) + \"</div></div></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div></div><div class=\\\"achievement-corner\\\"></div><div id=\\\"site-footer\\\"><img id=\\\"footer-background\\\" src=\\\"/images/pages/base/nav_background.png\\\"/><div\" + (jade.attrs({ 'id':('footer-links'), \"class\": [(features.playViewsOnly ? 'hide' : '')] }, {\"class\":true})) + \"><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a>\");\n}\nbuf.push(\"<a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a><a href=\\\"https://jobs.lever.co/codecombat\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.careers\\\"></a><a href=\\\"/legal\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.legal\\\"></a><a href=\\\"/privacy\\\" tabindex=\\\"-1\\\" data-i18n=\\\"legal.privacy_title\\\"></a><a href=\\\"/contribute\\\" tabindex=\\\"-1\\\" data-i18n=\\\"nav.contribute\\\"></a>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<a href=\\\"/play/ladder\\\" tabindex=\\\"-1\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a>\");\n}\nif ( me.isAdmin())\n{\nbuf.push(\"<a href=\\\"/admin\\\">Admin</a>\");\n}\nif ( usesSocialMedia)\n{\nbuf.push(\"<div class=\\\"share-buttons\\\">\");\nif ( !isIE)\n{\nbuf.push(\"<div data-href=\\\"http://codecombat.com\\\" data-size=\\\"medium\\\" class=\\\"g-plusone\\\"></div>\");\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-href':(\"https://www.facebook.com/codecombat\"), 'data-send':(\"false\"), 'data-layout':(\"button_count\"), 'data-width':(\"350\"), 'data-show-faces':(\"true\"), 'data-ref':(\"coco_footer_\" + (fbRef) + \"\"), \"class\": [('fb-like')] }, {\"data-href\":true,\"data-send\":true,\"data-layout\":true,\"data-width\":true,\"data-show-faces\":true,\"data-ref\":true})) + \"></div>\");\nif ( !isIE)\n{\nbuf.push(\"<a href=\\\"https://twitter.com/CodeCombat\\\" data-show-count=\\\"true\\\" data-show-screen-name=\\\"false\\\" data-dnt=\\\"true\\\" data-align=\\\"right\\\" data-i18n=\\\"nav.twitter_follow\\\" class=\\\"twitter-follow-button\\\"></a><iframe src=\\\"https://ghbtns.com/github-btn.html?user=codecombat&amp;repo=codecombat&amp;type=watch&amp;count=true\\\" allowtransparency=\\\"true\\\" frameborder=\\\"0\\\" scrolling=\\\"0\\\" width=\\\"110\\\" height=\\\"20\\\" class=\\\"github-star-button\\\"></iframe>\");\n}\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div><div id=\\\"footer-credits\\\"><span><span> All Rights Reserved</span><br/><span>CodeCombat 2015</span></span><img id=\\\"footer-logo\\\" src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><span><span>Site Design by</span><br/><a href=\\\"http://www.fullyillustrated.com/\\\">Fully Illustrated</a></span><!--a.firebase-bade(href=\\\"https://www.firebase.com/\\\")  // Not using right now--><!--  img(src=\\\"/images/pages/base/firebase.png\\\", alt=\\\"Powered by Firebase\\\")--></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,state = locals_.state,_ = locals_._,i18n = locals_.i18n,translate = locals_.translate,dotClass = locals_.dotClass,levelName = locals_.levelName,context = locals_.context,moment = locals_.moment,link = locals_.link,labelText = locals_.labelText,me = locals_.me,serverConfig = locals_.serverConfig,document = locals_.document;var enrollmentStatusTab_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<!-- TODO: Have search input in all tabs--><!--form.form-inline.text-center.m-t-3--><!--  #search-form-group.form-group--><!--    label(for=\\\"student-search\\\") Search for student:--><!--    input#student-search.form-control.m-l-1(type=\\\"search\\\")--><!--    span.glyphicon.glyphicon-search.form-control-feedback--><table id=\\\"license-status-table\\\" class=\\\"table table-condensed m-t-3\\\"><thead><!-- Checkbox code works, but don't need it yet.--><!--th.checkbox-col.select-all<div class=\\\"checkbox-flat\\\"><input type=\\\"checkbox\\\" id=\\\"checkbox-all-students\\\"/><label for=\\\"checkbox-all-students\\\" class=\\\"checkmark\\\"></label></div>--><th><div class=\\\"sort-buttons small\\\"><span data-i18n=\\\"teacher.sort_by\\\"></span><span class=\\\"spr\\\">:</span><button data-i18n=\\\"general.name\\\" value=\\\"name\\\" class=\\\"sort-button sort-by-name\\\"></button><button data-i18n=\\\"user.status\\\" value=\\\"status\\\" class=\\\"sort-button sort-by-status\\\"></button></div></th></thead><tbody>\");\nvar searchTerm = view.state.get('searchTerm');\n// iterate state.get('students').search(searchTerm)\n;(function(){\n  var $$obj = state.get('students').search(searchTerm);\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var student = $$obj[$index];\n\nvar status = student.prepaidStatus()\nbuf.push(\"<tr class=\\\"student-row alternating-background\\\"><!--td.checkbox-col.student-checkbox<div class=\\\"checkbox-flat\\\"><input\" + (jade.attrs({ 'type':('checkbox'), 'id':('checkbox-student-' + student.id), 'data-student-id':(student.id) }, {\"type\":true,\"id\":true,\"data-student-id\":true})) + \"/><label\" + (jade.attrs({ 'for':('checkbox-student-' + student.id), \"class\": [('checkmark')] }, {\"for\":true})) + \"></label></div>--><td class=\\\"student-info-col\\\"><div class=\\\"student-info\\\"><div class=\\\"student-name\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</div><div class=\\\"student-email small-details\\\">\" + (jade.escape(null == (jade.interp = student.get('email')) ? \"\" : jade.interp)) + \"</div></div></td><td class=\\\"status-col\\\"><span data-i18n=\\\"user.status\\\"></span><span class=\\\"spr\\\">:</span><strong\" + (jade.attrs({ \"class\": [(status === 'expired' ? 'text-danger' : '')] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = view.studentStatusString(student)) ? \"\" : jade.interp)) + \"</strong></td><td class=\\\"enroll-col\\\">\");\nif ( status !== 'enrolled')\n{\nbuf.push(\"<button\" + (jade.attrs({ 'data-i18n':(\"teacher.apply_license\"), 'data-user-id':(student.id), 'data-event-action':(\"Teachers Class Enrollment Enroll Student\"), \"class\": [('enroll-student-button'),('btn'),('btn-navy')] }, {\"data-i18n\":true,\"data-user-id\":true,\"data-event-action\":true})) + \"></button>\");\n}\nelse\n{\nif ( student.prepaidType() === 'course')\n{\nbuf.push(\"<span data-i18n=\\\"teacher.full_license\\\"></span>\");\n}\nelse if ( student.prepaidType() === 'starter_license')\n{\nbuf.push(\"<span data-i18n=\\\"teacher.starter_license\\\"></span>\");\n}\n}\nbuf.push(\"</td></tr>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var student = $$obj[$index];\n\nvar status = student.prepaidStatus()\nbuf.push(\"<tr class=\\\"student-row alternating-background\\\"><!--td.checkbox-col.student-checkbox<div class=\\\"checkbox-flat\\\"><input\" + (jade.attrs({ 'type':('checkbox'), 'id':('checkbox-student-' + student.id), 'data-student-id':(student.id) }, {\"type\":true,\"id\":true,\"data-student-id\":true})) + \"/><label\" + (jade.attrs({ 'for':('checkbox-student-' + student.id), \"class\": [('checkmark')] }, {\"for\":true})) + \"></label></div>--><td class=\\\"student-info-col\\\"><div class=\\\"student-info\\\"><div class=\\\"student-name\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</div><div class=\\\"student-email small-details\\\">\" + (jade.escape(null == (jade.interp = student.get('email')) ? \"\" : jade.interp)) + \"</div></div></td><td class=\\\"status-col\\\"><span data-i18n=\\\"user.status\\\"></span><span class=\\\"spr\\\">:</span><strong\" + (jade.attrs({ \"class\": [(status === 'expired' ? 'text-danger' : '')] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = view.studentStatusString(student)) ? \"\" : jade.interp)) + \"</strong></td><td class=\\\"enroll-col\\\">\");\nif ( status !== 'enrolled')\n{\nbuf.push(\"<button\" + (jade.attrs({ 'data-i18n':(\"teacher.apply_license\"), 'data-user-id':(student.id), 'data-event-action':(\"Teachers Class Enrollment Enroll Student\"), \"class\": [('enroll-student-button'),('btn'),('btn-navy')] }, {\"data-i18n\":true,\"data-user-id\":true,\"data-event-action\":true})) + \"></button>\");\n}\nelse\n{\nif ( student.prepaidType() === 'course')\n{\nbuf.push(\"<span data-i18n=\\\"teacher.full_license\\\"></span>\");\n}\nelse if ( student.prepaidType() === 'starter_license')\n{\nbuf.push(\"<span data-i18n=\\\"teacher.starter_license\\\"></span>\");\n}\n}\nbuf.push(\"</td></tr>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</tbody></table>\");\n};\nvar bulkAssignControls_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"bulk-assign-controls form-inline\\\"><div\" + (jade.attrs({ \"class\": [('no-students-selected'),('small-details'),(state.get('errors').assigningToNobody ? 'visible' : '')] }, {\"class\":true})) + \"><span data-i18n=\\\"teacher.no_students_selected\\\"></span></div><span class=\\\"small\\\"><span data-i18n=\\\"teacher.bulk_assign\\\"></span><span>:</span></span><select class=\\\"bulk-course-select form-control\\\">\");\n// iterate _.rest(view.latestReleasedCourses)\n;(function(){\n  var $$obj = _.rest(view.latestReleasedCourses);\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var course = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(course.id), 'selected':((course===state.get('selectedCourse'))) }, {\"value\":true,\"selected\":true})) + \">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)));\nif ( !view.availableCourseMap[course.id])\n{\nbuf.push(jade.escape(null == (jade.interp = \" \" + translate('teacher.paren_new')) ? \"\" : jade.interp));\n}\nbuf.push(\"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var course = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(course.id), 'selected':((course===state.get('selectedCourse'))) }, {\"value\":true,\"selected\":true})) + \">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)));\nif ( !view.availableCourseMap[course.id])\n{\nbuf.push(jade.escape(null == (jade.interp = \" \" + translate('teacher.paren_new')) ? \"\" : jade.interp));\n}\nbuf.push(\"</option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</select><button class=\\\"btn btn-primary-alt assign-to-selected-students\\\"><span data-i18n=\\\"teacher.assign_to_selected_students\\\"></span></button></div>\");\n};\nvar copyCodes_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"copy-button-group form-inline m-b-3\\\"><div class=\\\"form-group\\\"><input\" + (jade.attrs({ 'id':('join-code-input'), 'value':(state.get('classCode')), \"class\": [('text-h4'),('semibold')] }, {\"value\":true})) + \"/></div><button id=\\\"copy-code-btn\\\" class=\\\"form-control btn btn-lg btn-forest\\\"><span data-i18n=\\\"teacher.copy_class_code\\\"></span></button><div data-i18n=\\\"teacher.class_code_blurb\\\" class=\\\"text-center small class-code-blurb\\\"></div></div><div class=\\\"copy-button-group form-inline m-b-3\\\"><div class=\\\"form-group\\\"><input\" + (jade.attrs({ 'id':('join-url-input'), 'value':(state.get('joinURL')), \"class\": [('form-control'),('text-h4'),('semibold')] }, {\"value\":true})) + \"/></div><button id=\\\"copy-url-btn\\\" class=\\\"form-control btn btn-lg btn-forest\\\"><span data-i18n=\\\"teacher.copy_class_url\\\"></span></button><div data-i18n=\\\"teacher.class_join_url_blurb\\\" class=\\\"text-center small class-code-blurb\\\"></div></div>\");\n};\nvar progressDotLabel_mixin = function(label){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"dot-label text-center\\\"><div class=\\\"dot-label-inner\\\">\" + (jade.escape(null == (jade.interp = label) ? \"\" : jade.interp)) + \"</div></div>\");\n};\nvar studentLevelProgressDot_mixin = function(progress, level, levelNumber){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\ndotClass = progress.completed ? 'forest' : (progress.started ? 'gold' : '');\nlevelName = i18n(level.attributes, 'name')\ncontext = _.merge(progress, { levelName: levelName, levelNumber: levelNumber, moment: moment, practice: level.get('practice') })\nlink = null;\nlabelText = levelNumber;\nif ( level.isLadder())\n{\nvar course = view.state.get('selectedCourse');\nvar courseInstance = view.courseInstances.findWhere({ courseID: course.id, classroomID: view.classroom.id });\nif ( courseInstance)\n{\nlink = view.urls.courseArenaLadder({level: level, courseInstance: courseInstance});\nlabelText = translate('courses.arena');\n}\nelse\n{\nlabelText = translate('courses.arena');\n}\ndotClass += ' progress-dot-lg';\n}\nelse if ( level.isProject())\n{\nif ( progress.started)\n{\nlink = view.urls.playDevLevel({level: level, session: progress.session, course: view.state.get('selectedCourse')});\nlabelText = translate('teacher.view_student_project');\ndotClass = 'navy';\n}\nelse\n{\nlabelText = translate('teacher.project');\n}\ndotClass += ' progress-dot-lg';\n}\nelse if ( level.get('practice'))\n{\nif ( !(progress.completed || progress.started))\n{\nlabelText = ''\ndotClass += ' practice'\n}\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-html':('true'), 'data-title':(view.singleStudentLevelProgressDotTemplate(context)), \"class\": [('progress-dot'),('level-progress-dot'),(dotClass)] }, {\"class\":true,\"data-html\":true,\"data-title\":true})) + \">\");\nif ( link)\n{\nbuf.push(\"<a\" + (jade.attrs({ 'href':(link) }, {\"href\":true})) + \">\");\nprogressDotLabel_mixin(labelText);\nbuf.push(\"</a>\");\n}\nelse\n{\nprogressDotLabel_mixin(labelText);\n}\nbuf.push(\"</div>\");\n};\nvar allStudentsLevelProgressDot_mixin = function(progress, level, levelNumber){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\ndotClass = progress.completed ? 'forest' : (progress.started ? 'gold' : '');\nlevelName = i18n(level.attributes, 'name')\ncontext = _.merge(progress, { levelName: levelName, levelNumber: levelNumber, numStudents: view.students.length, practice: level.get('practice') })\nlink = null;\nlabelText = levelNumber;\nif ( level.isLadder())\n{\nvar course = view.state.get('selectedCourse');\nvar courseInstance = course && view.classroom ? view.courseInstances.findWhere({ courseID: course.id, classroomID: view.classroom.id }) : null;\nif ( courseInstance)\n{\nlink = view.urls.courseArenaLadder({level: level, courseInstance: courseInstance});\nlabelText = translate('teacher.view_arena_ladder');\n}\nelse\n{\nlabelText = translate('courses.arena');\n}\ndotClass = 'navy progress-dot-lg';\n}\nelse if ( level.isProject())\n{\nlabelText = translate('teacher.project')\ndotClass += ' progress-dot-lg';\n}\nelse if ( level.get('practice'))\n{\nif ( !(progress.completed || progress.started))\n{\nlabelText = ''\ndotClass += ' practice'\n}\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-html':('true'), 'data-title':(view.allStudentsLevelProgressDotTemplate(context)), \"class\": [('progress-dot'),('level-progress-dot'),(dotClass)] }, {\"class\":true,\"data-html\":true,\"data-title\":true})) + \">\");\nif ( link)\n{\nbuf.push(\"<a\" + (jade.attrs({ 'href':(link) }, {\"href\":true})) + \">\");\nprogressDotLabel_mixin(labelText);\nbuf.push(\"</a>\");\n}\nelse\n{\nprogressDotLabel_mixin(labelText);\n}\nbuf.push(\"</div>\");\n};\nvar studentCourseProgressDot_mixin = function(progress, levelsTotal, label){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\ndotClass = progress.completed ? 'forest' : (progress.started ? 'gold' : '');\n_.assign(progress, { levelsTotal: levelsTotal })\nbuf.push(\"<div\" + (jade.attrs({ 'data-html':('true'), 'data-title':(view.singleStudentCourseProgressDotTemplate(progress)), \"class\": [('progress-dot'),(dotClass)] }, {\"class\":true,\"data-html\":true,\"data-title\":true})) + \">\");\nprogressDotLabel_mixin(label);\nbuf.push(\"</div>\");\n};\nvar studentLevelsRow_mixin = function(student){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"student-levels-row alternating-background\\\"><div class=\\\"student-info\\\"><div class=\\\"student-name\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</div><div class=\\\"student-email small-details\\\">\" + (jade.escape(null == (jade.interp = student.get('email')) ? \"\" : jade.interp)) + \"</div></div><div class=\\\"student-levels-progress\\\">\");\nvar course = state.get('selectedCourse')\nvar levels = view.classroom.getLevels({courseID: course.id}).models\n// iterate levels\n;(function(){\n  var $$obj = levels;\n  if ('number' == typeof $$obj.length) {\n\n    for (var index = 0, $$l = $$obj.length; index < $$l; index++) {\n      var level = $$obj[index];\n\nvar progress = state.get('progressData').get({ classroom: view.classroom, course: course, level: level, user: student })\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), index + 1)\nstudentLevelProgressDot_mixin(progress, level, levelNumber);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var index in $$obj) {\n      $$l++;      var level = $$obj[index];\n\nvar progress = state.get('progressData').get({ classroom: view.classroom, course: course, level: level, user: student })\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), index + 1)\nstudentLevelProgressDot_mixin(progress, level, levelNumber);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div>\");\n};\nvar courseOverview_mixin = function(course){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nvar levels = view.classroom.getLevels({courseID: course.id}).models\nbuf.push(\"<div class=\\\"course-overview-row\\\"><div class=\\\"course-title student-name\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</span><span>\" + (jade.escape(null == (jade.interp = ': ') ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"teacher.course_overview\\\"></span></div><div class=\\\"course-overview-progress\\\">\");\n// iterate levels\n;(function(){\n  var $$obj = levels;\n  if ('number' == typeof $$obj.length) {\n\n    for (var index = 0, $$l = $$obj.length; index < $$l; index++) {\n      var level = $$obj[index];\n\nvar progress = state.get('progressData').get({ classroom: view.classroom, course: course, level: level })\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), index + 1)\nallStudentsLevelProgressDot_mixin(progress, level, levelNumber);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var index in $$obj) {\n      $$l++;      var level = $$obj[index];\n\nvar progress = state.get('progressData').get({ classroom: view.classroom, course: course, level: level })\nvar levelNumber = view.classroom.getLevelNumber(level.get('original'), index + 1)\nallStudentsLevelProgressDot_mixin(progress, level, levelNumber);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div>\");\n};\nvar courseProgressTab_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div id=\\\"course-progress-tab\\\" class=\\\"m-t-3\\\">\");\nif ( view.courses)\n{\nbuf.push(\"<div class=\\\"text-center\\\"><span data-i18n=\\\"teacher.select_course\\\"></span><span class=\\\"spr\\\">:</span><select class=\\\"course-select\\\">\");\n// iterate view.latestReleasedCourses\n;(function(){\n  var $$obj = view.latestReleasedCourses;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var course = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(course.id), 'selected':((course===state.get('selectedCourse'))) }, {\"value\":true,\"selected\":true})) + \">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)));\nif ( !view.availableCourseMap[course.id])\n{\nbuf.push(jade.escape(null == (jade.interp = \" \" + translate('teacher.paren_new')) ? \"\" : jade.interp));\n}\nbuf.push(\"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var course = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'value':(course.id), 'selected':((course===state.get('selectedCourse'))) }, {\"value\":true,\"selected\":true})) + \">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)));\nif ( !view.availableCourseMap[course.id])\n{\nbuf.push(jade.escape(null == (jade.interp = \" \" + translate('teacher.paren_new')) ? \"\" : jade.interp));\n}\nbuf.push(\"</option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</select></div>\");\n}\nbuf.push(\"<h4 data-i18n=\\\"teacher.progress_color_key\\\" class=\\\"m-b-2\\\"></h4><div id=\\\"progress-color-key-row\\\" class=\\\"row\\\"><div class=\\\"col col-md-2 col-xs-4\\\"><div class=\\\"progress-dot forest\\\"></div><div class=\\\"key-text\\\"><span data-i18n=\\\"play_level.level_complete\\\" class=\\\"small\\\"></span></div><div class=\\\"clearfix\\\"></div></div><div class=\\\"col col-md-2 col-xs-4\\\"><div class=\\\"progress-dot gold\\\"></div><div class=\\\"key-text\\\"><span data-i18n=\\\"teacher.level_in_progress\\\" class=\\\"small\\\"></span></div><div class=\\\"clearfix\\\"></div></div><div class=\\\"col col-md-2 col-xs-4\\\"><div class=\\\"progress-dot navy\\\"></div><div class=\\\"key-text\\\"><span data-i18n=\\\"teacher.project_or_arena\\\" class=\\\"small\\\"></span></div><div class=\\\"clearfix\\\"></div></div><div class=\\\"col col-md-2 col-xs-4\\\"><div class=\\\"progress-dot\\\"></div><div class=\\\"key-text\\\"><span data-i18n=\\\"teacher.level_not_started\\\" class=\\\"small\\\"></span></div><div class=\\\"clearfix\\\"></div></div></div>\");\nvar course = state.get('selectedCourse');\nvar courseInstance = view.courseInstances.findWhere({ courseID: course.id, classroomID: view.classroom.id });\nif ( course && view.availableCourseMap[course.id] && courseInstance && courseInstance.get('members').length > 0)\n{\nbuf.push(\"<div class=\\\"render-on-course-sync\\\">\");\ncourseOverview_mixin(course);\nbuf.push(\"<div class=\\\"student-levels-table\\\">\");\nsortButtons_mixin();\n// iterate state.get('students').models\n;(function(){\n  var $$obj = state.get('students').models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var student = $$obj[$index];\n\nif ( _.contains(state.get('selectedCourse').members, student.id))\n{\nstudentLevelsRow_mixin(student);\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var student = $$obj[$index];\n\nif ( _.contains(state.get('selectedCourse').members, student.id))\n{\nstudentLevelsRow_mixin(student);\n}\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div>\");\n}\nelse\n{\nbuf.push(\"<br/><h2 class=\\\"text-center\\\"><i data-i18n=\\\"teacher.no_student_assigned\\\"></i></h2>\");\n}\nbuf.push(\"<div class=\\\"unassigned-students render-on-course-sync\\\">\");\nif ( state.get('selectedCourse') && state.get('selectedCourse').members.length < state.get('students').length)\n{\nbuf.push(\"<h2>\");\nvar courseName = i18n(state.get('selectedCourse').attributes, 'name');\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = translate('teacher.students_not_assigned').replace('{{courseName}}', courseName)) ? \"\" : jade.interp)) + \"</span></h2>\");\n// iterate state.get('students').models\n;(function(){\n  var $$obj = state.get('students').models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var student = $$obj[$index];\n\nif (!( _.contains(state.get('selectedCourse').members, student.id)))\n{\nbuf.push(\"<div class=\\\"row unassigned-student-row alternating-background\\\"><div class=\\\"student-name col-sm-3\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</div><div class=\\\"student-email small-details col-sm-3\\\">\" + (jade.escape(null == (jade.interp = student.get('email')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-4\\\"><div class=\\\"latest-completed truncate small\\\"><i class=\\\"m-r-1\\\"><span data-i18n=\\\"teacher.latest_completed\\\"></span></i>\");\nlongLevelName_mixin(student.latestCompleteLevel);\nbuf.push(\"</div></div><div class=\\\"col-sm-2\\\"><div\" + (jade.attrs({ 'data-user-id':(student.id), 'data-course-id':(state.get('selectedCourse').id), \"class\": [('assign-student-button'),('btn'),('btn-md'),('btn-navy'),('pull-right')] }, {\"data-user-id\":true,\"data-course-id\":true})) + \"><span data-i18n=\\\"teacher.assign_course\\\"></span></div></div></div>\");\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var student = $$obj[$index];\n\nif (!( _.contains(state.get('selectedCourse').members, student.id)))\n{\nbuf.push(\"<div class=\\\"row unassigned-student-row alternating-background\\\"><div class=\\\"student-name col-sm-3\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</div><div class=\\\"student-email small-details col-sm-3\\\">\" + (jade.escape(null == (jade.interp = student.get('email')) ? \"\" : jade.interp)) + \"</div><div class=\\\"col-sm-4\\\"><div class=\\\"latest-completed truncate small\\\"><i class=\\\"m-r-1\\\"><span data-i18n=\\\"teacher.latest_completed\\\"></span></i>\");\nlongLevelName_mixin(student.latestCompleteLevel);\nbuf.push(\"</div></div><div class=\\\"col-sm-2\\\"><div\" + (jade.attrs({ 'data-user-id':(student.id), 'data-course-id':(state.get('selectedCourse').id), \"class\": [('assign-student-button'),('btn'),('btn-md'),('btn-navy'),('pull-right')] }, {\"data-user-id\":true,\"data-course-id\":true})) + \"><span data-i18n=\\\"teacher.assign_course\\\"></span></div></div></div>\");\n}\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</div></div>\");\n};\nvar studentRow_mixin = function(student){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<tr class=\\\"student-row alternating-background\\\"><td class=\\\"checkbox-col student-checkbox\\\"><div class=\\\"checkbox-flat\\\"><input\" + (jade.attrs({ 'type':('checkbox'), 'id':('checkbox-student-' + student.id), 'data-student-id':(student.id), 'checked':(state.get('checkboxStates')[student.id]) }, {\"type\":true,\"id\":true,\"data-student-id\":true,\"checked\":true})) + \"/><label\" + (jade.attrs({ 'for':('checkbox-student-' + student.id), \"class\": [('checkmark')] }, {\"for\":true})) + \"></label></div></td><td class=\\\"student-info-col\\\"><div class=\\\"student-info\\\">\");\nif ( student.get('deleted'))\n{\nbuf.push(\"<em>(deleted)</em>\");\n}\nvar url = '/teachers/classes/' + view.classroom.id + '/' + student.id;\nbuf.push(\"<a\" + (jade.attrs({ 'href':(url) }, {\"href\":true})) + \"><div class=\\\"student-name\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</div></a><div class=\\\"student-email small-details\\\">\" + (jade.escape(null == (jade.interp = student.get('email')) ? \"\" : jade.interp)) + \"</div></div></td><td class=\\\"hidden\\\"><a\" + (jade.attrs({ 'data-student-id':(student.id), \"class\": [('edit-student-button')] }, {\"data-student-id\":true})) + \"><span class=\\\"glyphicon glyphicon-edit\\\"></span><span data-i18n=\\\"teacher.edit\\\"></span></a></td><td class=\\\"latest-level-col small\\\"><div><i><span data-i18n=\\\"teacher.latest_completed\\\"></span></i></div><div>\");\nlongLevelName_mixin(student.latestCompleteLevel);\nbuf.push(\"</div></td><td>\");\nif ( state.get('progressData'))\n{\nvar courses = view.sortedCourses.map(function(c) { return view.courses.get(c._id); });\nvar courseLabelsArray = view.helper.courseLabelsArray(courses);\n// iterate view.sortedCourses\n;(function(){\n  var $$obj = view.sortedCourses;\n  if ('number' == typeof $$obj.length) {\n\n    for (var index = 0, $$l = $$obj.length; index < $$l; index++) {\n      var trimCourse = $$obj[index];\n\nvar course = view.courses.get(trimCourse._id);\nvar instance = view.courseInstances.findWhere({ courseID: course.id, classroomID: classroom.id })\nif ( instance && instance.hasMember(student))\n{\nvar progress = state.get('progressData').get({ classroom: view.classroom, course: course, user: student })\nvar levelsTotal = _.reject(trimCourse.levels, 'practice').length\nvar label = courseLabelsArray[index];\nstudentCourseProgressDot_mixin(progress, levelsTotal, label);\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var index in $$obj) {\n      $$l++;      var trimCourse = $$obj[index];\n\nvar course = view.courses.get(trimCourse._id);\nvar instance = view.courseInstances.findWhere({ courseID: course.id, classroomID: classroom.id })\nif ( instance && instance.hasMember(student))\n{\nvar progress = state.get('progressData').get({ classroom: view.classroom, course: course, user: student })\nvar levelsTotal = _.reject(trimCourse.levels, 'practice').length\nvar label = courseLabelsArray[index];\nstudentCourseProgressDot_mixin(progress, levelsTotal, label);\n}\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</td><td><div class=\\\"pull-right\\\"><a\" + (jade.attrs({ 'data-student-id':(student.id), \"class\": [('edit-student-link'),('small'),('center-block'),('text-center'),('m-r-2')] }, {\"data-student-id\":true})) + \"><div class=\\\"glyphicon glyphicon-edit\\\"></div><div data-i18n=\\\"teacher.edit\\\"></div></a><a\" + (jade.attrs({ 'data-student-id':(student.id), \"class\": [('remove-student-link'),('small'),('center-block'),('text-center'),('m-r-2')] }, {\"data-student-id\":true})) + \"><div class=\\\"glyphicon glyphicon-remove\\\"></div><div data-i18n=\\\"teacher.remove\\\"></div></a></div></td></tr>\");\n};\nvar sortButtons_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"sort-buttons small\\\"><span data-i18n=\\\"teacher.sort_by\\\"></span><span class=\\\"spr\\\">:</span><button data-i18n=\\\"general.name\\\" value=\\\"name\\\" class=\\\"sort-button sort-by-name\\\"></button><button data-i18n=\\\"teacher.progress\\\" value=\\\"progress\\\" class=\\\"sort-button sort-by-progress\\\"></button></div>\");\n};\nvar studentsTab_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div id=\\\"students-tab\\\">\");\nbulkAssignControls_mixin();\nbuf.push(\"<table class=\\\"students-table\\\"><thead><th class=\\\"checkbox-col select-all small text-center\\\"><span data-i18n=\\\"teacher.select_all\\\"></span><div class=\\\"checkbox-flat\\\">\");\nvar allStudentsChecked = _.all(state.get('checkboxStates'))\nbuf.push(\"<input\" + (jade.attrs({ 'type':('checkbox'), 'id':('checkbox-all-students'), 'checked':(allStudentsChecked) }, {\"type\":true,\"id\":true,\"checked\":true})) + \"/><label for=\\\"checkbox-all-students\\\" class=\\\"checkmark\\\"></label></div></th><th>\");\nsortButtons_mixin();\nbuf.push(\"</th></thead><tbody>\");\n// iterate state.get('students').models\n;(function(){\n  var $$obj = state.get('students').models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var student = $$obj[$index];\n\nstudentRow_mixin(student);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var student = $$obj[$index];\n\nstudentRow_mixin(student);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</tbody></table></div>\");\n};\nvar addStudentsButton_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"add-students\\\"><a\" + (jade.attrs({ 'data-classroom-id':(view.classroom.id), \"class\": [('add-students-btn'),('btn'),('btn-lg'),('btn-primary')] }, {\"data-classroom-id\":true})) + \"><span data-i18n=\\\"teacher.add_students_manually\\\"></span></a></div>\");\n};\nvar inlineUserList_mixin = function(users){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nif ( users)\n{\nbuf.push(\"<ul class=\\\"inline-student-list small\\\">\");\n// iterate users\n;(function(){\n  var $$obj = users;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var student = $$obj[$index];\n\nbuf.push(\"<li><span class=\\\"inline-student-name\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</span></li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var student = $$obj[$index];\n\nbuf.push(\"<li><span class=\\\"inline-student-name\\\">\" + (jade.escape(null == (jade.interp = student.broadName()) ? \"\" : jade.interp)) + \"</span></li>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</ul>\");\n}\n};\nvar longLevelName_mixin = function(data){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nif ( data)\n{\nbuf.push(\"<div class=\\\"level-name\\\"><span>\" + (jade.escape(null == (jade.interp = data.courseName + ': ') ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"play_level.level\\\"></span><span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = data.levelNumber) ? \"\" : jade.interp)) + \"</span></div>\");\n}\nelse\n{\nbuf.push(\"<div data-i18n=\\\"teacher.not_applicable\\\" class=\\\"level-name\\\"></div>\");\n}\n};\nvar breadcrumbs_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"breadcrumbs\\\"><a data-i18n=\\\"teacher.my_classes\\\" href=\\\"/teachers/classes\\\"></a><span class=\\\"spl spr\\\">></span><span>\" + (jade.escape(null == (jade.interp = view.classroom.get('name')) ? \"\" : jade.interp)) + \"</span></div>\");\n};\nvar accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav>\");\nvar path = document.location.pathname\nbuf.push(\"<div id=\\\"teacher-dashboard-nav\\\"><nav class=\\\"navbar\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#teacher-dashboard-nav-collapse\\\" class=\\\"navbar-toggle collapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><span data-i18n=\\\"teacher.teacher_dashboard\\\" class=\\\"navbar-brand text-h4\\\"></span></div><div id=\\\"teacher-dashboard-nav-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/classes') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/classes\\\"><small data-i18n=\\\"teacher.my_classes\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/courses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/courses\\\"><small data-i18n=\\\"teacher.courses\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/licenses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/licenses\\\"><small data-i18n=\\\"teacher.enrollments\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources') === 0 && path.indexOf('/teachers/resources/faq') !== 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources\\\"><small data-i18n=\\\"teacher.resource_hub\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources/faq') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources/faq\\\"><small data-i18n=\\\"teacher.educator_faq\\\" class=\\\"label\\\"></small></a></li></ul></div></div></nav></div><div id=\\\"site-content-area\\\">\");\nvar classroom = view.classroom\nif ( !me.isTeacher() && !me.isAdmin())\n{\nbuf.push(\"<div class=\\\"alert alert-danger text-center\\\"><div class=\\\"container\\\"><!-- DNT: Temporary--><h3>ATTENTION: Please upgrade your account to a Teacher Account.</h3><p>We are transitioning to a new improved classroom management system for instructors.\\nPlease convert your account to ensure you retain access to your classrooms.</p><a href=\\\"/teachers/update-account\\\" class=\\\"btn btn-primary btn-lg\\\">Upgrade to teacher account</a></div></div>\");\n}\nif ( classroom.loaded)\n{\nbuf.push(\"<div class=\\\"container\\\">\");\nbreadcrumbs_mixin();\nif ( classroom.get('archived'))\n{\nbuf.push(\"<div class=\\\"row center-block text-center m-t-3 m-b-3\\\"><div class=\\\"unarchive-btn btn btn-lg btn-navy\\\"><span data-i18n=\\\"teacher.unarchive_this_class\\\"></span></div></div>\");\n}\nbuf.push(\"<h3 class=\\\"m-t-2\\\">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</h3><a\" + (jade.attrs({ 'data-classroom-id':(classroom.id), \"class\": [('label'),('edit-classroom')] }, {\"data-classroom-id\":true})) + \"><span data-i18n=\\\"teacher.edit_class_settings\\\"></span></a><h4>\" + (jade.escape(null == (jade.interp = classroom.get('description')) ? \"\" : jade.interp)) + \"</h4><div class=\\\"classroom-info-row row m-t-5\\\"><div class=\\\"classroom-details col-md-3\\\">\");\nvar stats = state.get('classStats')\nbuf.push(\"<h4 data-i18n=\\\"teacher.class_overview\\\" class=\\\"m-b-2\\\"></h4><div class=\\\"language small-details\\\"><span data-i18n=\\\"teacher.language\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = classroom.capitalLanguage) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"student-count small-details\\\"><span data-i18n=\\\"courses.students\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = classroom.get('members').length) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"average-playtime small-details\\\"><span data-i18n=\\\"teacher.avg_playtime\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = stats.averagePlaytime) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"total-playtime small-details\\\"><span data-i18n=\\\"teacher.total_playtime\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = stats.totalPlaytime) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"average-complete small-details\\\"><span data-i18n=\\\"teacher.avg_completed\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = stats.averageLevelsComplete) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"total-complete small-details\\\"><span data-i18n=\\\"teacher.total_completed\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = stats.totalLevelsComplete) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"total-complete small-details\\\"><span data-i18n=\\\"teacher.created\\\"></span><span class=\\\"spr\\\">:</span><span>\" + (jade.escape(null == (jade.interp = moment(classroom.created()).format('l')) ? \"\" : jade.interp)) + \"</span></div>\");\nif ( view.students && view.students.models.length > 0)\n{\nbuf.push(\"<button class=\\\"export-student-progress-btn btn btn-lg btn-primary\\\"><span data-i18n=\\\"teacher.export_student_progress\\\"></span></button>\");\n}\nbuf.push(\"</div><div class=\\\"completeness-info col-md-4\\\"><h4 class=\\\"m-b-2\\\">&nbsp;</h4>\");\nif ( state.get('earliestIncompleteLevel'))\n{\nbuf.push(\"<div class=\\\"small-details\\\"><span data-i18n=\\\"teacher.earliest_incomplete\\\"></span><span>:</span></div>\");\nlongLevelName_mixin(state.get('earliestIncompleteLevel'));\ninlineUserList_mixin(state.get('earliestIncompleteLevel').users);\n}\nif ( state.get('latestCompleteLevel'))\n{\nbuf.push(\"<div class=\\\"small-details m-t-3\\\"><span data-i18n=\\\"teacher.latest_complete\\\"></span><span>:</span></div>\");\nlongLevelName_mixin(state.get('latestCompleteLevel'));\ninlineUserList_mixin(state.get('latestCompleteLevel').users);\n}\nbuf.push(\"</div><div class=\\\"adding-students col-md-5\\\"><h4 class=\\\"m-b-2\\\"><span data-i18n=\\\"courses.add_students\\\"></span><span>:</span></h4>\");\ncopyCodes_mixin();\naddStudentsButton_mixin();\nbuf.push(\"</div></div>\");\nif ( view.students.length > 0)\n{\nbuf.push(\"<ul role=\\\"tablist\\\" class=\\\"nav nav-tabs m-t-5\\\">\");\nvar activeTab = state.get('activeTab');\nbuf.push(\"<li\" + (jade.attrs({ \"class\": [((activeTab === \"#students-tab\" ? 'active' : ''))] }, {\"class\":true})) + \"><a href=\\\"#students-tab\\\" class=\\\"students-tab-btn\\\"><div data-i18n=\\\"courses.students\\\" class=\\\"small-details text-center\\\"></div></a></li><div class=\\\"tab-spacer\\\"></div><li\" + (jade.attrs({ \"class\": [((activeTab === \"#course-progress-tab\" ? 'active' : ''))] }, {\"class\":true})) + \"><a href=\\\"#course-progress-tab\\\" class=\\\"course-progress-tab-btn\\\"><div data-i18n=\\\"teacher.course_progress\\\" class=\\\"small-details text-center\\\"></div></a></li><div class=\\\"tab-spacer\\\"></div><li\" + (jade.attrs({ \"class\": [((activeTab === \"#license-status-tab\" ? 'active' : ''))] }, {\"class\":true})) + \"><a href=\\\"#license-status-tab\\\" class=\\\"course-progress-tab-btn\\\"><div data-i18n=\\\"teacher.license_status\\\" class=\\\"small-details text-center\\\"></div></a></li><div class=\\\"tab-filler\\\"></div></ul><div class=\\\"tab-content\\\">\");\nif ( activeTab === '#students-tab')\n{\nstudentsTab_mixin();\n}\nelse if ( activeTab === '#course-progress-tab')\n{\ncourseProgressTab_mixin();\n}\nelse if ( activeTab === '#license-status-tab')\n{\nenrollmentStatusTab_mixin();\n}\nbuf.push(\"</div>\");\n}\nelse\n{\nbuf.push(\"<div class=\\\"text-center m-t-5 m-b-5\\\"><div class=\\\"text-h2\\\"><span data-i18n=\\\"teacher.no_students_yet\\\"></span></div><div class=\\\"text-h4\\\"><span data-i18n=\\\"teacher.try_refreshing\\\"></span></div></div>\");\n}\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),courseInstance = locals_.courseInstance,view = locals_.view,me = locals_.me,serverConfig = locals_.serverConfig,document = locals_.document,_ = locals_._;var archivedClassRow_mixin = function(classroom){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"class row\\\"><div class=\\\"col-xs-10\\\"><span>\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"col-xs-2\\\"><div class=\\\"class-links pull-right\\\"><a\" + (jade.attrs({ 'data-i18n':('teacher.unarchive_class'), 'data-classroom-id':(classroom.id), \"class\": [('unarchive-classroom'),('text-h6')] }, {\"data-i18n\":true,\"data-classroom-id\":true})) + \"></a></div></div></div>\");\n};\nvar progressDotLabel_mixin = function(label){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"dot-label text-h6\\\">\" + (jade.escape(null == (jade.interp = label) ? \"\" : jade.interp)) + \"</div>\");\n};\nvar progressDot_mixin = function(classroom, course, label){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\ncourseInstance = view.courseInstances.findWhere({ courseID: course.id, classroomID: classroom.id })\nvar total = classroom.get('members').length\nvar complete = 0;\nvar dotClass = '';\nvar started = 0;\nif ( courseInstance)\n{\ncomplete = courseInstance.numCompleted\nstarted = courseInstance.started\ndotClass = complete === total ? 'forest' : started ? 'gold' : '';\n}\nvar progressDotContext = {total: total, complete: complete};\nbuf.push(\"<div\" + (jade.attrs({ 'data-title':(view.progressDotTemplate(progressDotContext)), \"class\": [('progress-dot'),(dotClass)] }, {\"class\":true,\"data-title\":true})) + \">\");\nprogressDotLabel_mixin(label);\nbuf.push(\"</div>\");\n};\nvar createClassButton_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"create-class\\\"><div class=\\\"text-center\\\"><a data-i18n=\\\"teacher.create_new_class\\\" class=\\\"create-classroom-btn btn btn-lg btn-primary\\\"></a></div></div>\");\n};\nvar addStudentsButton_mixin = function(classroom){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"add-students\\\"><div class=\\\"text-center\\\"><div data-i18n=\\\"teacher.no_students_yet_view_class\\\" class=\\\"small-details\\\"></div></div></div>\");\n};\nvar classRow_mixin = function(classroom){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"class row\\\"><div class=\\\"class-details-col\\\"><div class=\\\"text-h4 semibold\\\">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</div><div class=\\\"language small\\\"><span data-i18n=\\\"teacher.language\\\"></span>:&nbsp;<span class=\\\"language-name\\\">\" + (jade.escape(null == (jade.interp = classroom.capitalLanguage) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"student-count small\\\"><span data-i18n=\\\"courses.students\\\"></span>:&nbsp;<span>\" + (jade.escape(null == (jade.interp = classroom.get('members').length) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"class-links\\\"><a\" + (jade.attrs({ 'data-i18n':('teacher.view_class'), 'data-classroom-id':(classroom.id), 'data-event-action':(\"Teachers Classes View Class Link\"), \"class\": [('view-class-btn'),('text-h6')] }, {\"data-i18n\":true,\"data-classroom-id\":true,\"data-event-action\":true})) + \"></a><a\" + (jade.attrs({ 'data-i18n':('teacher.edit_class_settings'), 'data-classroom-id':(classroom.id), 'data-event-action':(\"Teachers Classes Edit Class Started\"), \"class\": [('edit-classroom'),('text-h6')] }, {\"data-i18n\":true,\"data-classroom-id\":true,\"data-event-action\":true})) + \"></a><a\" + (jade.attrs({ 'data-i18n':('teacher.archive_class'), 'data-classroom-id':(classroom.id), 'data-event-action':(\"Teachers Classes Archive Class\"), \"class\": [('archive-classroom'),('text-h6')] }, {\"data-i18n\":true,\"data-classroom-id\":true,\"data-event-action\":true})) + \"></a></div></div><div class=\\\"flex-right\\\"><div class=\\\"progress-col\\\">\");\nif ( classroom.get('members').length == 0)\n{\naddStudentsButton_mixin(classroom);\n}\nelse\n{\nvar courses = classroom.getSortedCourses().map(function(c) { return view.courses.get(c._id); });\nvar courseLabelsArray = view.helper.courseLabelsArray(courses);\n// iterate classroom.get('courses') || []\n;(function(){\n  var $$obj = classroom.get('courses') || [];\n  if ('number' == typeof $$obj.length) {\n\n    for (var index = 0, $$l = $$obj.length; index < $$l; index++) {\n      var trimCourse = $$obj[index];\n\nvar course = view.courses.get(trimCourse._id);\nif ( view.courseInstances.findWhere({ classroomID: classroom.id, courseID: course.id }))\n{\nvar label = courseLabelsArray[index];\nprogressDot_mixin(classroom, course, label);\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var index in $$obj) {\n      $$l++;      var trimCourse = $$obj[index];\n\nvar course = view.courses.get(trimCourse._id);\nif ( view.courseInstances.findWhere({ classroomID: classroom.id, courseID: course.id }))\n{\nvar label = courseLabelsArray[index];\nprogressDot_mixin(classroom, course, label);\n}\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</div><div class=\\\"view-class-arrow\\\"><a\" + (jade.attrs({ 'data-classroom-id':(classroom.id), 'data-event-action':(\"Teachers Classes View Class Chevron\"), \"class\": [('view-class-arrow-inner'),('glyphicon'),('glyphicon-chevron-right'),('view-class-btn')] }, {\"data-classroom-id\":true,\"data-event-action\":true})) + \"></a></div></div></div>\");\n};\nvar accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav>\");\nvar path = document.location.pathname\nbuf.push(\"<div id=\\\"teacher-dashboard-nav\\\"><nav class=\\\"navbar\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#teacher-dashboard-nav-collapse\\\" class=\\\"navbar-toggle collapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><span data-i18n=\\\"teacher.teacher_dashboard\\\" class=\\\"navbar-brand text-h4\\\"></span></div><div id=\\\"teacher-dashboard-nav-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/classes') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/classes\\\"><small data-i18n=\\\"teacher.my_classes\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/courses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/courses\\\"><small data-i18n=\\\"teacher.courses\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/licenses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/licenses\\\"><small data-i18n=\\\"teacher.enrollments\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources') === 0 && path.indexOf('/teachers/resources/faq') !== 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources\\\"><small data-i18n=\\\"teacher.resource_hub\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources/faq') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources/faq\\\"><small data-i18n=\\\"teacher.educator_faq\\\" class=\\\"label\\\"></small></a></li></ul></div></div></nav></div><div id=\\\"site-content-area\\\">\");\nif ( (!me.isTeacher() && !view.classrooms.size()) || me.isAnonymous())\n{\nbuf.push(\"<div class=\\\"access-restricted container text-center m-y-3\\\"><h5 data-i18n=\\\"teacher.access_restricted\\\"></h5><p data-i18n=\\\"teacher.teacher_account_required\\\"></p>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<div data-i18n=\\\"login.log_in\\\" class=\\\"login-button btn btn-lg btn-primary\\\"></div><button data-event-action=\\\"Teachers Classes Create Teacher Account\\\" data-i18n=\\\"teacher.create_teacher_account\\\" class=\\\"btn btn-lg btn-primary-alt create-teacher-btn\\\"></button>\");\n}\nelse\n{\nbuf.push(\"<button data-event-action=\\\"Teachers Classes Convert Teacher Account\\\" data-i18n=\\\"teachers_quote.convert_account_title\\\" class=\\\"btn btn-lg btn-primary update-teacher-btn\\\"></button><button id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\" class=\\\"btn btn-lg btn-primary-alt\\\"></button>\");\n}\nbuf.push(\"</div><div class=\\\"container\\\"><div class=\\\"teacher-account-blurb text-center col-xs-6 col-xs-offset-3 m-y-3\\\"><h5 data-i18n=\\\"teacher.what_is_a_teacher_account\\\"></h5><p data-i18n=\\\"teacher.teacher_account_explanation\\\"></p></div></div>\");\n}\nelse\n{\nif ( !me.isTeacher() && !me.isAdmin())\n{\nbuf.push(\"<div class=\\\"alert alert-danger text-center\\\"><div class=\\\"container\\\"><!-- DNT: Temporary--><h3>ATTENTION: Please upgrade your account to a Teacher Account.</h3><p>We are transitioning to a new improved classroom management system for instructors.\\nPlease convert your account to ensure you retain access to your classrooms.</p><button data-event-action=\\\"Teachers Classes Convert Teacher Account Temp\\\" class=\\\"btn btn-primary btn-lg update-teacher-btn\\\">Upgrade to teacher account</button></div></div>\");\n}\nbuf.push(\"<div class=\\\"container\\\"><h3 data-i18n=\\\"teacher.current_classes\\\"></h3></div><div class=\\\"classes container\\\"><!-- Loop each class-->\");\n// iterate view.classrooms.models\n;(function(){\n  var $$obj = view.classrooms.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var classroom = $$obj[$index];\n\nif (!( classroom.get('archived')))\n{\nclassRow_mixin(classroom);\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var classroom = $$obj[$index];\n\nif (!( classroom.get('archived')))\n{\nclassRow_mixin(classroom);\n}\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\ncreateClassButton_mixin();\n}\nvar archivedClassrooms = view.classrooms.where({archived: true});\nif ( _.size(archivedClassrooms))\n{\nbuf.push(\"<div class=\\\"container\\\"><h3 data-i18n=\\\"teacher.archived_classes\\\"></h3><p data-i18n=\\\"teacher.archived_classes_blurb\\\"></p></div><div class=\\\"classes container\\\">\");\n// iterate archivedClassrooms\n;(function(){\n  var $$obj = archivedClassrooms;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var classroom = $$obj[$index];\n\narchivedClassRow_mixin(classroom);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var classroom = $$obj[$index];\n\narchivedClassRow_mixin(classroom);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,i18n = locals_.i18n,me = locals_.me,serverConfig = locals_.serverConfig,document = locals_.document;var course_info_mixin = function(course){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nvar campaign = view.campaigns.get(course.get('campaignID'));\nbuf.push(\"<div class=\\\"course-info\\\"><div class=\\\"text-h4 semibold\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name')) ? \"\" : jade.interp)) + \"</div><p>\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'description')) ? \"\" : jade.interp)) + \"</p><p class=\\\"concepts semibold\\\"><span data-i18n=\\\"courses.concepts_covered\\\"></span>:\");\n// iterate course.get('concepts')\n;(function(){\n  var $$obj = course.get('concepts');\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var concept = $$obj[$index];\n\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></span>\");\nif ( course.get('concepts').indexOf(concept) !== course.get('concepts').length - 1)\n{\nbuf.push(\"<span class=\\\"spr\\\">,</span>\");\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var concept = $$obj[$index];\n\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></span>\");\nif ( course.get('concepts').indexOf(concept) !== course.get('concepts').length - 1)\n{\nbuf.push(\"<span class=\\\"spr\\\">,</span>\");\n}\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</p>\");\nif ( course.id === view.utils.courseIDs.WEB_DEVELOPMENT_2)\n{\nbuf.push(\"<p><i data-i18n=\\\"courses.web_dev_language_transition\\\"></i></p>\");\n}\nif ( me.isTeacher() || view.ownedClassrooms.size() || me.isAdmin())\n{\nif ( course.id === view.utils.courseIDs.WEB_DEVELOPMENT_1)\n{\nbuf.push(\"<a\" + (jade.attrs({ 'href':((\"/teachers/course-solution/\" + course.id + \"/html\")), 'data-course-id':(course.id), 'data-course-name':(course.get('name')), 'data-event-action':(\"Classes Guides Guide JavaScript\"), \"class\": [('guide-btn'),('btn'),('btn-primary'),((me.isTeacher() || me.isAdmin() ? '': 'disabled'))] }, {\"class\":true,\"href\":true,\"data-course-id\":true,\"data-course-name\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"courses.view_guide_online\\\"></span> &mdash; HTML</a>\");\n}\nelse if ( course.id === view.utils.courseIDs.WEB_DEVELOPMENT_2)\n{\nbuf.push(\"<a\" + (jade.attrs({ 'href':((\"/teachers/course-solution/\" + course.id + \"/html\")), 'data-course-id':(course.id), 'data-course-name':(course.get('name')), 'data-event-action':(\"Classes Guides Guide JavaScript\"), \"class\": [('guide-btn'),('btn'),('btn-primary'),((me.isTeacher() || me.isAdmin() ? '': 'disabled'))] }, {\"class\":true,\"href\":true,\"data-course-id\":true,\"data-course-name\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"courses.view_guide_online\\\"></span> &mdash; HTML / JavaScript</a>\");\n}\nelse\n{\nbuf.push(\"<a\" + (jade.attrs({ 'href':((\"/teachers/course-solution/\" + course.id + \"/javascript\")), 'data-course-id':(course.id), 'data-course-name':(course.get('name')), 'data-event-action':(\"Classes Guides Guide JavaScript\"), \"class\": [('guide-btn'),('btn'),('btn-primary'),((me.isTeacher() || me.isAdmin() ? '': 'disabled'))] }, {\"class\":true,\"href\":true,\"data-course-id\":true,\"data-course-name\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"courses.view_guide_online\\\"></span> &mdash; JavaScript</a><a\" + (jade.attrs({ 'href':((\"/teachers/course-solution/\" + course.id + \"/python\")), 'data-course-id':(course.id), 'data-course-name':(course.get('name')), 'data-event-action':(\"Classes Guides Guide Python\"), \"class\": [('guide-btn'),('btn'),('btn-primary'),((me.isTeacher() || me.isAdmin() ? '': 'disabled'))] }, {\"class\":true,\"href\":true,\"data-course-id\":true,\"data-course-name\":true,\"data-event-action\":true})) + \"><span data-i18n=\\\"courses.view_guide_online\\\"></span> &mdash; Python</a>\");\n}\n}\nbuf.push(\"</div>\");\n};\nvar accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav>\");\nvar path = document.location.pathname\nbuf.push(\"<div id=\\\"teacher-dashboard-nav\\\"><nav class=\\\"navbar\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#teacher-dashboard-nav-collapse\\\" class=\\\"navbar-toggle collapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><span data-i18n=\\\"teacher.teacher_dashboard\\\" class=\\\"navbar-brand text-h4\\\"></span></div><div id=\\\"teacher-dashboard-nav-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/classes') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/classes\\\"><small data-i18n=\\\"teacher.my_classes\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/courses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/courses\\\"><small data-i18n=\\\"teacher.courses\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/licenses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/licenses\\\"><small data-i18n=\\\"teacher.enrollments\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources') === 0 && path.indexOf('/teachers/resources/faq') !== 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources\\\"><small data-i18n=\\\"teacher.resource_hub\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources/faq') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources/faq\\\"><small data-i18n=\\\"teacher.educator_faq\\\" class=\\\"label\\\"></small></a></li></ul></div></div></nav></div><div id=\\\"site-content-area\\\">\");\nif ( !me.isTeacher() && view.ownedClassrooms.size() && !me.isAdmin())\n{\nbuf.push(\"<div class=\\\"alert alert-danger text-center\\\"><div class=\\\"container\\\"><!-- DNT: Temporary--><h3>ATTENTION: Please upgrade your account to a Teacher Account.</h3><p>We are transitioning to a new improved classroom management system for instructors.\\nPlease convert your account to ensure you retain access to your classrooms.</p><a href=\\\"/teachers/update-account\\\" class=\\\"btn btn-primary btn-lg\\\">Upgrade to teacher account</a></div></div>\");\n}\nbuf.push(\"<div class=\\\"container\\\"><h1 data-i18n=\\\"nav.courses\\\"></h1><h2 data-i18n=\\\"courses.subtitle\\\"></h2></div><div class=\\\"courses container\\\">\");\nvar courses = view.courses.models;\nvar courseIndex = 0;\nwhile (courseIndex < courses.length)\n{\nvar course = courses[courseIndex];\ncourseIndex++;\nbuf.push(\"<div class=\\\"course row\\\"><div class=\\\"col-sm-9\\\">\");\ncourse_info_mixin(course);\nbuf.push(\"</div>\");\nif ( me.isTeacher() || me.isAdmin())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><div\" + (jade.attrs({ 'data-course-id':(course.id), \"class\": [('play-level-form')] }, {\"data-course-id\":true})) + \"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\"><span data-i18n=\\\"courses.select_language\\\"></span>:<select class=\\\"language-select form-control\\\">\");\nif ( course.id === view.utils.courseIDs.WEB_DEVELOPMENT_1)\n{\nbuf.push(\"<option value=\\\"javascript\\\">HTML</option>\");\n}\nelse if ( course.id === view.utils.courseIDs.WEB_DEVELOPMENT_2)\n{\nbuf.push(\"<option value=\\\"javascript\\\">HTML / JavaScript</option>\");\n}\nelse\n{\nbuf.push(\"<option value=\\\"python\\\">Python</option><option value=\\\"javascript\\\">JavaScript</option>\");\n}\nbuf.push(\"</select></label></div><div class=\\\"form-group\\\"><label class=\\\"control-label\\\"><span data-i18n=\\\"courses.select_level\\\"></span>:<select class=\\\"level-select form-control\\\">\");\nif ( view.campaigns.loaded)\n{\nvar campaign = view.campaigns.get(course.get('campaignID'))\nif ( campaign)\n{\n// iterate campaign.getLevels().models\n;(function(){\n  var $$obj = campaign.getLevels().models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var levelIndex = 0, $$l = $$obj.length; levelIndex < $$l; levelIndex++) {\n      var level = $$obj[levelIndex];\n\nvar levelNumber = campaign.getLevelNumber(level.get('original'), levelIndex + 1)\nbuf.push(\"<option\" + (jade.attrs({ 'value':(level.get('slug')) }, {\"value\":true})) + \"><span>\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</span><span class=\\\"spr\\\">.</span><span>\" + (jade.escape(null == (jade.interp = level.get('name').replace('Course: ', '')) ? \"\" : jade.interp)) + \"</span></option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var levelIndex in $$obj) {\n      $$l++;      var level = $$obj[levelIndex];\n\nvar levelNumber = campaign.getLevelNumber(level.get('original'), levelIndex + 1)\nbuf.push(\"<option\" + (jade.attrs({ 'value':(level.get('slug')) }, {\"value\":true})) + \"><span>\" + (jade.escape(null == (jade.interp = levelNumber) ? \"\" : jade.interp)) + \"</span><span class=\\\"spr\\\">.</span><span>\" + (jade.escape(null == (jade.interp = level.get('name').replace('Course: ', '')) ? \"\" : jade.interp)) + \"</span></option>\");\n    }\n\n  }\n}).call(this);\n\n}\n}\nbuf.push(\"</select></label></div><a class=\\\"play-level-button btn btn-lg btn-primary\\\"><span data-i18n=\\\"courses.play_level\\\"></span></a></div><div class=\\\"clearfix\\\"></div></div>\");\n}\nbuf.push(\"</div>\");\n}\nbuf.push(\"</div></div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright 2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),document = locals_.document;var path = document.location.pathname\nbuf.push(\"<div id=\\\"teacher-dashboard-nav\\\"><nav class=\\\"navbar\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#teacher-dashboard-nav-collapse\\\" class=\\\"navbar-toggle collapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><span data-i18n=\\\"teacher.teacher_dashboard\\\" class=\\\"navbar-brand text-h4\\\"></span></div><div id=\\\"teacher-dashboard-nav-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/classes') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/classes\\\"><small data-i18n=\\\"teacher.my_classes\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/courses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/courses\\\"><small data-i18n=\\\"teacher.courses\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/licenses') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/licenses\\\"><small data-i18n=\\\"teacher.enrollments\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources') === 0 && path.indexOf('/teachers/resources/faq') !== 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources\\\"><small data-i18n=\\\"teacher.resource_hub\\\" class=\\\"label\\\"></small></a></li><li\" + (jade.attrs({ \"class\": [(path.indexOf('/teachers/resources/faq') === 0 ? 'active' : '')] }, {\"class\":true})) + \"><a href=\\\"/teachers/resources/faq\\\"><small data-i18n=\\\"teacher.educator_faq\\\" class=\\\"label\\\"></small></a></li></ul></div></div></nav></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","ModalView = require 'views/core/ModalView'\nState = require 'models/State'\ntemplate = require 'templates/courses/activate-licenses-modal'\nCocoCollection = require 'collections/CocoCollection'\nPrepaids = require 'collections/Prepaids'\nClassroom = require 'models/Classroom'\nClassrooms = require 'collections/Classrooms'\nUser = require 'models/User'\nUsers = require 'collections/Users'\n\nmodule.exports = class ActivateLicensesModal extends ModalView\n  id: 'activate-licenses-modal'\n  template: template\n\n  events:\n    'change input[type=\"checkbox\"][name=\"user\"]': 'updateSelectedStudents'\n    'change select.classroom-select': 'replaceStudentList'\n    'submit form': 'onSubmitForm'\n    'click #get-more-licenses-btn': 'onClickGetMoreLicensesButton'\n\n  getInitialState: (options) ->\n    selectedUsers = options.selectedUsers or options.users\n    selectedUserModels = _.filter(selectedUsers.models, (user) -> not user.isEnrolled())\n    {\n      selectedUsers: new Users(selectedUserModels)\n      visibleSelectedUsers: new Users(selectedUserModels)\n      error: null\n    }\n  \n  initialize: (options) ->\n    @state = new State(@getInitialState(options))\n    @classroom = options.classroom\n    @users = options.users.clone()\n    @users.comparator = (user) -> user.broadName().toLowerCase()\n    @prepaids = new Prepaids()\n    @prepaids.comparator = 'endDate' # use prepaids in order of expiration\n    @supermodel.trackRequest @prepaids.fetchByCreator(me.id)\n    @classrooms = new Classrooms()\n    @supermodel.trackRequest @classrooms.fetchMine({\n      data: {archived: false}\n      success: =>\n        @classrooms.each (classroom) =>\n          classroom.users = new Users()\n          jqxhrs = classroom.users.fetchForClassroom(classroom, { removeDeleted: true })\n          @supermodel.trackRequests(jqxhrs)\n      })\n    \n    @listenTo @state, 'change', @render\n    @listenTo @state.get('selectedUsers'), 'change add remove reset', ->\n      @state.set { visibleSelectedUsers: new Users(@state.get('selectedUsers').filter (u) => @users.get(u)) }\n      @render()\n    @listenTo @users, 'change add remove reset', ->\n      @state.set { visibleSelectedUsers: new Users(@state.get('selectedUsers').filter (u) => @users.get(u)) }\n      @render()\n    @listenTo @prepaids, 'sync add remove', ->\n      @state.set {\n        unusedEnrollments: @prepaids.totalMaxRedeemers() - @prepaids.totalRedeemers()\n      }\n      \n  onLoaded: ->\n    @prepaids.reset(@prepaids.filter((prepaid) -> prepaid.status() is 'available'))\n    super()\n  \n  afterRender: ->\n    super()\n    # @updateSelectedStudents() # TODO: refactor to event/state style\n\n  updateSelectedStudents: (e) ->\n    userID = $(e.currentTarget).data('user-id')\n    user = @users.get(userID)\n    if @state.get('selectedUsers').contains(user)\n      @state.get('selectedUsers').remove(user)\n    else\n      @state.get('selectedUsers').add(user)\n    # @render() # TODO: Have @state automatically listen to children's change events?\n  \n  replaceStudentList: (e) ->\n    selectedClassroomID = $(e.currentTarget).val()\n    @classroom = @classrooms.get(selectedClassroomID)\n    if not @classroom\n      users = _.uniq _.flatten @classrooms.map (classroom) -> classroom.users.models\n      @users.reset(users)\n      @users.sort()\n    else\n      @users.reset(@classrooms.get(selectedClassroomID).users.models)\n    @render()\n    null\n\n  onSubmitForm: (e) ->\n    e.preventDefault()\n    @state.set error: null\n    usersToRedeem = @state.get('visibleSelectedUsers')\n    @redeemUsers(usersToRedeem)\n\n  redeemUsers: (usersToRedeem) ->\n    if not usersToRedeem.size()\n      @finishRedeemUsers()\n      @hide()\n      return\n\n    user = usersToRedeem.first()\n    prepaid = @prepaids.find((prepaid) -> prepaid.status() is 'available')\n    prepaid.redeem(user, {\n      success: (prepaid) =>\n        user.set('coursePrepaid', prepaid.pick('_id', 'startDate', 'endDate', 'type', 'includedCourseIDs'))\n        usersToRedeem.remove(user)\n        # pct = 100 * (usersToRedeem.originalSize - usersToRedeem.size() / usersToRedeem.originalSize)\n        # @$('#progress-area .progress-bar').css('width', \"#{pct.toFixed(1)}%\")\n        application.tracker?.trackEvent 'Enroll modal finished enroll student', category: 'Courses', userID: user.id\n        @redeemUsers(usersToRedeem)\n      error: (prepaid, jqxhr) =>\n        @state.set { error: jqxhr.responseJSON.message }\n    })\n\n  finishRedeemUsers: ->\n    @trigger 'redeem-users', @state.get('selectedUsers')\n\n  onClickGetMoreLicensesButton: ->\n    @hide?() # In case this is opened in /teachers/licenses itself, otherwise the button does nothing\n","ModalView = require 'views/core/ModalView'\ntemplate = require 'templates/courses/change-course-language-modal'\n\nmodule.exports = class ChangeCourseLanguageModal extends ModalView\n  id: 'change-course-language-modal'\n  template: template\n\n  events:\n    'click .lang-choice-btn': 'onClickLanguageChoiceButton'\n\n  onClickLanguageChoiceButton: (e) ->\n    @chosenLanguage = $(e.target).closest('.lang-choice-btn').data('language')\n    aceConfig = _.clone(me.get('aceConfig') or {})\n    aceConfig.language = @chosenLanguage\n    me.set('aceConfig', aceConfig)\n    res = me.patch()\n    if res\n      @$('#choice-area').hide()\n      @$('#saving-progress').removeClass('hide')\n      @listenToOnce me, 'sync', @onLanguageSettingSaved\n    else\n      @onLanguageSettingSaved()\n\n  onLanguageSettingSaved: ->\n    application.tracker?.trackEvent 'Student changed language', category: 'Courses', label: @chosenLanguage\n    @trigger('set-language')\n    @hide()\n","ModalView = require 'views/core/ModalView'\ntemplate = require 'templates/courses/choose-language-modal'\n\nmodule.exports = class ChooseLanguageModal extends ModalView\n  id: 'choose-language-modal'\n  template: template\n\n  events:\n    'click .lang-choice-btn': 'onClickLanguageChoiceButton'\n\n  initialize: (options) ->\n    options ?= {}\n    @logoutFirst = options.logoutFirst\n\n  onClickLanguageChoiceButton: (e) ->\n    @chosenLanguage = $(e.target).closest('.lang-choice-btn').data('language')\n    if @logoutFirst\n      @logoutUser()\n    else\n      @saveLanguageSetting()\n\n  logoutUser: ->\n    $.ajax({\n      method: 'POST'\n      url: '/auth/logout'\n      context: @\n      success: @onUserLoggedOut\n    })\n\n  onUserLoggedOut: ->\n    me.clear()\n    me.fetch({\n      url: '/auth/whoami'\n    })\n    @listenToOnce me, 'sync', @saveLanguageSetting\n\n  saveLanguageSetting: ->\n    aceConfig = _.clone(me.get('aceConfig') or {})\n    aceConfig.language = @chosenLanguage\n    me.set('aceConfig', aceConfig)\n    res = me.patch()\n    if res\n      @$('#choice-area').hide()\n      @$('#saving-progress').removeClass('hide')\n      @listenToOnce me, 'sync', @onLanguageSettingSaved\n    else\n      @onLanguageSettingSaved()\n\n  onLanguageSettingSaved: ->\n    @trigger('set-language')\n    window.tracker?.trackEvent 'Chose language', category: 'Courses', label: @chosenLanguage\n    @hide()\n","Classroom = require 'models/Classroom'\nModalView = require 'views/core/ModalView'\ntemplate = require 'templates/courses/classroom-settings-modal'\nforms = require 'core/forms'\nerrors = require 'core/errors'\n\nmodule.exports = class ClassroomSettingsModal extends ModalView\n  id: 'classroom-settings-modal'\n  template: template\n\n  events:\n    'click #save-settings-btn': 'onSubmitForm'\n    'click #update-courses-btn': 'onClickUpdateCoursesButton'\n    'submit form': 'onSubmitForm'\n\n  initialize: (options={}) ->\n    @classroom = options.classroom or new Classroom()\n\n  afterRender: ->\n    super()\n    forms.updateSelects(@$('form'))\n\n  onSubmitForm: (e) ->\n    @classroom.notyErrors = false\n    e.preventDefault()\n    form = @$('form')\n    forms.clearFormAlerts(form)\n    attrs = forms.formToObject(form, ignoreEmptyString: false)\n    if attrs.language\n      attrs.aceConfig = { language: attrs.language }\n      delete attrs.language\n    else\n      forms.setErrorToProperty(form, 'language', $.i18n.t('common.required_field'))\n      return\n    @classroom.set(attrs)\n    schemaErrors = @classroom.getValidationErrors()\n    if schemaErrors\n      for error in schemaErrors\n        if error.schemaPath is \"/properties/name/minLength\"\n          error.message = 'Please enter a class name.'\n      forms.applyErrorsToForm(form, schemaErrors)\n      return\n\n    button = @$('#save-settings-btn')\n    @oldButtonText = button.text()\n    button.text($.i18n.t('common.saving')).attr('disabled', true)\n    @classroom.save()\n    @listenToOnce @classroom, 'error', (model, jqxhr) ->\n      @stopListening @classroom, 'sync', @hide\n      button.text(@oldButtonText).attr('disabled', false)\n      errors.showNotyNetworkError(jqxhr)\n    @listenToOnce @classroom, 'sync', @hide\n    window.tracker?.trackEvent \"Teachers Edit Class Saved\", category: 'Teachers', classroomID: @classroom.id, ['Mixpanel']\n\n  onClickUpdateCoursesButton: ->\n    @$('#update-courses-btn').attr('disabled', true)\n    Promise.resolve(@classroom.updateCourses())\n    .then =>\n      @$('#update-courses-btn').attr('disabled', false)\n      noty { text: 'Updated', timeout: 2000 }\n    .catch (e) =>\n      console.log 'e', e\n      @$('#update-courses-btn').attr('disabled', false)\n      noty { text: e.responseJSON?.message or e.responseText or 'Error!', type: 'error', timeout: 5000 }\n","Campaign = require 'models/Campaign'\nCocoCollection = require 'collections/CocoCollection'\nCourse = require 'models/Course'\nCourseInstance = require 'models/CourseInstance'\nClassroom = require 'models/Classroom'\nClassrooms = require 'collections/Classrooms'\nLevelSession = require 'models/LevelSession'\nPrepaids = require 'collections/Prepaids'\nLevels = require 'collections/Levels'\nRootView = require 'views/core/RootView'\ntemplate = require 'templates/courses/classroom-view'\nUser = require 'models/User'\nutils = require 'core/utils'\nPrepaid = require 'models/Prepaid'\nClassroomSettingsModal = require 'views/courses/ClassroomSettingsModal'\nActivateLicensesModal = require 'views/courses/ActivateLicensesModal'\nInviteToClassroomModal = require 'views/courses/InviteToClassroomModal'\nRemoveStudentModal = require 'views/courses/RemoveStudentModal'\npopoverTemplate = require 'templates/courses/classroom-level-popover'\n\nmodule.exports = class ClassroomView extends RootView\n  id: 'classroom-view'\n  template: template\n  teacherMode: false\n\n  events:\n    'click #edit-class-details-link': 'onClickEditClassDetailsLink'\n    'click #activate-licenses-btn': 'onClickActivateLicensesButton'\n    'click .activate-single-license-btn': 'onClickActivateSingleLicenseButton'\n    'click #add-students-btn': 'onClickAddStudentsButton'\n    'click .enable-btn': 'onClickEnableButton'\n    'click .remove-student-link': 'onClickRemoveStudentLink'\n\n  initialize: (options, classroomID) ->\n    return if me.isAnonymous()\n    @classroom = new Classroom({_id: classroomID})\n    @supermodel.loadModel @classroom\n    @courses = new CocoCollection([], { url: \"/db/course\", model: Course})\n    @courses.comparator = '_id'\n    @supermodel.loadCollection(@courses)\n    @courses.comparator = '_id'\n    @courseInstances = new CocoCollection([], { url: \"/db/course_instance\", model: CourseInstance})\n    @courseInstances.comparator = 'courseID'\n    @supermodel.loadCollection(@courseInstances, { data: { classroomID: classroomID } })\n    @prepaids = new Prepaids()\n    @prepaids.comparator = '_id'\n    @prepaids.fetchByCreator(me.id)\n    @supermodel.loadCollection(@prepaids)\n    @users = new CocoCollection([], { url: \"/db/classroom/#{classroomID}/members?memberLimit=100\", model: User })\n    @users.comparator = (user) => user.broadName().toLowerCase()\n    @supermodel.loadCollection(@users)\n    @listenToOnce @courseInstances, 'sync', @onCourseInstancesSync\n    @sessions = new CocoCollection([], { model: LevelSession })\n    @ownedClassrooms = new Classrooms()\n    @ownedClassrooms.fetchMine({data: {project: '_id'}})\n    @supermodel.trackCollection(@ownedClassrooms)\n    @levels = new Levels()\n    @levels.fetchForClassroom(classroomID, {data: {project: 'name,original,practice,slug'}})\n    @levels.on 'add', (model) -> @_byId[model.get('original')] = model # so you can 'get' them\n    @supermodel.trackCollection(@levels)\n    window.tracker?.trackEvent 'Students Class Loaded', category: 'Students', classroomID: classroomID, ['Mixpanel']\n\n  onCourseInstancesSync: ->\n    @sessions = new CocoCollection([], { model: LevelSession })\n    for courseInstance in @courseInstances.models\n      sessions = new CocoCollection([], { url: \"/db/course_instance/#{courseInstance.id}/level_sessions\", model: LevelSession })\n      @supermodel.loadCollection(sessions, { data: { project: ['level', 'playtime', 'creator', 'changed', 'state.complete'].join(' ') } })\n      courseInstance.sessions = sessions\n      sessions.courseInstance = courseInstance\n      courseInstance.sessionsByUser = {}\n      @listenToOnce sessions, 'sync', (sessions) ->\n        @sessions.add(sessions.slice())\n        for courseInstance in @courseInstances.models\n          courseInstance.sessionsByUser = courseInstance.sessions.groupBy('creator')\n\n    # Generate course instance JIT, in the meantime have models w/out equivalents in the db\n    for course in @courses.models\n      query = {courseID: course.id, classroomID: @classroom.id}\n      courseInstance = @courseInstances.findWhere(query)\n      if not courseInstance\n        courseInstance = new CourseInstance(query)\n        @courseInstances.add(courseInstance)\n        courseInstance.sessions = new CocoCollection([], {model: LevelSession})\n        sessions.courseInstance = courseInstance\n        courseInstance.sessionsByUser = {}\n\n  onLoaded: ->\n    @teacherMode = me.isAdmin() or @classroom.get('ownerID') is me.id\n    userSessions = @sessions.groupBy('creator')\n    for user in @users.models\n      user.sessions = new CocoCollection(userSessions[user.id], { model: LevelSession })\n      user.sessions.comparator = 'changed'\n      user.sessions.sort()\n    for courseInstance in @courseInstances.models\n      courseID = courseInstance.get('courseID')\n      course = @courses.get(courseID)\n      courseInstance.sessions.course = course\n    super()\n\n  afterRender: ->\n    @$('[data-toggle=\"popover\"]').popover({\n      html: true\n      trigger: 'hover'\n      placement: 'top'\n    })\n    super()\n\n  onClickActivateLicensesButton: ->\n    modal = new ActivateLicensesModal({\n      classroom: @classroom\n      users: @users\n    })\n    @openModalView(modal)\n    modal.once 'redeem-users', -> document.location.reload()\n    application.tracker?.trackEvent 'Classroom started enroll students', category: 'Courses'\n\n  onClickActivateSingleLicenseButton: (e) ->\n    userID = $(e.target).closest('.btn').data('user-id')\n    if @prepaids.totalMaxRedeemers() - @prepaids.totalRedeemers() > 0\n      # Have an unused enrollment, enroll student immediately instead of opening the enroll modal\n      prepaid = @prepaids.find((prepaid) -> prepaid.status() is 'available')\n      $.ajax({\n        method: 'POST'\n        url: _.result(prepaid, 'url') + '/redeemers'\n        data: { userID: userID }\n        success: =>\n          application.tracker?.trackEvent 'Classroom finished enroll student', category: 'Courses', userID: userID\n          # TODO: do a lighter refresh here. @render() did not work out.\n          document.location.reload()\n        error: (jqxhr, textStatus, errorThrown) ->\n          if jqxhr.status is 402\n            message = arguments[2]\n          else\n            message = \"#{jqxhr.status}: #{jqxhr.responseText}\"\n          console.err message\n      })\n    else\n      user = @users.get(userID)\n      modal = new ActivateLicensesModal({\n        classroom: @classroom\n        users: @users\n        user: user\n      })\n      @openModalView(modal)\n      modal.once 'redeem-users', -> document.location.reload()\n      application.tracker?.trackEvent 'Classroom started enroll student', category: 'Courses', userID: userID\n\n  onClickEditClassDetailsLink: ->\n    modal = new ClassroomSettingsModal({classroom: @classroom})\n    @openModalView(modal)\n    @listenToOnce modal, 'hidden', @render\n\n  userLastPlayedString: (user) ->\n    return '' unless user.sessions?\n    session = user.sessions.last()\n    return '' unless session\n    course = session.collection.course\n    levelOriginal = session.get('level').original\n    level = @levels.findWhere({original: levelOriginal})\n    lastPlayed = \"\"\n    lastPlayed += course.get('name') if course\n    lastPlayed += \", #{level.get('name')}\" if level\n    lastPlayed\n\n  userPlaytimeString: (user) ->\n    return '' unless user.sessions?\n    playtime = _.reduce user.sessions.pluck('playtime'), (s1, s2) -> (s1 or 0) + (s2 or 0)\n    return '' unless playtime\n    return moment.duration(playtime, 'seconds').humanize()\n\n  classStats: ->\n    stats = {}\n\n    playtime = 0\n    total = 0\n    for session in @sessions.models\n      pt = session.get('playtime') or 0\n      playtime += pt\n      total += 1\n    stats.averagePlaytime = if playtime and total then moment.duration(playtime / total, \"seconds\").humanize() else 0\n    stats.totalPlaytime = if playtime then moment.duration(playtime, \"seconds\").humanize() else 0\n\n    levelPracticeMap = {}\n    levelPracticeMap[level.id] = level.get('practice') ? false for level in @levels.models\n    completeSessions = @sessions.filter (s) -> s.get('state')?.complete and not levelPracticeMap[s.get('levelID')]\n    stats.averageLevelsComplete = if @users.size() then (_.size(completeSessions) / @users.size()).toFixed(1) else 'N/A'  # '\n    stats.totalLevelsComplete = _.size(completeSessions)\n\n    enrolledUsers = @users.filter (user) -> user.isEnrolled()\n    stats.enrolledUsers = _.size(enrolledUsers)\n    return stats\n\n  onClickAddStudentsButton: (e) ->\n    modal = new InviteToClassroomModal({classroom: @classroom})\n    @openModalView(modal)\n    application.tracker?.trackEvent 'Classroom started add students', category: 'Courses', classroomID: @classroom.id\n\n  onClickEnableButton: (e) ->\n    $button = $(e.target).closest('.btn')\n    courseInstance = @courseInstances.get($button.data('course-instance-cid'))\n    console.log 'looking for course instance', courseInstance, 'for', $button.data('course-instance-cid'), 'out of', @courseInstances\n    userID = $button.data('user-id')\n    $button.attr('disabled', true)\n    application.tracker?.trackEvent 'Course assign student', category: 'Courses', courseInstanceID: courseInstance.id, userID: userID\n\n    onCourseInstanceCreated = =>\n      courseInstance.addMember(userID)\n      @listenToOnce courseInstance, 'sync', @render\n\n    if courseInstance.isNew()\n      # adding the first student to this course, so generate the course instance for it\n      if not courseInstance.saving\n        courseInstance.save(null, {validate: false})\n        courseInstance.saving = true\n      courseInstance.once 'sync', onCourseInstanceCreated\n    else\n      onCourseInstanceCreated()\n\n    # TODO: update newly visible level progress bar (currently all white)\n\n  onClickRemoveStudentLink: (e) ->\n    user = @users.get($(e.target).closest('a').data('user-id'))\n    modal = new RemoveStudentModal({\n      classroom: @classroom\n      user: user\n      courseInstances: @courseInstances\n    })\n    @openModalView(modal)\n    modal.once 'remove-student', @onStudentRemoved, @\n\n  onStudentRemoved: (e) ->\n    @users.remove(e.user)\n    @render()\n    application.tracker?.trackEvent 'Classroom removed student', category: 'Courses', classroomID: @classroom.id, userID: e.user.id\n\n  levelPopoverContent: (level, session, i) ->\n    return null unless level\n    context = {\n      moment: moment\n      level: level\n      session: session\n      i: i\n      canViewSolution: @teacherMode\n    }\n    return popoverTemplate(context)\n\n  getLevelURL: (level, course, courseInstance, session) ->\n    return null unless @teacherMode and _.all(arguments)\n    \"/play/level/#{level.get('slug')}?course=#{course.id}&course-instance=#{courseInstance.id}&session=#{session.id}&observing=true\"\n","Course = require 'models/Course'\nCourses = require 'collections/Courses'\nLevelSessions = require 'collections/LevelSessions'\nCourseInstance = require 'models/CourseInstance'\nCourseInstances = require 'collections/CourseInstances'\nClassroom = require 'models/Classroom'\nClassrooms = require 'collections/Classrooms'\nLevels = require 'collections/Levels'\nRootView = require 'views/core/RootView'\ntemplate = require 'templates/courses/course-details'\nUser = require 'models/User'\nstorage = require 'core/storage'\n\nmodule.exports = class CourseDetailsView extends RootView\n  id: 'course-details-view'\n  template: template\n  memberSort: 'nameAsc'\n\n  events:\n    'click .btn-play-level': 'onClickPlayLevel'\n    'click .btn-select-instance': 'onClickSelectInstance'\n    'submit #school-form': 'onSubmitSchoolForm'\n\n  constructor: (options, @courseID, @courseInstanceID) ->\n    super options\n    @courses = new Courses()\n    @course = new Course()\n    @levelSessions = new LevelSessions()\n    @courseInstance = new CourseInstance({_id: @courseInstanceID})\n    @owner = new User()\n    @classroom = new Classroom()\n    @levels = new Levels()\n    @courseInstances = new CourseInstances()\n\n    @supermodel.trackRequest(@courses.fetch().then(=>\n      @course = @courses.get(@courseID)\n    ))\n    sessionsLoaded = @supermodel.trackRequest(@levelSessions.fetchForCourseInstance(@courseInstanceID, {cache: false}))\n\n    @supermodel.trackRequest(@courseInstance.fetch().then(=>\n      return if @destroyed\n      @owner = new User({_id: @courseInstance.get('ownerID')})\n      @supermodel.trackRequest(@owner.fetch())\n\n      classroomID = @courseInstance.get('classroomID')\n      @classroom = new Classroom({ _id: classroomID })\n      @supermodel.trackRequest(@classroom.fetch())\n\n      levelsLoaded = @supermodel.trackRequest(@levels.fetchForClassroomAndCourse(classroomID, @courseID, {\n        data: { project: 'concepts,practice,primerLanguage,type,slug,name,original,description,shareable,i18n' }\n      }))\n\n      @supermodel.trackRequest($.when(levelsLoaded, sessionsLoaded).then(=>\n        @buildSessionStats()\n        return if @destroyed\n        if @memberStats[me.id]?.totalLevelsCompleted >= @levels.size() - 1  # Don't need to complete arena\n          # need to figure out the next course instance\n          @courseComplete = true\n          @courseInstances.comparator = 'courseID'\n          # TODO: make this logic use locked course content to figure out the next course, then fetch the\n          # course instance for that\n          @supermodel.trackRequest(@courseInstances.fetchForClassroom(classroomID).then(=>\n            @nextCourseInstance = _.find @courseInstances.models, (ci) => ci.get('courseID') > @courseID\n            if @nextCourseInstance\n              nextCourseID = @nextCourseInstance.get('courseID')\n              @nextCourse = @courses.get(nextCourseID)\n        ))\n        @promptForSchool = @courseComplete and not me.isAnonymous() and not me.get('schoolName') and not storage.load('no-school')\n      ))\n    ))\n\n  initialize: (options) ->\n    window.tracker?.trackEvent 'Students Class Course Loaded', category: 'Students', ['Mixpanel']\n    super(options)\n\n  buildSessionStats: ->\n    return if @destroyed\n\n    @levelConceptMap = {}\n    for level in @levels.models\n      @levelConceptMap[level.get('original')] ?= {}\n      for concept in level.get('concepts') or []\n        @levelConceptMap[level.get('original')][concept] = true\n      if level.isType('course-ladder')\n        @arenaLevel = level\n\n    # console.log 'onLevelSessionsSync'\n    @memberStats = {}\n    @userConceptStateMap = {}\n    @userLevelStateMap = {}\n    for levelSession in @levelSessions.models\n      continue if levelSession.skipMe   # Don't track second arena session as another completed level\n      userID = levelSession.get('creator')\n      levelID = levelSession.get('level').original\n      state = if levelSession.get('state')?.complete then 'complete' else 'started'\n      playtime = parseInt(levelSession.get('playtime') ? 0, 10)\n      do (userID, levelID) =>\n        secondSessionForLevel = _.find(@levelSessions.models, ((otherSession) ->\n          otherSession.get('creator') is userID and otherSession.get('level').original is levelID and otherSession.id isnt levelSession.id\n        ))\n        if secondSessionForLevel\n          state = 'complete' if secondSessionForLevel.get('state')?.complete\n          playtime = playtime + parseInt(secondSessionForLevel.get('playtime') ? 0, 10)\n          secondSessionForLevel.skipMe = true\n\n      @memberStats[userID] ?= totalLevelsCompleted: 0, totalPlayTime: 0\n      @memberStats[userID].totalLevelsCompleted++ if state is 'complete'\n      @memberStats[userID].totalPlayTime += playtime\n\n      @userConceptStateMap[userID] ?= {}\n      for concept of @levelConceptMap[levelID]\n        @userConceptStateMap[userID][concept] = state\n\n      @userLevelStateMap[userID] ?= {}\n      @userLevelStateMap[userID][levelID] = state\n\n    @conceptsCompleted = {}\n    for userID, conceptStateMap of @userConceptStateMap\n      for concept, state of conceptStateMap\n        @conceptsCompleted[concept] ?= 0\n        @conceptsCompleted[concept]++\n\n  onClickPlayLevel: (e) ->\n    levelSlug = $(e.target).closest('.btn-play-level').data('level-slug')\n    levelID = $(e.target).closest('.btn-play-level').data('level-id')\n    level = @levels.findWhere({original: levelID})\n    window.tracker?.trackEvent 'Students Class Course Play Level', category: 'Students', courseID: @courseID, courseInstanceID: @courseInstanceID, levelSlug: levelSlug, ['Mixpanel']\n    if level.isType('course-ladder')\n      viewClass = 'views/ladder/LadderView'\n      viewArgs = [{supermodel: @supermodel}, levelSlug]\n      route = '/play/ladder/' + levelSlug\n      route += '/course/' + @courseInstance.id\n      viewArgs = viewArgs.concat ['course', @courseInstance.id]\n    else\n      route = @getLevelURL levelSlug\n      route += \"&codeLanguage=\" + level.get('primerLanguage') if level.get('primerLanguage')\n      viewClass = 'views/play/level/PlayLevelView'\n      viewArgs = [{courseID: @courseID, courseInstanceID: @courseInstanceID, supermodel: @supermodel}, levelSlug]\n    Backbone.Mediator.publish 'router:navigate', route: route, viewClass: viewClass, viewArgs: viewArgs\n\n  getLevelURL: (levelSlug) ->\n    \"/play/level/#{levelSlug}?course=#{@courseID}&course-instance=#{@courseInstanceID}\"\n\n  getOwnerName: ->\n    return if @owner.isNew()\n    if @owner.get('firstName') and @owner.get('lastName')\n      return \"#{@owner.get('firstName')} #{@owner.get('lastName')}\"\n    @owner.get('name') or @owner.get('email')\n\n  getLastLevelCompleted: ->\n    lastLevelCompleted = null\n    for levelID in @levels.pluck('original')\n      if @userLevelStateMap?[me.id]?[levelID] is 'complete'\n        lastLevelCompleted = levelID\n    return lastLevelCompleted\n","app = require 'core/application'\nCreateAccountModal = require 'views/core/CreateAccountModal'\nCocoCollection = require 'collections/CocoCollection'\nCourse = require 'models/Course'\nRootView = require 'views/core/RootView'\nstripeHandler = require 'core/services/stripe'\ntemplate = require 'templates/courses/course-enroll'\nutils = require 'core/utils'\n\nmodule.exports = class CourseEnrollView extends RootView\n  id: 'course-enroll-view'\n  template: template\n\n  events:\n    'click .btn-buy': 'onClickBuy'\n    'change .class-name': 'onNameChange'\n    'change .course-select': 'onChangeCourse'\n    'change .input-seats': 'onSeatsChange'\n    'change #programming-language-select': 'onChangeProgrammingLanguageSelect'\n\n  subscriptions:\n    'stripe:received-token': 'onStripeReceivedToken'\n\n  constructor: (options, @courseID) ->\n    super options\n    @courseID ?= options.courseID\n    @seats = 20\n    @selectedLanguage = 'python'\n\n    @courses = new CocoCollection([], { url: \"/db/course\", model: Course})\n    @listenTo @courses, 'sync', @onCoursesLoaded\n    @supermodel.loadCollection(@courses, 'courses')\n\n  afterRender: ->\n    super()\n    if @selectedCourse\n      @$el.find('.course-select').val(@selectedCourse.id)\n    else\n      @$el.find('.course-select').val('All Courses')\n\n  onCoursesLoaded: ->\n    if @courseID\n      @selectedCourse = _.find @courses.models, (a) => a.id is @courseID\n    else if @courses.models.length > 0\n      @selectedCourse = @courses.models[0]\n    @renderNewPrice()\n\n  onClickBuy: (e) ->\n    return @openModalView new CreateAccountModal() if me.isAnonymous()\n\n    if @price is 0\n      @seats = 9999\n      @state = 'creating'\n      @createClass()\n      return\n\n    if @seats < 1 or not _.isFinite(@seats)\n      alert(\"Please enter the maximum number of students needed for your class.\")\n      return\n\n    @state = undefined\n    @stateMessage = undefined\n    @render()\n\n    # Show Stripe handler\n    courseTitle = @selectedCourse?.get('name') ? 'All Courses'\n    application.tracker?.trackEvent 'Started course purchase', {course: courseTitle, price: @price, seats: @seats}\n    stripeHandler.open\n      amount: @price\n      description: \"#{courseTitle} for #{@seats} students\"\n      bitcoin: true\n      alipay: if me.get('country') is 'china' or (me.get('preferredLanguage') or 'en-US')[...2] is 'zh' then true else 'auto'\n\n  onStripeReceivedToken: (e) ->\n    @state = 'purchasing'\n    @render?()\n    @createClass(e.token.id)\n\n  onChangeCourse: (e) ->\n    @selectedCourse = _.find @courses.models, (a) -> a.id is $(e.target).val()\n    @renderNewPrice()\n\n  onChangeProgrammingLanguageSelect: (e) ->\n    @selectedLanguage = @$('#programming-language-select').val()\n\n  onNameChange: (e) ->\n    @className = $('.class-name').val()\n\n  onSeatsChange: (e) ->\n    @seats = $(e.target).val()\n    @seats = 20 if @seats < 1 or not _.isFinite(@seats)\n    @renderNewPrice()\n\n  createClass: (token) ->\n    data =\n      name: @className\n      seats: @seats\n      stripe:\n        token: token\n        timestamp: new Date().getTime()\n      aceConfig: { language: @selectedLanguage }\n\n    data.courseID = @selectedCourse.id if @selectedCourse\n    jqxhr = $.post('/db/course_instance/-/create', data)\n    jqxhr.done (data, textStatus, jqXHR) =>\n      application.tracker?.trackEvent 'Finished course purchase', {course: @selectedCourse?.get('name') ? 'All Courses', price: @price, seats: @seats}\n      # TODO: handle fetch errors\n      me.fetch(cache: false).always =>\n        courseID = @selectedCourse?.id ? @courses.models[0]?.id\n        route = \"/students/#{courseID}\"\n        viewArgs = [{}, courseID]\n        if data?.length > 0\n          courseInstanceID = data[0]._id\n          route += \"/#{courseInstanceID}\"\n          viewArgs[0].courseInstanceID = courseInstanceID\n        Backbone.Mediator.publish 'router:navigate',\n          route: route\n          viewClass: 'views/courses/CourseDetailsView'\n          viewArgs: viewArgs\n    jqxhr.fail (xhr, textStatus, errorThrown) =>\n      console.error 'Got an error purchasing a course:', textStatus, errorThrown\n      application.tracker?.trackEvent 'Failed course purchase', status: textStatus\n      if xhr.status is 402\n        @state = 'declined'\n        @stateMessage = arguments[2]\n      else\n        @state = 'unknown_error'\n        @stateMessage = \"#{xhr.status}: #{xhr.responseText}\"\n      @render?()\n\n  renderNewPrice: ->\n    if @selectedCourse\n      coursePrices = [@selectedCourse.get('pricePerSeat')]\n    else\n      coursePrices = (c.get('pricePerSeat') for c in @courses.models)\n    @price = utils.getCourseBundlePrice(coursePrices, @seats)\n    @price = 0 if me.isAdmin()\n    @render?()\n","ModalView = require 'views/core/ModalView'\nState = require 'models/State'\ntemplate = require 'templates/courses/courses-not-assigned-modal'\n\n{ STARTER_LICENSE_COURSE_IDS } = require 'core/constants'\n\nmodule.exports = class CoursesNotAssignedModal extends ModalView\n  id: 'courses-not-assigned-modal'\n  template: template\n\n  initialize: (options) ->\n    @i18nData = _.pick(options, ['selected', 'numStudentsWithoutFullLicenses', 'numFullLicensesAvailable'])\n    @state = new State({\n      promoteStarterLicenses: false\n    })\n    if options.courseID in STARTER_LICENSE_COURSE_IDS\n      @supermodel.trackRequest(me.getLeadPriority())\n        .then(({ priority }) => @state.set({ promoteStarterLicenses: (priority is 'low') }))\n    @listenTo @state, 'change', @render\n","errors = require 'core/errors'\nRootView = require 'views/core/RootView'\ntemplate = require 'templates/courses/courses-update-account-view'\nAuthModal = require 'views/core/AuthModal'\nJoinClassModal = require 'views/courses/JoinClassModal'\n{logoutUser, me} = require('core/auth')\n\nmodule.exports = class CoursesUpdateAccountView extends RootView\n  id: 'courses-update-account-view'\n  template: template\n\n  events:\n    'click .login-btn': 'onClickLogInButton'\n    'click .logout-btn': 'onClickLogoutButton'\n    'click .remain-teacher-btn': 'onClickRemainTeacherButton'\n    'click .update-teacher-btn': 'onClickUpdateTeacherButton'\n    'click .remain-student-btn': 'onClickRemainStudentButton'\n    'click .update-student-btn': 'onClickUpdateStudentButton'\n\n  initialize: (options) ->\n    @accountType = switch\n      when me.isTeacher() then $.i18n.t('courses.teacher')\n      when me.isStudent() then $.i18n.t('courses.student')\n\n  onClickLogInButton: ->\n    @openModalView(new AuthModal())\n    application.tracker?.trackEvent 'Started Student Login', category: 'Courses Update Account'\n\n  onClickLogoutButton: ->\n    Backbone.Mediator.publish(\"auth:logging-out\", {})\n    logoutUser()\n\n  onClickRemainTeacherButton: (e) ->\n    @remainTeacher(e.target, 'Remain teacher')\n\n  onClickUpdateTeacherButton: (e) ->\n    $(e.target).prop('disabled', true)\n    application.tracker?.trackEvent 'Update teacher', category: 'Courses Update Account'\n    application.router.navigate('/teachers/update-account', {trigger: true})\n\n  onClickRemainStudentButton: (e) ->\n    @becomeStudent(e.target, 'Remain student')\n\n  onClickUpdateStudentButton: (e) ->\n    joinClassModal = new JoinClassModal { classCode: @$('input[name=\"classCode\"]').val() }\n    @openModalView joinClassModal\n    @listenTo joinClassModal, 'join:success', => @becomeStudent(e.target, 'Update student')\n    # return unless window.confirm($.i18n.t('courses.update_account_confirm_update_student') + '\\n\\n' + $.i18n.t('courses.update_account_confirm_update_student2'))\n    # @becomeStudent(e.target, 'Update student')\n\n  becomeStudent: (targetElem, trackEventMsg) ->\n    $(targetElem).prop('disabled', true)\n    me.becomeStudent({\n      success: ->\n        application.tracker?.trackEvent trackEventMsg, category: 'Courses Update Account'\n        application.router.navigate('/students', {trigger: true})\n      error: ->\n        $(targetElem).prop('disabled', false)\n        errors.showNotyNetworkError(arguments...)\n    })\n\n  remainTeacher: (targetElem, trackEventMsg) ->\n    $(targetElem).prop('disabled', true)\n    me.remainTeacher({\n      success: ->\n        application.tracker?.trackEvent trackEventMsg, category: 'Courses Update Account'\n        application.router.navigate('/teachers', {trigger: true})\n      error: ->\n        $(targetElem).prop('disabled', false)\n        console.log(arguments)\n        errors.showNotyNetworkError(arguments...)\n    })\n","app = require 'core/application'\nRootView = require 'views/core/RootView'\ntemplate = require 'templates/courses/courses-view'\nAuthModal = require 'views/core/AuthModal'\nCreateAccountModal = require 'views/core/CreateAccountModal'\nChangeCourseLanguageModal = require 'views/courses/ChangeCourseLanguageModal'\nHeroSelectModal = require 'views/courses/HeroSelectModal'\nChooseLanguageModal = require 'views/courses/ChooseLanguageModal'\nJoinClassModal = require 'views/courses/JoinClassModal'\nCourseInstance = require 'models/CourseInstance'\nCocoCollection = require 'collections/CocoCollection'\nCourse = require 'models/Course'\nClassroom = require 'models/Classroom'\nClassrooms = require 'collections/Classrooms'\nLevelSession = require 'models/LevelSession'\nLevels = require 'collections/Levels'\nNameLoader = require 'core/NameLoader'\nCampaign = require 'models/Campaign'\nThangType = require 'models/ThangType'\nutils = require 'core/utils'\n\n# TODO: Test everything\n\nmodule.exports = class CoursesView extends RootView\n  id: 'courses-view'\n  template: template\n\n  events:\n    'click #log-in-btn': 'onClickLogInButton'\n    'click #start-new-game-btn': 'openSignUpModal'\n    'click .change-hero-btn': 'onClickChangeHeroButton'\n    'click #join-class-btn': 'onClickJoinClassButton'\n    'submit #join-class-form': 'onSubmitJoinClassForm'\n    'click .play-btn': 'onClickPlay'\n    'click .view-class-btn': 'onClickViewClass'\n    'click .view-levels-btn': 'onClickViewLevels'\n\n  getTitle: -> return $.i18n.t('courses.students')\n\n  initialize: ->\n    @classCodeQueryVar = utils.getQueryVariable('_cc', false)\n    @courseInstances = new CocoCollection([], { url: \"/db/user/#{me.id}/course_instances\", model: CourseInstance})\n    @courseInstances.comparator = (ci) -> return ci.get('classroomID') + ci.get('courseID')\n    @listenToOnce @courseInstances, 'sync', @onCourseInstancesLoaded\n    @supermodel.loadCollection(@courseInstances, { cache: false })\n    @classrooms = new CocoCollection([], { url: \"/db/classroom\", model: Classroom})\n    @classrooms.comparator = (a, b) -> b.id.localeCompare(a.id)\n    @supermodel.loadCollection(@classrooms, { data: {memberID: me.id}, cache: false })\n    @ownedClassrooms = new Classrooms()\n    @ownedClassrooms.fetchMine({data: {project: '_id'}})\n    @supermodel.trackCollection(@ownedClassrooms)\n    @courses = new CocoCollection([], { url: \"/db/course\", model: Course})\n    @supermodel.loadCollection(@courses)\n    @originalLevelMap = {}\n    @urls = require('core/urls')\n\n    # TODO: Trim this section for only what's necessary\n    @hero = new ThangType\n    defaultHeroOriginal = ThangType.heroes.captain\n    heroOriginal = me.get('heroConfig')?.thangType or defaultHeroOriginal\n    @hero.url = \"/db/thang.type/#{heroOriginal}/version\"\n    # @hero.setProjection ['name','slug','soundTriggers','featureImages','gems','heroClass','description','components','extendedName','unlockLevelName','i18n']\n    @supermodel.loadModel(@hero, 'hero')\n    @listenTo @hero, 'all', ->\n      @render()\n\n  afterInsert: ->\n    super()\n    unless me.isStudent() or (@classCodeQueryVar and not me.isTeacher())\n      @onClassLoadError()\n\n  onCourseInstancesLoaded: ->\n    # HoC 2015 used special single player course instances\n    @courseInstances.remove(@courseInstances.where({hourOfCode: true}))\n\n    for courseInstance in @courseInstances.models\n      continue if not courseInstance.get('classroomID')\n      courseID = courseInstance.get('courseID')\n      courseInstance.sessions = new CocoCollection([], {\n        url: courseInstance.url() + '/my-course-level-sessions',\n        model: LevelSession\n      })\n      courseInstance.sessions.comparator = 'changed'\n      @supermodel.loadCollection(courseInstance.sessions, { data: { project: 'state.complete,level.original,playtime,changed' }})\n\n  onLoaded: ->\n    super()\n    if @classCodeQueryVar and not me.isAnonymous()\n      window.tracker?.trackEvent 'Students Join Class Link', category: 'Students', classCode: @classCodeQueryVar, ['Mixpanel']\n      @joinClass()\n    else if @classCodeQueryVar and me.isAnonymous()\n      @openModalView(new CreateAccountModal())\n    ownerIDs = _.map(@classrooms.models, (c) -> c.get('ownerID')) ? []\n    Promise.resolve($.ajax(NameLoader.loadNames(ownerIDs)))\n    .then(=>\n      @ownerNameMap = {}\n      @ownerNameMap[ownerID] = NameLoader.getName(ownerID) for ownerID in ownerIDs\n      @render?()\n    )\n    _.forEach _.unique(_.pluck(@classrooms.models, 'id')), (classroomID) =>\n      levels = new Levels()\n      @listenTo levels, 'sync', =>\n        return if @destroyed\n        @originalLevelMap[level.get('original')] = level for level in levels.models\n        @render()\n      @supermodel.trackRequest(levels.fetchForClassroom(classroomID, { data: { project: 'original,primerLanguage,slug' }}))\n\n  onClickLogInButton: ->\n    modal = new AuthModal()\n    @openModalView(modal)\n    window.tracker?.trackEvent 'Students Login Started', category: 'Students', ['Mixpanel']\n\n  openSignUpModal: ->\n    window.tracker?.trackEvent 'Students Signup Started', category: 'Students', ['Mixpanel']\n    modal = new CreateAccountModal({ initialValues: { classCode: utils.getQueryVariable('_cc', \"\") } })\n    @openModalView(modal)\n\n  onClickChangeHeroButton: ->\n    window.tracker?.trackEvent 'Students Change Hero Started', category: 'Students', ['Mixpanel']\n    modal = new HeroSelectModal({ currentHeroID: @hero.id })\n    @openModalView(modal)\n    @listenTo modal, 'hero-select:success', (newHero) =>\n      # @hero.url = \"/db/thang.type/#{me.get('heroConfig').thangType}/version\"\n      # @hero.fetch()\n      @hero.set(newHero.attributes)\n    @listenTo modal, 'hide', ->\n      @stopListening modal\n\n  onSubmitJoinClassForm: (e) ->\n    e.preventDefault()\n    classCode = @$('#class-code-input').val() or @classCodeQueryVar\n    window.tracker?.trackEvent 'Students Join Class With Code', category: 'Students', classCode: classCode, ['Mixpanel']\n    @joinClass()\n\n  onClickJoinClassButton: (e) ->\n    classCode = @$('#class-code-input').val() or @classCodeQueryVar\n    window.tracker?.trackEvent 'Students Join Class With Code', category: 'Students', classCode: classCode, ['Mixpanel']\n    @joinClass()\n\n  joinClass: ->\n    return if @state\n    @state = 'enrolling'\n    @errorMessage = null\n    @classCode = @$('#class-code-input').val() or @classCodeQueryVar\n    if not @classCode\n      @state = null\n      @errorMessage = 'Please enter a code.'\n      @renderSelectors '#join-class-form'\n      return\n    @renderSelectors '#join-class-form'\n    if me.get('emailVerified') or me.isStudent()\n      newClassroom = new Classroom()\n      jqxhr = newClassroom.joinWithCode(@classCode)\n      @listenTo newClassroom, 'join:success', -> @onJoinClassroomSuccess(newClassroom)\n      @listenTo newClassroom, 'join:error', -> @onJoinClassroomError(newClassroom, jqxhr)\n    else\n      modal = new JoinClassModal({ @classCode })\n      @openModalView modal\n      @listenTo modal, 'error', @onClassLoadError\n      @listenTo modal, 'join:success', @onJoinClassroomSuccess\n      @listenTo modal, 'join:error', @onJoinClassroomError\n      @listenToOnce modal, 'hidden', ->\n        unless me.isStudent()\n          @onClassLoadError()\n      @listenTo modal, 'hidden', ->\n        @state = null\n        @renderSelectors '#join-class-form'\n\n  # Super hacky way to patch users being able to join class while hiding /students from others\n  onClassLoadError: ->\n    _.defer ->\n      application.router.routeDirectly('courses/RestrictedToStudentsView')\n\n  onJoinClassroomError: (classroom, jqxhr, options) ->\n    @state = null\n    if jqxhr.status is 422\n      @errorMessage = 'Please enter a code.'\n    else if jqxhr.status is 404\n      @errorMessage = $.t('signup.classroom_not_found')\n    else\n      @errorMessage = \"#{jqxhr.responseText}\"\n    @renderSelectors '#join-class-form'\n\n  onJoinClassroomSuccess: (newClassroom, data, options) ->\n    @state = null\n    application.tracker?.trackEvent 'Joined classroom', {\n      category: 'Courses'\n      classCode: @classCode\n      classroomID: newClassroom.id\n      classroomName: newClassroom.get('name')\n      ownerID: newClassroom.get('ownerID')\n    }\n    @classrooms.add(newClassroom)\n    @render()\n    @classroomJustAdded = newClassroom.id\n\n    classroomCourseInstances = new CocoCollection([], { url: \"/db/course_instance\", model: CourseInstance })\n    classroomCourseInstances.fetch({ data: {classroomID: newClassroom.id} })\n    @listenToOnce classroomCourseInstances, 'sync', ->\n      # TODO: Smoother system for joining a classroom and course instances, without requiring page reload,\n      # and showing which class was just joined.\n      document.location.search = '' # Using document.location.reload() causes an infinite loop of reloading\n\n  onClickPlay: (e) ->\n    levelSlug = $(e.currentTarget).data('level-slug')\n    window.tracker?.trackEvent $(e.currentTarget).data('event-action'), category: 'Students', levelSlug: levelSlug, ['Mixpanel']\n    application.router.navigate($(e.currentTarget).data('href'), { trigger: true })\n\n  onClickViewClass: (e) ->\n    classroomID = $(e.target).data('classroom-id')\n    window.tracker?.trackEvent 'Students View Class', category: 'Students', classroomID: classroomID, ['Mixpanel']\n    application.router.navigate(\"/students/#{classroomID}\", { trigger: true })\n\n  onClickViewLevels: (e) ->\n    courseID = $(e.target).data('course-id')\n    courseInstanceID = $(e.target).data('courseinstance-id')\n    window.tracker?.trackEvent 'Students View Levels', category: 'Students', courseID: courseID, courseInstanceID: courseInstanceID, ['Mixpanel']\n    application.router.navigate(\"/students/#{courseID}/#{courseInstanceID}\", { trigger: true })\n","RootView = require 'views/core/RootView'\nClassrooms = require 'collections/Classrooms'\nState = require 'models/State'\nPrepaids = require 'collections/Prepaids'\ntemplate = require 'templates/courses/enrollments-view'\nUsers = require 'collections/Users'\nCourses = require 'collections/Courses'\nHowToEnrollModal = require 'views/teachers/HowToEnrollModal'\nTeachersContactModal = require 'views/teachers/TeachersContactModal'\nActivateLicensesModal = require 'views/courses/ActivateLicensesModal'\nutils = require 'core/utils'\n\n{\n  STARTER_LICENSE_COURSE_IDS\n  FREE_COURSE_IDS\n} = require 'core/constants'\n\nmodule.exports = class EnrollmentsView extends RootView\n  id: 'enrollments-view'\n  template: template\n\n  events:\n    'click #enroll-students-btn': 'onClickEnrollStudentsButton'\n    'click #how-to-enroll-link': 'onClickHowToEnrollLink'\n    'click #contact-us-btn': 'onClickContactUsButton'\n\n  getTitle: -> return $.i18n.t('teacher.enrollments')\n  \n  i18nData: ->\n    starterLicenseCourseList: @state.get('starterLicenseCourseList')\n\n  initialize: (options) ->\n    @state = new State({\n      totalEnrolled: 0\n      totalNotEnrolled: 0\n      classroomNotEnrolledMap: {}\n      classroomEnrolledMap: {}\n      numberOfStudents: 15\n      totalCourses: 0\n      prepaidGroups: {\n        'available': []\n        'pending': []\n      }\n      shouldUpsell: true\n    })\n    window.tracker?.trackEvent 'Classes Licenses Loaded', category: 'Teachers', ['Mixpanel']\n    super(options)\n\n    @courses = new Courses()\n    @supermodel.trackRequest @courses.fetch({data: { project: 'free,i18n,name' }})\n    @listenTo @courses, 'sync', ->\n      @state.set { starterLicenseCourseList: @getStarterLicenseCourseList() }\n    # Listen for language change\n    @listenTo me, 'change:preferredLanguage', ->\n      @state.set { starterLicenseCourseList: @getStarterLicenseCourseList() }\n    @members = new Users()\n    @classrooms = new Classrooms()\n    @classrooms.comparator = '_id'\n    @listenToOnce @classrooms, 'sync', @onceClassroomsSync\n    @supermodel.trackRequest @classrooms.fetchMine()\n    @prepaids = new Prepaids()\n    @supermodel.trackRequest @prepaids.fetchByCreator(me.id)\n    @debouncedRender = _.debounce @render, 0\n    @listenTo @prepaids, 'sync', @updatePrepaidGroups\n    @listenTo(@state, 'all', @debouncedRender)\n    @listenTo(me, 'change:enrollmentRequestSent', @debouncedRender)\n\n    leadPriorityRequest = me.getLeadPriority()\n    @supermodel.trackRequest leadPriorityRequest\n    leadPriorityRequest.then ({ priority }) =>\n      shouldUpsell = (priority is 'low')\n      @state.set({ shouldUpsell })\n      if shouldUpsell\n        application.tracker?.trackEvent 'Starter License Upsell: Banner Viewed', {price: @state.get('centsPerStudent'), seats: @state.get('quantityToBuy')}\n\n  getStarterLicenseCourseList: ->\n    return if !@courses.loaded\n    COURSE_IDS = _.difference(STARTER_LICENSE_COURSE_IDS, FREE_COURSE_IDS)\n    starterLicenseCourseList = _.difference(STARTER_LICENSE_COURSE_IDS, FREE_COURSE_IDS).map (_id) =>\n      utils.i18n(@courses.findWhere({_id})?.attributes or {}, 'name')\n    starterLicenseCourseList.push($.t('general.and') + ' ' + starterLicenseCourseList.pop())\n    starterLicenseCourseList.join(', ')\n\n  onceClassroomsSync: ->\n    for classroom in @classrooms.models\n      @supermodel.trackRequests @members.fetchForClassroom(classroom, {remove: false, removeDeleted: true})\n\n  onLoaded: ->\n    @calculateEnrollmentStats()\n    @state.set('totalCourses', @courses.size())\n    super()\n\n  updatePrepaidGroups: ->\n    @state.set('prepaidGroups', @prepaids.groupBy((p) -> p.status()))\n\n  calculateEnrollmentStats: ->\n    @removeDeletedStudents()\n\n    # sort users into enrolled, not enrolled\n    groups = @members.groupBy (m) -> m.isEnrolled()\n    enrolledUsers = new Users(groups.true)\n    @notEnrolledUsers = new Users(groups.false)\n\n    map = {}\n\n    for classroom in @classrooms.models\n      map[classroom.id] = _.countBy(classroom.get('members'), (userID) -> enrolledUsers.get(userID)?).false\n\n    @state.set({\n      totalEnrolled: enrolledUsers.size()\n      totalNotEnrolled: @notEnrolledUsers.size()\n      classroomNotEnrolledMap: map\n    })\n\n    true\n\n  removeDeletedStudents: (e) ->\n    for classroom in @classrooms.models\n      _.remove(classroom.get('members'), (memberID) =>\n        not @members.get(memberID) or @members.get(memberID)?.get('deleted')\n      )\n    true\n\n  onClickHowToEnrollLink: ->\n    @openModalView(new HowToEnrollModal())\n\n  onClickContactUsButton: ->\n    window.tracker?.trackEvent 'Classes Licenses Contact Us', category: 'Teachers', ['Mixpanel']\n    @openModalView(new TeachersContactModal())\n\n  onClickEnrollStudentsButton: ->\n    window.tracker?.trackEvent 'Classes Licenses Enroll Students', category: 'Teachers', ['Mixpanel']\n    modal = new ActivateLicensesModal({ selectedUsers: @notEnrolledUsers, users: @members })\n    @openModalView(modal)\n    modal.once 'hidden', =>\n      @prepaids.add(modal.prepaids.models, { merge: true })\n      @debouncedRender() # Because one changed model does not a collection update make\n","ModalView = require 'views/core/ModalView'\nHeroSelectView = require 'views/core/HeroSelectView'\ntemplate = require 'templates/courses/hero-select-modal'\nClassroom = require 'models/Classroom'\nThangTypes = require 'collections/ThangTypes'\nState = require 'models/State'\nThangType = require 'models/ThangType'\nUser = require 'models/User'\n\nmodule.exports = class HeroSelectModal extends ModalView\n  id: 'hero-select-modal'\n  template: template\n  retainSubviews: true\n\n  events:\n    'click .select-hero-btn': 'onClickSelectHeroButton'\n\n  initialize: ->\n    @listenTo @insertSubView(new HeroSelectView({ showCurrentHero: true })),\n      'hero-select:success', (hero) ->\n        @trigger('hero-select:success', hero)\n\n  onClickSelectHeroButton: () ->\n    @hide()\n","ModalView = require 'views/core/ModalView'\ntemplate = require 'templates/courses/invite-to-classroom-modal'\n\nmodule.exports = class InviteToClassroomModal extends ModalView\n  id: 'invite-to-classroom-modal'\n  template: template\n\n  events:\n    'click #send-invites-btn': 'onClickSendInvitesButton'\n    'click #copy-url-btn, #join-url-input': 'copyURL'\n\n  initialize: (options) ->\n    @classroom = options.classroom\n    @classCode = @classroom.get('codeCamel') || @classroom.get('code')\n    @joinURL = document.location.origin + \"/students?_cc=\" + @classCode\n\n  onClickSendInvitesButton: ->\n    emails = @$('#invite-emails-textarea').val()\n    emails = emails.split('\\n')\n    emails = _.filter((_.string.trim(email) for email in emails))\n    if not emails.length\n      return\n    \n    @$('#send-invites-btn, #invite-emails-textarea').addClass('hide')\n    @$('#invite-emails-sending-alert').removeClass('hide')\n    application.tracker?.trackEvent 'Classroom invite via email', category: 'Courses', classroomID: @classroom.id, emails: emails\n    @classroom.inviteMembers(emails, {\n      success: =>\n        @$('#invite-emails-sending-alert').addClass('hide')\n        @$('#invite-emails-success-alert').removeClass('hide')\n    })\n\n  copyURL: ->\n    @$('#join-url-input').val(@joinURL).select()\n    try\n      document.execCommand('copy')\n      @$('#copied-alert').removeClass('hide')\n      application.tracker?.trackEvent 'Classroom copy URL', category: 'Courses', classroomID: @classroom.id, url: @joinURL\n    catch err\n      console.log('Oops, unable to copy', err)\n      @$('#copy-failed-alert').removeClass('hide')\n","ModalView = require 'views/core/ModalView'\ntemplate = require 'templates/courses/join-class-modal'\nClassroom = require 'models/Classroom'\nUser = require 'models/User'\n\nmodule.exports = class JoinClassModal extends ModalView\n  id: 'join-class-modal'\n  template: template\n\n  events:\n    'click .join-class-btn': 'onClickJoinClassButton'\n\n  initialize: ({ @classCode } = {}) ->\n    @classroom = new Classroom()\n    @teacher = new User()\n    jqxhr = @supermodel.trackRequest @classroom.fetchByCode(@classCode)\n    unless me.get('emailVerified')\n      @supermodel.trackRequest $.post(\"/db/user/#{me.id}/request-verify-email\")\n    @listenTo @classroom, 'error', ->\n      @trigger('error')\n    @listenTo @classroom, 'sync', ->\n      @render\n    @listenTo @classroom, 'join:success', ->\n      @trigger('join:success', @classroom)\n    @listenTo @classroom, 'join:error', ->\n      @trigger('join:error', @classroom, jqxhr)\n      # @close()\n\n  onClickJoinClassButton: ->\n    @classroom.joinWithCode(@classCode)\n","ModalView = require 'views/core/ModalView'\ntemplate = require 'templates/courses/remove-student-modal'\n\nmodule.exports = class RemoveStudentModal extends ModalView\n  id: 'remove-student-modal'\n  template: template\n\n  events:\n    'click #remove-student-btn': 'onClickRemoveStudentButton'\n\n  initialize: (options) ->\n    @classroom = options.classroom\n    @user = options.user\n    @courseInstances = options.courseInstances\n\n  onClickRemoveStudentButton: ->\n    @$('#remove-student-buttons').addClass('hide')\n    @$('#remove-student-progress').removeClass('hide')\n    userID = @user.id\n    @toRemove = @courseInstances.filter (courseInstance) -> _.contains(courseInstance.get('members'), userID)\n    @toRemove.push @classroom\n    @totalJobs = _.size(@toRemove)\n    @removeStudent()\n\n  removeStudent: ->\n    model = @toRemove.shift()\n    if not model\n      @trigger 'remove-student', { user: @user }\n      @hide()\n      return\n\n    model.removeMember(@user.id)\n    pct = (100 * (@totalJobs - @toRemove.length) / @totalJobs).toFixed(1) + '%'\n    @$('#remove-student-progress .progress-bar').css('width', pct)\n    @listenToOnce model, 'sync', ->\n      @removeStudent()\n","RootView = require 'views/core/RootView'\n\nmodule.exports = class RestrictedToStudentsView extends RootView\n  id: 'restricted-to-students-view'\n  template: require 'templates/courses/restricted-to-students-view'\n\n  initialize: ->\n    window.tracker?.trackEvent 'Restricted To Students Loaded', category: 'Students', []\n","app = require 'core/application'\nCreateAccountModal = require 'views/core/CreateAccountModal'\nCocoCollection = require 'collections/CocoCollection'\nCourse = require 'models/Course'\nClassroom = require 'models/Classroom'\nUser = require 'models/User'\nCourseInstance = require 'models/CourseInstance'\nRootView = require 'views/core/RootView'\ntemplate = require 'templates/courses/student-courses-view'\nutils = require 'core/utils'\n\n# TODO: Implement join class\n# TODO: Implement course instance links\n\nmodule.exports = class StudentCoursesView extends RootView\n  id: 'student-courses-view'\n  template: template\n\n  events:\n    'click #join-class-btn': 'onClickJoinClassButton'\n\n  constructor: (options) ->\n    super(options)\n    @courseInstances = new CocoCollection([], { url: \"/db/user/#{me.id}/course_instances\", model: CourseInstance})\n    @courseInstances.comparator = (ci) -> return ci.get('classroomID') + ci.get('courseID')\n    @supermodel.loadCollection(@courseInstances, 'course_instances')\n    @classrooms = new CocoCollection([], { url: \"/db/classroom\", model: Classroom })\n    @supermodel.loadCollection(@classrooms, 'classrooms', { data: {memberID: me.id} })\n    @courses = new CocoCollection([], { url: \"/db/course\", model: Course})\n    @supermodel.loadCollection(@courses, 'courses')\n\n  onLoaded: ->\n    if (@classCode = utils.getQueryVariable('_cc', false)) and not me.isAnonymous()\n      @joinClass()\n    super()\n\n  onClickJoinClassButton: (e) ->\n    return @openModalView new CreateAccountModal() if me.isAnonymous()\n    @classCode = @$('#classroom-code-input').val()\n    @joinClass()\n\n  joinClass: () ->\n    @state = 'enrolling'\n    @renderSelectors '#join-classroom-form'\n    $.ajax({\n      method: 'POST'\n      url: '/db/classroom/-/members'\n      data: code: @classCode\n      context: @\n      success: @onJoinClassroomSuccess\n      error: (jqxhr, textStatus, errorThrown) ->\n        application.tracker?.trackEvent 'Failed to join classroom with code', status: textStatus\n        @state = 'unknown_error'\n        if jqxhr.status is 422\n          @stateMessage = 'Please enter a code.'\n        else if jqxhr.status is 404\n          @stateMessage = 'Code not found.'\n        else\n          @stateMessage = \"#{jqxhr.responseText}\"\n        @renderSelectors '#join-classroom-form'\n    })\n\n  onJoinClassroomSuccess: (data, textStatus, jqxhr) ->\n    classroom = new Classroom(data)\n    application.tracker?.trackEvent 'Joined classroom', {\n      classroomID: classroom.id,\n      classroomName: classroom.get('name')\n      ownerID: classroom.get('ownerID')\n    }\n    @classrooms.add(classroom)\n    @render()\n\n    classroomCourseInstances = new CocoCollection([], { url: \"/db/course_instance\", model: CourseInstance })\n    classroomCourseInstances.fetch({ data: {classroomID: classroom.id} })\n    @listenToOnce classroomCourseInstances, 'sync', ->\n\n      # join any course instances in the classroom which are free to join\n      jqxhrs = []\n      for courseInstance in classroomCourseInstances.models\n        course = @courses.get(courseInstance.get('courseID'))\n        if course.get('free')\n          jqxhrs.push $.ajax({\n            method: 'POST'\n            url: _.result(courseInstance, 'url') + '/members'\n            data: { userID: me.id }\n            context: @\n            success: (data) ->\n              @courseInstances.add(data)\n              @courseInstances.get(data._id).justJoined = true\n          })\n      $.when(jqxhrs...).done =>\n        @state = ''\n        @render()\n","RootView = require 'views/core/RootView'\nState = require 'models/State'\ntemplate = require 'templates/courses/teacher-class-view'\nhelper = require 'lib/coursesHelper'\nutils = require 'core/utils'\nClassroomSettingsModal = require 'views/courses/ClassroomSettingsModal'\nInviteToClassroomModal = require 'views/courses/InviteToClassroomModal'\nActivateLicensesModal = require 'views/courses/ActivateLicensesModal'\nEditStudentModal = require 'views/teachers/EditStudentModal'\nRemoveStudentModal = require 'views/courses/RemoveStudentModal'\nCoursesNotAssignedModal = require './CoursesNotAssignedModal'\n\nCampaigns = require 'collections/Campaigns'\nClassroom = require 'models/Classroom'\nClassrooms = require 'collections/Classrooms'\nLevels = require 'collections/Levels'\nLevelSessions = require 'collections/LevelSessions'\nUser = require 'models/User'\nUsers = require 'collections/Users'\nCourse = require 'models/Course'\nCourses = require 'collections/Courses'\nCourseInstance = require 'models/CourseInstance'\nCourseInstances = require 'collections/CourseInstances'\nPrepaids = require 'collections/Prepaids'\n\n{ STARTER_LICENSE_COURSE_IDS } = require 'core/constants'\n\nmodule.exports = class TeacherClassView extends RootView\n  id: 'teacher-class-view'\n  template: template\n  helper: helper\n\n  events:\n    'click .nav-tabs a': 'onClickNavTabLink'\n    'click .unarchive-btn': 'onClickUnarchive'\n    'click .edit-classroom': 'onClickEditClassroom'\n    'click .add-students-btn': 'onClickAddStudents'\n    'click .edit-student-link': 'onClickEditStudentLink'\n    'click .sort-button': 'onClickSortButton'\n    'click #copy-url-btn': 'onClickCopyURLButton'\n    'click #copy-code-btn': 'onClickCopyCodeButton'\n    'click .remove-student-link': 'onClickRemoveStudentLink'\n    'click .assign-student-button': 'onClickAssignStudentButton'\n    'click .enroll-student-button': 'onClickEnrollStudentButton'\n    'click .assign-to-selected-students': 'onClickBulkAssign'\n    'click .export-student-progress-btn': 'onClickExportStudentProgress'\n    'click .select-all': 'onClickSelectAll'\n    'click .student-checkbox': 'onClickStudentCheckbox'\n    'keyup #student-search': 'onKeyPressStudentSearch'\n    'change .course-select, .bulk-course-select': 'onChangeCourseSelect'\n\n  getInitialState: ->\n    {\n      sortAttribute: 'name'\n      sortDirection: 1\n      activeTab: '#' + (Backbone.history.getHash() or 'students-tab')\n      students: new Users()\n      classCode: \"\"\n      joinURL: \"\"\n      errors:\n        assigningToNobody: false\n      selectedCourse: undefined\n      checkboxStates: {}\n      classStats:\n        averagePlaytime: \"\"\n        totalPlaytime: \"\"\n        averageLevelsComplete: \"\"\n        totalLevelsComplete: \"\"\n        enrolledUsers: \"\"\n    }\n\n  getTitle: -> return @classroom?.get('name')\n\n  initialize: (options, classroomID) ->\n    super(options)\n    # wrap templates so they translate when called\n    translateTemplateText = (template, context) => $('<div />').html(template(context)).i18n().html()\n    @singleStudentCourseProgressDotTemplate = _.wrap(require('templates/teachers/hovers/progress-dot-single-student-course'), translateTemplateText)\n    @singleStudentLevelProgressDotTemplate = _.wrap(require('templates/teachers/hovers/progress-dot-single-student-level'), translateTemplateText)\n    @allStudentsLevelProgressDotTemplate = _.wrap(require('templates/teachers/hovers/progress-dot-all-students-single-level'), translateTemplateText)\n\n    @urls = require('core/urls')\n\n    @debouncedRender = _.debounce @render\n\n    @state = new State(@getInitialState())\n    @updateHash @state.get('activeTab') # TODO: Don't push to URL history (maybe don't use url fragment for default tab)\n\n    @classroom = new Classroom({ _id: classroomID })\n    @supermodel.trackRequest @classroom.fetch()\n    @onKeyPressStudentSearch = _.debounce(@onKeyPressStudentSearch, 200)\n    @sortedCourses = []\n\n    @prepaids = new Prepaids()\n    @supermodel.trackRequest @prepaids.fetchByCreator(me.id)\n\n    @students = new Users()\n    @classroom.sessions = new LevelSessions()\n    @listenTo @classroom, 'sync', ->\n      jqxhrs = @students.fetchForClassroom(@classroom, removeDeleted: true)\n      @supermodel.trackRequests jqxhrs\n\n      requests = @classroom.sessions.fetchForAllClassroomMembers(@classroom)\n      @supermodel.trackRequests(requests)\n\n    @students.comparator = (student1, student2) =>\n      dir = @state.get('sortDirection')\n      value = @state.get('sortValue')\n      if value is 'name'\n        return (if student1.broadName().toLowerCase() < student2.broadName().toLowerCase() then -dir else dir)\n\n      if value is 'progress'\n        # TODO: I would like for this to be in the Level model,\n        #   but it doesn't know about its own courseNumber.\n        level1 = student1.latestCompleteLevel\n        level2 = student2.latestCompleteLevel\n        return -dir if not level1\n        return dir if not level2\n        return dir * (level1.courseNumber - level2.courseNumber or level1.levelNumber - level2.levelNumber)\n\n      if value is 'status'\n        statusMap = { expired: 0, 'not-enrolled': 1, enrolled: 2 }\n        diff = statusMap[student1.prepaidStatus()] - statusMap[student2.prepaidStatus()]\n        return dir * diff if diff\n        return (if student1.broadName().toLowerCase() < student2.broadName().toLowerCase() then -dir else dir)\n\n    @courses = new Courses()\n    @supermodel.trackRequest @courses.fetch()\n\n    @courseInstances = new CourseInstances()\n    @supermodel.trackRequest @courseInstances.fetchForClassroom(classroomID)\n\n    @levels = new Levels()\n    @supermodel.trackRequest @levels.fetchForClassroom(classroomID, {data: {project: 'original,concepts,primerLanguage,practice,shareable,i18n'}})\n\n    @attachMediatorEvents()\n    window.tracker?.trackEvent 'Teachers Class Loaded', category: 'Teachers', classroomID: @classroom.id, ['Mixpanel']\n\n  attachMediatorEvents: () ->\n    # Model/Collection events\n    @listenTo @classroom, 'sync change update', ->\n      classCode = @classroom.get('codeCamel') or @classroom.get('code')\n      @state.set {\n        classCode: classCode\n        joinURL: document.location.origin + \"/students?_cc=\" + classCode\n      }\n      @sortedCourses = @classroom.getSortedCourses()\n      @availableCourseMap = {}\n      @availableCourseMap[course._id] = true for course in @sortedCourses\n      @debouncedRender()\n    @listenTo @courses, 'sync change update', ->\n      @setCourseMembers() # Is this necessary?\n      @state.set selectedCourse: @courses.first() unless @state.get('selectedCourse')\n    @listenTo @courseInstances, 'sync change update', ->\n      @setCourseMembers()\n    @listenTo @students, 'sync change update add remove reset', ->\n      # Set state/props of things that depend on students?\n      # Set specific parts of state based on the models, rather than just dumping the collection there?\n      @calculateProgressAndLevels()\n      classStats = @calculateClassStats()\n      @state.set classStats: classStats if classStats\n      @state.set students: @students\n      checkboxStates = {}\n      for student in @students.models\n        checkboxStates[student.id] = @state.get('checkboxStates')[student.id] or false\n      @state.set { checkboxStates }\n    @listenTo @students, 'sort', ->\n      @state.set students: @students\n    @listenTo @, 'course-select:change', ({ selectedCourse }) ->\n      @state.set selectedCourse: selectedCourse\n\n  setCourseMembers: =>\n    for course in @courses.models\n      course.instance = @courseInstances.findWhere({ courseID: course.id, classroomID: @classroom.id })\n      course.members = course.instance?.get('members') or []\n    null\n\n  onLoaded: ->\n    # Get latest courses for student assignment dropdowns\n    @latestReleasedCourses = if me.isAdmin() then @courses.models else @courses.where({releasePhase: 'released'})\n    @latestReleasedCourses = utils.sortCourses(@latestReleasedCourses)\n    @removeDeletedStudents() # TODO: Move this to mediator listeners? For both classroom and students?\n    @calculateProgressAndLevels()\n\n    # render callback setup\n    @listenTo @courseInstances, 'sync change update', @debouncedRender\n    @listenTo @state, 'sync change', ->\n      if _.isEmpty(_.omit(@state.changed, 'searchTerm'))\n        @renderSelectors('#license-status-table')\n      else\n        @debouncedRender()\n    @listenTo @students, 'sort', @debouncedRender\n    super()\n\n  afterRender: ->\n    super(arguments...)\n    $('.progress-dot, .btn-view-project-level').each (i, el) ->\n      dot = $(el)\n      dot.tooltip({\n        html: true\n        container: dot\n      }).delegate '.tooltip', 'mousemove', ->\n        dot.tooltip('hide')\n\n  calculateProgressAndLevels: ->\n    return unless @supermodel.progress is 1\n    # TODO: How to structure this in @state?\n    for student in @students.models\n      # TODO: this is a weird hack\n      studentsStub = new Users([ student ])\n      student.latestCompleteLevel = helper.calculateLatestComplete(@classroom, @courses, @courseInstances, studentsStub)\n\n    earliestIncompleteLevel = helper.calculateEarliestIncomplete(@classroom, @courses, @courseInstances, @students)\n    latestCompleteLevel = helper.calculateLatestComplete(@classroom, @courses, @courseInstances, @students)\n\n    classroomsStub = new Classrooms([ @classroom ])\n    progressData = helper.calculateAllProgress(classroomsStub, @courses, @courseInstances, @students)\n    # conceptData: helper.calculateConceptsCovered(classroomsStub, @courses, @campaigns, @courseInstances, @students)\n\n    @state.set {\n      earliestIncompleteLevel\n      latestCompleteLevel\n      progressData\n      classStats: @calculateClassStats()\n    }\n\n  onClickNavTabLink: (e) ->\n    e.preventDefault()\n    hash = $(e.target).closest('a').attr('href')\n    @updateHash(hash)\n    @state.set activeTab: hash\n\n  updateHash: (hash) ->\n    return if application.testing\n    window.location.hash = hash\n\n  onClickCopyCodeButton: ->\n    window.tracker?.trackEvent 'Teachers Class Copy Class Code', category: 'Teachers', classroomID: @classroom.id, classCode: @state.get('classCode'), ['Mixpanel']\n    @$('#join-code-input').val(@state.get('classCode')).select()\n    @tryCopy()\n\n  onClickCopyURLButton: ->\n    window.tracker?.trackEvent 'Teachers Class Copy Class URL', category: 'Teachers', classroomID: @classroom.id, url: @state.get('joinURL'), ['Mixpanel']\n    @$('#join-url-input').val(@state.get('joinURL')).select()\n    @tryCopy()\n\n  onClickUnarchive: ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    window.tracker?.trackEvent 'Teachers Class Unarchive', category: 'Teachers', classroomID: @classroom.id, ['Mixpanel']\n    @classroom.save { archived: false }\n\n  onClickEditClassroom: (e) ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    window.tracker?.trackEvent 'Teachers Class Edit Class Started', category: 'Teachers', classroomID: @classroom.id, ['Mixpanel']\n    classroom = @classroom\n    modal = new ClassroomSettingsModal({ classroom: classroom })\n    @openModalView(modal)\n    @listenToOnce modal, 'hide', @render\n\n  onClickEditStudentLink: (e) ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    window.tracker?.trackEvent 'Teachers Class Students Edit', category: 'Teachers', classroomID: @classroom.id, ['Mixpanel']\n    user = @students.get($(e.currentTarget).data('student-id'))\n    modal = new EditStudentModal({ user, @classroom })\n    @openModalView(modal)\n\n  onClickRemoveStudentLink: (e) ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    user = @students.get($(e.currentTarget).data('student-id'))\n    modal = new RemoveStudentModal({\n      classroom: @classroom\n      user: user\n      courseInstances: @courseInstances\n    })\n    @openModalView(modal)\n    modal.once 'remove-student', @onStudentRemoved, @\n\n  onStudentRemoved: (e) ->\n    @students.remove(e.user)\n    window.tracker?.trackEvent 'Teachers Class Students Removed', category: 'Teachers', classroomID: @classroom.id, userID: e.user.id, ['Mixpanel']\n\n  onClickAddStudents: (e) =>\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    window.tracker?.trackEvent 'Teachers Class Add Students', category: 'Teachers', classroomID: @classroom.id, ['Mixpanel']\n    modal = new InviteToClassroomModal({ classroom: @classroom })\n    @openModalView(modal)\n    @listenToOnce modal, 'hide', @render\n\n  removeDeletedStudents: () ->\n    return unless @classroom.loaded and @students.loaded\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    _.remove(@classroom.get('members'), (memberID) =>\n      not @students.get(memberID) or @students.get(memberID)?.get('deleted')\n    )\n    true\n\n  onClickSortButton: (e) ->\n    value = $(e.target).val()\n    if value is @state.get('sortValue')\n      @state.set('sortDirection', -@state.get('sortDirection'))\n    else\n      @state.set({\n        sortValue: value\n        sortDirection: 1\n      })\n    @students.sort()\n\n  onKeyPressStudentSearch: (e) ->\n    @state.set('searchTerm', $(e.target).val())\n\n  onChangeCourseSelect: (e) ->\n    @trigger 'course-select:change', { selectedCourse: @courses.get($(e.currentTarget).val()) }\n\n  getSelectedStudentIDs: ->\n    Object.keys(_.pick @state.get('checkboxStates'), (checked) -> checked)\n\n  ensureInstance: (courseID) ->\n\n  onClickEnrollStudentButton: (e) ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    userID = $(e.currentTarget).data('user-id')\n    user = @students.get(userID)\n    selectedUsers = new Users([user])\n    @enrollStudents(selectedUsers)\n    window.tracker?.trackEvent $(e.currentTarget).data('event-action'), category: 'Teachers', classroomID: @classroom.id, userID: userID, ['Mixpanel']\n\n  enrollStudents: (selectedUsers) ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    modal = new ActivateLicensesModal { @classroom, selectedUsers, users: @students }\n    @openModalView(modal)\n    modal.once 'redeem-users', (enrolledUsers) =>\n      enrolledUsers.each (newUser) =>\n        user = @students.get(newUser.id)\n        if user\n          user.set(newUser.attributes)\n      null\n\n  onClickExportStudentProgress: ->\n    # TODO: Does not yield .csv download on Safari, and instead opens a new tab with the .csv contents\n    window.tracker?.trackEvent 'Teachers Class Export CSV', category: 'Teachers', classroomID: @classroom.id, ['Mixpanel']\n    courseLabels = \"\"\n    courses = (@courses.get(c._id) for c in @sortedCourses)\n    courseLabelsArray = helper.courseLabelsArray(courses)\n    for course, index in courses\n      courseLabels += \"#{courseLabelsArray[index]} Levels,#{courseLabelsArray[index]} Playtime,\"\n    csvContent = \"data:text/csv;charset=utf-8,Name,Username,Email,Total Levels, Total Playtime,#{courseLabels}Concepts\\n\"\n    levelCourseIdMap = {}\n    levelPracticeMap = {}\n    language = @classroom.get('aceConfig')?.language\n    for trimCourse in @classroom.get('courses')\n      for trimLevel in trimCourse.levels\n        continue if language and trimLevel.primerLanguage is language\n        if trimLevel.practice\n          levelPracticeMap[trimLevel.original] = true\n          continue\n        levelCourseIdMap[trimLevel.original] = trimCourse._id\n    for student in @students.models\n      concepts = []\n      for trimCourse in @classroom.get('courses')\n        course = @courses.get(trimCourse._id)\n        instance = @courseInstances.findWhere({ courseID: course.id, classroomID: @classroom.id })\n        if instance and instance.hasMember(student)\n          for trimLevel in trimCourse.levels\n            level = @levels.findWhere({ original: trimLevel.original })\n            progress = @state.get('progressData').get({ classroom: @classroom, course: course, level: level, user: student })\n            concepts.push(level.get('concepts') ? []) if progress?.completed\n      concepts = _.union(_.flatten(concepts))\n      conceptsString = _.map(concepts, (c) -> $.i18n.t(\"concepts.\" + c)).join(', ')\n      courseCountsMap = {}\n      levels = 0\n      playtime = 0\n      for session in @classroom.sessions.models\n        continue unless session.get('creator') is student.id\n        continue unless session.get('state')?.complete\n        continue if levelPracticeMap[session.get('level')?.original]\n        levels++\n        playtime += session.get('playtime') or 0\n        if courseID = levelCourseIdMap[session.get('level')?.original]\n          courseCountsMap[courseID] ?= {levels: 0, playtime: 0}\n          courseCountsMap[courseID].levels++\n          courseCountsMap[courseID].playtime += session.get('playtime') or 0\n      playtimeString = if playtime is 0 then \"0\" else moment.duration(playtime, 'seconds').humanize()\n      for course in @sortedCourses\n        courseCountsMap[course._id] ?= {levels: 0, playtime: 0}\n      courseCounts = []\n      for course in @sortedCourses\n        courseID = course._id\n        data = courseCountsMap[courseID]\n        courseCounts.push\n          id: courseID\n          levels: data.levels\n          playtime: data.playtime\n      utils.sortCourses(courseCounts)\n      courseCountsString = \"\"\n      for counts, index in courseCounts\n        courseCountsString += \"#{counts.levels},\"\n        if counts.playtime is 0\n          courseCountsString += \"0,\"\n        else\n          courseCountsString += \"#{moment.duration(counts.playtime, 'seconds').humanize()},\"\n      csvContent += \"#{student.broadName()},#{student.get('name')},#{student.get('email') or ''},#{levels},#{playtimeString},#{courseCountsString}\\\"#{conceptsString}\\\"\\n\"\n    csvContent = csvContent.substring(0, csvContent.length - 1)\n    encodedUri = encodeURI(csvContent)\n    window.open(encodedUri)\n\n  onClickAssignStudentButton: (e) ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    userID = $(e.currentTarget).data('user-id')\n    user = @students.get(userID)\n    members = [userID]\n    courseID = $(e.currentTarget).data('course-id')\n    @assignCourse courseID, members\n    window.tracker?.trackEvent 'Teachers Class Students Assign Selected', category: 'Teachers', classroomID: @classroom.id, courseID: courseID, userID: userID, ['Mixpanel']\n\n  onClickBulkAssign: ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    courseID = @$('.bulk-course-select').val()\n    selectedIDs = @getSelectedStudentIDs()\n    assigningToNobody = selectedIDs.length is 0\n    @state.set errors: { assigningToNobody }\n    return if assigningToNobody\n    @assignCourse courseID, selectedIDs\n    window.tracker?.trackEvent 'Teachers Class Students Assign Selected', category: 'Teachers', classroomID: @classroom.id, courseID: courseID, ['Mixpanel']\n\n  assignCourse: (courseID, members) ->\n    return unless me.id is @classroom.get('ownerID') # May be viewing page as admin\n    courseInstance = null\n    numberEnrolled = 0\n    remainingSpots = 0\n\n    return Promise.resolve()\n    # Find or make the necessary course instances\n    .then =>\n      courseInstance = @courseInstances.findWhere({ courseID, classroomID: @classroom.id })\n      if not courseInstance\n        courseInstance = new CourseInstance {\n          courseID,\n          classroomID: @classroom.id\n          ownerID: @classroom.get('ownerID')\n          aceConfig: {}\n        }\n        courseInstance.notyErrors = false # handling manually\n        @courseInstances.add(courseInstance)\n        return courseInstance.save()\n\n    # Automatically apply licenses to students if necessary\n    .then =>\n      # Find the prepaids and users we're acting on (for both starter and full license cases)\n      availablePrepaids = @prepaids.filter((prepaid) -> prepaid.status() is 'available' and prepaid.includesCourse(courseID))\n      unenrolledStudents = _(members)\n        .map((userID) => @students.get(userID))\n        .filter((user) => not user.isEnrolled() or not user.prepaidIncludesCourse(courseID))\n        .value()\n      totalSpotsAvailable = _.reduce(prepaid.openSpots() for prepaid in availablePrepaids, (val, total) -> val + total) or 0\n\n      canAssignCourses = totalSpotsAvailable >= _.size(unenrolledStudents)\n      if not canAssignCourses\n        # These ones just matter for display\n        availableFullLicenses = @prepaids.filter((prepaid) -> prepaid.status() is 'available' and prepaid.get('type') is 'course')\n        numStudentsWithoutFullLicenses = _(members)\n          .map((userID) => @students.get(userID))\n          .filter((user) => user.prepaidType() isnt 'course' or not user.isEnrolled())\n          .size()\n        numFullLicensesAvailable = _.reduce(prepaid.openSpots() for prepaid in availableFullLicenses, (val, total) -> val + total) or 0\n        modal = new CoursesNotAssignedModal({\n          selected: members.length\n          numStudentsWithoutFullLicenses\n          numFullLicensesAvailable\n          courseID\n        })\n        @openModalView(modal)\n        error = new Error('Not enough licenses available')\n        error.handled = true\n        throw error\n\n      numberEnrolled = _.size(unenrolledStudents)\n      remainingSpots = totalSpotsAvailable - numberEnrolled\n\n      requests = []\n\n      for prepaid in availablePrepaids\n        for i in _.range(prepaid.openSpots())\n          break unless _.size(unenrolledStudents) > 0\n          user = unenrolledStudents.shift()\n          requests.push(prepaid.redeem(user))\n\n      @trigger 'begin-redeem-for-assign-course'\n      return $.when(requests...)\n\n    # Add the students to the course instances\n    .then =>\n      # refresh prepaids, since the racing multiple parallel redeem requests in the previous `then` probably did not\n      # end up returning the final result of all those requests together.\n      @prepaids.fetchByCreator(me.id)\n      @students.fetchForClassroom(@classroom, removeDeleted: true)\n\n      @trigger 'begin-assign-course'\n      if members.length\n        noty text: $.i18n.t('teacher.assigning_course'), layout: 'center', type: 'information', killer: true\n        return courseInstance.addMembers(members)\n\n    # Show a success/errror notification\n    .then =>\n      course = @courses.get(courseID)\n      lines = [\n        $.i18n.t('teacher.assigned_msg_1')\n          .replace('{{numberAssigned}}', members.length)\n          .replace('{{courseName}}', course.get('name'))\n      ]\n      if numberEnrolled > 0\n        lines.push(\n          $.i18n.t('teacher.assigned_msg_2')\n            .replace('{{numberEnrolled}}', numberEnrolled)\n        )\n        lines.push(\n          $.i18n.t('teacher.assigned_msg_3')\n          .replace('{{remainingSpots}}', remainingSpots)\n        )\n      noty text: lines.join('<br />'), layout: 'center', type: 'information', killer: true, timeout: 5000\n\n      # TODO: refresh existing student progress. student may have progress from outside current classroom, and the course may have been updated upon assignment\n      @calculateProgressAndLevels()\n      @classroom.fetch()\n\n    .catch (e) =>\n      # TODO: Use this handling for errors site-wide?\n      return if e.handled\n      throw e if e instanceof Error and not application.isProduction()\n      text = if e instanceof Error then 'Runtime error' else e.responseJSON?.message or e.message or $.i18n.t('loading_error.unknown')\n      noty { text, layout: 'center', type: 'error', killer: true, timeout: 5000 }\n\n  onClickSelectAll: (e) ->\n    e.preventDefault()\n    checkboxStates = _.clone @state.get('checkboxStates')\n    if _.all(checkboxStates)\n      for studentID of checkboxStates\n        checkboxStates[studentID] = false\n    else\n      for studentID of checkboxStates\n        checkboxStates[studentID] = true\n    @state.set { checkboxStates }\n\n  onClickStudentCheckbox: (e) ->\n    e.preventDefault()\n    checkbox = $(e.currentTarget).find('input')\n    studentID = checkbox.data('student-id')\n    checkboxStates = _.clone @state.get('checkboxStates')\n    checkboxStates[studentID] = not checkboxStates[studentID]\n    @state.set { checkboxStates }\n\n  calculateClassStats: ->\n    return {} unless @classroom.sessions?.loaded and @students.loaded\n    stats = {}\n\n    playtime = 0\n    total = 0\n    for session in @classroom.sessions.models\n      pt = session.get('playtime') or 0\n      playtime += pt\n      total += 1\n    stats.averagePlaytime = if playtime and total then moment.duration(playtime / total, \"seconds\").humanize() else 0\n    stats.totalPlaytime = if playtime then moment.duration(playtime, \"seconds\").humanize() else 0\n    # TODO: Humanize differently ('1 hour' instead of 'an hour')\n\n    levelIncludeMap = {}\n    language = @classroom.get('aceConfig')?.language\n    for level in @levels.models\n      levelIncludeMap[level.get('original')] = not level.get('practice') and (not language? or level.get('primerLanguage') isnt language)\n    completeSessions = @classroom.sessions.filter (s) -> s.get('state')?.complete and levelIncludeMap[s.get('level')?.original]\n    stats.averageLevelsComplete = if @students.size() then (_.size(completeSessions) / @students.size()).toFixed(1) else 'N/A'  # '\n    stats.totalLevelsComplete = _.size(completeSessions)\n\n    enrolledUsers = @students.filter (user) -> user.isEnrolled()\n    stats.enrolledUsers = _.size(enrolledUsers)\n\n    return stats\n\n  studentStatusString: (student) ->\n    status = student.prepaidStatus()\n    expires = student.get('coursePrepaid')?.endDate\n    string = switch status\n      when 'not-enrolled' then $.i18n.t('teacher.status_not_enrolled')\n      when 'enrolled' then (if expires then $.i18n.t('teacher.status_enrolled') else '-')\n      when 'expired' then $.i18n.t('teacher.status_expired')\n    return string.replace('{{date}}', moment(expires).utc().format('l'))\n","RootView = require 'views/core/RootView'\ntemplate = require 'templates/courses/teacher-classes-view'\nClassroom = require 'models/Classroom'\nClassrooms = require 'collections/Classrooms'\nCourses = require 'collections/Courses'\nCampaign = require 'models/Campaign'\nCampaigns = require 'collections/Campaigns'\nLevelSessions = require 'collections/LevelSessions'\nCourseInstance = require 'models/CourseInstance'\nCourseInstances = require 'collections/CourseInstances'\nClassroomSettingsModal = require 'views/courses/ClassroomSettingsModal'\nInviteToClassroomModal = require 'views/courses/InviteToClassroomModal'\nUser = require 'models/User'\nutils = require 'core/utils'\nhelper = require 'lib/coursesHelper'\n\nmodule.exports = class TeacherClassesView extends RootView\n  id: 'teacher-classes-view'\n  template: template\n  helper: helper\n\n  events:\n    'click .edit-classroom': 'onClickEditClassroom'\n    'click .archive-classroom': 'onClickArchiveClassroom'\n    'click .unarchive-classroom': 'onClickUnarchiveClassroom'\n    'click .add-students-btn': 'onClickAddStudentsButton'\n    'click .create-classroom-btn': 'onClickCreateClassroomButton'\n    'click .create-teacher-btn': 'onClickCreateTeacherButton'\n    'click .update-teacher-btn': 'onClickUpdateTeacherButton'\n    'click .view-class-btn': 'onClickViewClassButton'\n\n  getTitle: -> return $.i18n.t('teacher.my_classes')\n\n  initialize: (options) ->\n    super(options)\n    @classrooms = new Classrooms()\n    @classrooms.comparator = (a, b) -> b.id.localeCompare(a.id)\n    @classrooms.fetchMine()\n    @supermodel.trackCollection(@classrooms)\n    @listenTo @classrooms, 'sync', ->\n      for classroom in @classrooms.models\n        classroom.sessions = new LevelSessions()\n        jqxhrs = classroom.sessions.fetchForAllClassroomMembers(classroom)\n        if jqxhrs.length > 0\n          @supermodel.trackCollection(classroom.sessions)\n    window.tracker?.trackEvent 'Teachers Classes Loaded', category: 'Teachers', ['Mixpanel']\n\n    @courses = new Courses()\n    @courses.fetch()\n    @supermodel.trackCollection(@courses)\n\n    @courseInstances = new CourseInstances()\n    @courseInstances.fetchByOwner(me.id)\n    @supermodel.trackCollection(@courseInstances)\n    @progressDotTemplate = require 'templates/teachers/hovers/progress-dot-whole-course'\n\n    # Level Sessions loaded after onLoaded to prevent race condition in calculateDots\n\n  afterRender: ->\n    super()\n    $('.progress-dot').each (i, el) ->\n      dot = $(el)\n      dot.tooltip({\n        html: true\n        container: dot\n      })\n\n  onLoaded: ->\n    helper.calculateDots(@classrooms, @courses, @courseInstances)\n    super()\n\n  onClickEditClassroom: (e) ->\n    classroomID = $(e.target).data('classroom-id')\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Teachers', classroomID: classroomID, ['Mixpanel']\n    classroom = @classrooms.get(classroomID)\n    modal = new ClassroomSettingsModal({ classroom: classroom })\n    @openModalView(modal)\n    @listenToOnce modal, 'hide', @render\n\n  onClickCreateClassroomButton: (e) ->\n    window.tracker?.trackEvent 'Teachers Classes Create New Class Started', category: 'Teachers', ['Mixpanel']\n    classroom = new Classroom({ ownerID: me.id })\n    modal = new ClassroomSettingsModal({ classroom: classroom })\n    @openModalView(modal)\n    @listenToOnce modal.classroom, 'sync', ->\n      window.tracker?.trackEvent 'Teachers Classes Create New Class Finished', category: 'Teachers', ['Mixpanel']\n      @classrooms.add(modal.classroom)\n      @addFreeCourseInstances()\n      @render()\n\n  onClickCreateTeacherButton: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Teachers', ['Mixpanel']\n    application.router.navigate(\"/teachers/signup\", { trigger: true })\n\n  onClickUpdateTeacherButton: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Teachers', ['Mixpanel']\n    application.router.navigate(\"/teachers/update-account\", { trigger: true })\n\n  onClickAddStudentsButton: (e) ->\n    window.tracker?.trackEvent 'Teachers Classes Add Students Started', category: 'Teachers', ['Mixpanel']\n    classroomID = $(e.currentTarget).data('classroom-id')\n    classroom = @classrooms.get(classroomID)\n    modal = new InviteToClassroomModal({ classroom: classroom })\n    @openModalView(modal)\n    @listenToOnce modal, 'hide', @render\n\n  onClickArchiveClassroom: (e) ->\n    classroomID = $(e.currentTarget).data('classroom-id')\n    classroom = @classrooms.get(classroomID)\n    classroom.set('archived', true)\n    classroom.save {}, {\n      success: =>\n        window.tracker?.trackEvent 'Teachers Classes Archived Class', category: 'Teachers', ['Mixpanel']\n        @render()\n    }\n\n  onClickUnarchiveClassroom: (e) ->\n    classroomID = $(e.currentTarget).data('classroom-id')\n    classroom = @classrooms.get(classroomID)\n    classroom.set('archived', false)\n    classroom.save {}, {\n      success: =>\n        window.tracker?.trackEvent 'Teachers Classes Unarchived Class', category: 'Teachers', ['Mixpanel']\n        @render()\n    }\n\n  onClickViewClassButton: (e) ->\n    classroomID = $(e.target).data('classroom-id')\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Teachers', classroomID: classroomID, ['Mixpanel']\n    application.router.navigate(\"/teachers/classes/#{classroomID}\", { trigger: true })\n\n  addFreeCourseInstances: ->\n    # so that when students join the classroom, they can automatically get free courses\n    # non-free courses are generated when the teacher first adds a student to them\n    for classroom in @classrooms.models\n      for course in @courses.models\n        continue if not course.get('free')\n        courseInstance = @courseInstances.findWhere({classroomID: classroom.id, courseID: course.id})\n        if not courseInstance\n          courseInstance = new CourseInstance({\n            classroomID: classroom.id\n            courseID: course.id\n          })\n          # TODO: figure out a better way to get around triggering validation errors for properties\n          # that the server will end up filling in, like an empty members array, ownerID\n          courseInstance.save(null, {validate: false})\n          @courseInstances.add(courseInstance)\n          @listenToOnce courseInstance, 'sync', @addFreeCourseInstances\n          return\n","app = require 'core/application'\nCocoCollection = require 'collections/CocoCollection'\nCocoModel = require 'models/CocoModel'\nCourses = require 'collections/Courses'\nCampaigns = require 'collections/Campaigns'\nClassroom = require 'models/Classroom'\nClassrooms = require 'collections/Classrooms'\nUser = require 'models/User'\nCourseInstance = require 'models/CourseInstance'\nRootView = require 'views/core/RootView'\ntemplate = require 'templates/courses/teacher-courses-view'\nHeroSelectModal = require 'views/courses/HeroSelectModal'\n\nmodule.exports = class TeacherCoursesView extends RootView\n  id: 'teacher-courses-view'\n  template: template\n\n  events:\n    'click .guide-btn': 'onClickGuideButton'\n    'click .play-level-button': 'onClickPlayLevel'\n\n  getTitle: -> return $.i18n.t('teacher.courses')\n\n  initialize: (options) ->\n    super(options)\n    @utils = require 'core/utils'\n    @ownedClassrooms = new Classrooms()\n    @ownedClassrooms.fetchMine({data: {project: '_id'}})\n    @supermodel.trackCollection(@ownedClassrooms)\n    @courses = new Courses()\n    if me.isAdmin()\n      @supermodel.trackRequest @courses.fetch()\n    else\n      @supermodel.trackRequest @courses.fetchReleased()\n    @campaigns = new Campaigns()\n    @supermodel.trackRequest @campaigns.fetchByType('course', { data: { project: 'levels,levelsUpdated' } })\n    window.tracker?.trackEvent 'Classes Guides Loaded', category: 'Teachers', ['Mixpanel']\n\n  onClickGuideButton: (e) ->\n    courseID = $(e.currentTarget).data('course-id')\n    courseName = $(e.currentTarget).data('course-name')\n    eventAction = $(e.currentTarget).data('event-action')\n    window.tracker?.trackEvent eventAction, category: 'Teachers', courseID: courseID, courseName: courseName, ['Mixpanel']\n\n  onClickPlayLevel: (e) ->\n    form = $(e.currentTarget).closest('.play-level-form')\n    levelSlug = form.find('.level-select').val()\n    courseID = form.data('course-id')\n    language = form.find('.language-select').val() or 'javascript'\n    window.tracker?.trackEvent 'Classes Guides Play Level', category: 'Teachers', courseID: courseID, language: language, levelSlug: levelSlug, ['Mixpanel']\n    url = \"/play/level/#{levelSlug}?course=#{courseID}&codeLanguage=#{language}\"\n    firstLevelSlug = @campaigns.get(@courses.at(0).get('campaignID')).getLevels().at(0).get('slug')\n    if levelSlug is firstLevelSlug\n      @listenToOnce @openModalView(new HeroSelectModal()),\n        'hidden': ->\n          application.router.navigate(url, { trigger: true })\n    else\n      application.router.navigate(url, { trigger: true })\n"]}