{"version":3,"sources":["app/lib/world/script_event_prereqs.coffee"],"names":[],"mappings":";AAAA;;AAAC,eAAgB,QAAQ,eAAR,EAAhB;;AAED,MAAM,CAAC,OAAO,CAAC,yBAAf,GAA2C,4BAA4B,SAAC,MAAD,EAAS,KAAT;AACrE;EAAA,KAAmB,MAAM,CAAC,YAA1B;AAAA,WAAO,KAAP;;AACA;AAAA;;IACE,IAAI,aAAa,KAAb,EAAoB,EAAE,CAAC,UAAvB;IACJ,IAAgB,wBAAgB,MAAO,EAAE,CAAC,OAA1C;AAAA,aAAO,MAAP;;IACA,IAAgB,2BAAmB,MAAK,EAAE,CAAC,UAA3C;AAAA,aAAO,MAAP;;IACA,IAAgB,4BAAoB,CAAI,CAAC,IAAI,EAAE,CAAC,WAAR,CAAxC;AAAA,aAAO,MAAP;;IACA,IAAgB,qCAA6B,CAAI,CAAC,KAAK,EAAE,CAAC,oBAAT,CAAjD;AAAA,aAAO,MAAP;;IACA,IAAgB,yBAAiB,CAAI,CAAC,IAAI,EAAE,CAAC,QAAR,CAArC;AAAA,aAAO,MAAP;;IACA,IAAgB,kCAA0B,CAAI,CAAC,KAAK,EAAE,CAAC,iBAAT,CAA9C;AAAA,aAAO,MAAP;;IACA,IAAgB,iCAAyB,CAAC,CAAI,CAAJ,IAAS,CAAC,CAAC,MAAF,CAAS,EAAE,CAAC,gBAAZ,MAAiC,CAAC,CAA5C,CAAzC;AAAA,aAAO,MAAP;;IACA,IAAgB,iDAA4B,CAAC,CAAE,MAAH,CAAU,EAAE,CAAC,mBAAb,gBAAuC,CAAC,CAApF;AAAA,aAAO,MAAP;;IACA,IAAgB,iCAAyB,CAAC,CAAI,CAAJ,IAAS,CAAC,CAAC,MAAF,CAAa,WAAO,EAAE,CAAC,gBAAV,CAAb,MAA6C,CAAC,CAAxD,CAAzC;AAAA,aAAO,MAAP;;IACA,IAAgB,iDAA4B,CAAC,CAAE,MAAH,CAAc,WAAO,EAAE,CAAC,mBAAV,CAAd,gBAAmD,CAAC,CAAhG;AAAA,aAAO,MAAP;;AAXF;AAaA,SAAO;AAf8D","file":"public/javascripts/app/lib/world/script_event_prereqs.js","sourcesContent":["{downTheChain} = require './world_utils'\n\nmodule.exports.scriptMatchesEventPrereqs = scriptMatchesEventPrereqs = (script, event) ->\n  return true unless script.eventPrereqs\n  for ap in script.eventPrereqs\n    v = downTheChain(event, ap.eventProps)\n    return false if ap.equalTo? and v isnt ap.equalTo\n    return false if ap.notEqualTo? and v is ap.notEqualTo\n    return false if ap.greaterThan? and not (v > ap.greaterThan)\n    return false if ap.greaterThanOrEqualTo? and not (v >= ap.greaterThanOrEqualTo)\n    return false if ap.lessThan? and not (v < ap.lessThan)\n    return false if ap.lessThanOrEqualTo? and not (v <= ap.lessThanOrEqualTo)\n    return false if ap.containingString? and (not v or v.search(ap.containingString) is -1)\n    return false if ap.notContainingString? and v?.search(ap.notContainingString) isnt -1\n    return false if ap.containingRegexp? and (not v or v.search(new RegExp(ap.containingRegexp)) is -1)\n    return false if ap.notContainingRegexp? and v?.search(new RegExp(ap.notContainingRegexp)) isnt -1\n\n  return true\n"]}